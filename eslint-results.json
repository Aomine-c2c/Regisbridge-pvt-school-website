[{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\jest.config.cjs","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":18,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":38},{"ruleId":"no-undef","severity":2,"message":"'require' is not defined.","line":1,"column":18,"nodeType":"Identifier","messageId":"undef","endLine":1,"endColumn":25},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":4,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":4,"endColumn":8},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":5,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":5,"endColumn":8},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":6,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":6,"endColumn":8},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":7,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":7,"endColumn":8},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":8,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":8,"endColumn":8},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":9,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":9,"endColumn":8},{"ruleId":"no-undef","severity":2,"message":"'module' is not defined.","line":56,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":56,"endColumn":7}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const nextJest = require('next/jest')\r\n\r\n// Set test environment variables before creating Jest config\r\nprocess.env.JWT_SECRET = 'test-secret-key'\r\nprocess.env.JWT_REFRESH_SECRET = 'test-refresh-secret-key'\r\nprocess.env.SENDGRID_API_KEY = 'test-sendgrid-key'\r\nprocess.env.STATSIG_SDK_KEY = 'test-statsig-key'\r\nprocess.env.DATABASE_URL = 'postgresql://testuser:testpass@localhost:5432/testdb'\r\nprocess.env.NODE_ENV = 'test'\r\n\r\n/** @type {import('jest').Config} */\r\nconst createJestConfig = nextJest({\r\n  // Provide the path to your Next.js app to load next.config.js and .env files in your test environment\r\n  dir: './',\r\n})\r\n\r\n// Add any custom config to be passed to Jest\r\nconst config = {\r\n  coverageProvider: 'v8',\r\n  testEnvironment: 'jsdom',\r\n  // Load polyfills in each test worker before setupFilesAfterEnv\r\n  setupFiles: ['<rootDir>/jest.polyfills.js'],\r\n  // Add more setup options before each test is run\r\n  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],\r\n  moduleNameMapper: {\r\n    '^@/(.*)$': '<rootDir>/src/$1',\r\n  },\r\n  collectCoverageFrom: [\r\n    'src/**/*.{js,jsx,ts,tsx}',\r\n    '!src/**/*.d.ts',\r\n    '!src/**/*.stories.{js,jsx,ts,tsx}',\r\n    '!src/**/__tests__/**',\r\n    '!src/app/layout.tsx',\r\n    '!src/main.tsx',\r\n  ],\r\n  coverageThreshold: {\r\n    global: {\r\n      branches: 70,\r\n      functions: 70,\r\n      lines: 70,\r\n      statements: 70,\r\n    },\r\n  },\r\n  testMatch: [\r\n    '**/__tests__/**/*.[jt]s?(x)',\r\n    '**/?(*.)+(spec|test).[jt]s?(x)',\r\n  ],\r\n  testPathIgnorePatterns: [\r\n    '/node_modules/',\r\n    '/.next/',\r\n    '/dist/',\r\n  ],\r\n}\r\n\r\n// createJestConfig is exported this way to ensure that next/jest can load the Next.js config which is async\r\nmodule.exports = createJestConfig(config)\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\jest.globalSetup.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":7,"column":61,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":78},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":15,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":15,"endColumn":16,"suggestions":[{"fix":{"range":[448,504],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":17,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":17,"endColumn":18,"suggestions":[{"fix":{"range":[529,592],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Global setup runs once before all test suites\r\n// This is the earliest place to add fetch API polyfills\r\n\r\nmodule.exports = async () => {\r\n  // Load undici and set up global fetch API\r\n  try {\r\n    const { Request, Response, Headers, FormData, fetch } = require('undici');\r\n    \r\n    global.Request = Request;\r\n    global.Response = Response;\r\n    global.Headers = Headers;\r\n    global.FormData = FormData;\r\n    global.fetch = fetch;\r\n    \r\n    console.log('âœ“ Undici fetch polyfills loaded globally');\r\n  } catch (err) {\r\n    console.error('Failed to load undici polyfills:', err.message);\r\n  }\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\jest.polyfills.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":5,"column":59,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":76},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":12,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":13}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// This runs in each test worker BEFORE setupFilesAfterEnv\r\n// Load undici fetch polyfills for Node test environment\r\n\r\ntry {\r\n  const { Request, Response, Headers, FormData, fetch } = require('undici');\r\n  \r\n  globalThis.Request = Request;\r\n  globalThis.Response = Response;\r\n  globalThis.Headers = Headers;\r\n  globalThis.FormData = FormData;\r\n  globalThis.fetch = fetch;\r\n} catch (err) {\r\n  // Fail silently - tests will fail with more specific errors if fetch is truly needed\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\jest.setup.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":18,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":63},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":4,"column":38,"nodeType":"Identifier","messageId":"undef","endLine":4,"endColumn":44},{"ruleId":"no-undef","severity":2,"message":"'expect' is not defined.","line":5,"column":3,"nodeType":"Identifier","messageId":"undef","endLine":5,"endColumn":9},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":33,"column":11,"nodeType":"BlockStatement","messageId":"unexpected","endLine":33,"endColumn":13,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[1422,1422],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":37,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":37,"endColumn":5},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":38,"column":14,"nodeType":"Identifier","messageId":"undef","endLine":38,"endColumn":18},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":39,"column":11,"nodeType":"Identifier","messageId":"undef","endLine":39,"endColumn":15},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":40,"column":14,"nodeType":"Identifier","messageId":"undef","endLine":40,"endColumn":18},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":41,"column":15,"nodeType":"Identifier","messageId":"undef","endLine":41,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":42,"column":11,"nodeType":"Identifier","messageId":"undef","endLine":42,"endColumn":15},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":44,"column":16,"nodeType":"Identifier","messageId":"undef","endLine":44,"endColumn":20},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":45,"column":20,"nodeType":"Identifier","messageId":"undef","endLine":45,"endColumn":24},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":46,"column":13,"nodeType":"Identifier","messageId":"undef","endLine":46,"endColumn":17},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":50,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":50,"endColumn":5},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":51,"column":12,"nodeType":"Identifier","messageId":"undef","endLine":51,"endColumn":16},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":52,"column":10,"nodeType":"Identifier","messageId":"undef","endLine":52,"endColumn":14},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":53,"column":10,"nodeType":"Identifier","messageId":"undef","endLine":53,"endColumn":14},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":54,"column":13,"nodeType":"Identifier","messageId":"undef","endLine":54,"endColumn":17},{"ruleId":"no-undef","severity":2,"message":"'jest' is not defined.","line":56,"column":12,"nodeType":"Identifier","messageId":"undef","endLine":56,"endColumn":16},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":60,"column":23,"nodeType":"MemberExpression","messageId":"unexpected","endLine":60,"endColumn":36},{"ruleId":"no-undef","severity":2,"message":"'beforeAll' is not defined.","line":61,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":61,"endColumn":10},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":62,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":62,"endColumn":16},{"ruleId":"no-undef","severity":2,"message":"'afterAll' is not defined.","line":73,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":73,"endColumn":9},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":74,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":74,"endColumn":16}],"suppressedMessages":[],"errorCount":21,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Learn more: https://github.com/testing-library/jest-dom\r\n// In v6+ of @testing-library/jest-dom, importing extends expect automatically\r\nconst matchers = require('@testing-library/jest-dom/matchers')\r\nif (typeof expect !== 'undefined' && expect.extend) {\r\n  expect.extend(matchers)\r\n}\r\n\r\n// Note: Environment variables are now set in jest.config.cjs to avoid parsing issues\r\n\r\n// Lightweight WHATWG Fetch API polyfills for tests that rely on Request/Response/Headers\r\n// Only add minimal shims if truly missing (Node 18+ and Next.js usually provide these)\r\n(() => {\r\n  try {\r\n    const g = globalThis;\r\n    const w = typeof window !== 'undefined' ? window : undefined;\r\n\r\n    // Headers - use existing if available\r\n    if (typeof g.Headers === 'undefined' && w && w.Headers) {\r\n      g.Headers = w.Headers;\r\n    }\r\n    // Only add minimal shim if still truly missing (rare in modern environments)\r\n    if (typeof g.Headers === 'undefined') {\r\n      g.Headers = class HeadersShim {\r\n        constructor(init) { this.map = new Map(Object.entries(init || {})); }\r\n        get(k) { return this.map.get(String(k).toLowerCase()); }\r\n        set(k, v) { this.map.set(String(k).toLowerCase(), String(v)); }\r\n        append(k, v) { this.set(k, v); }\r\n        has(k) { return this.map.has(String(k).toLowerCase()); }\r\n      };\r\n    }\r\n\r\n    // Note: undici polyfills are now loaded at top of file before any imports\r\n  } catch {}\r\n})();\r\n\r\n// Mock Next.js navigation\r\njest.mock('next/navigation', () => ({\r\n  useRouter: jest.fn(() => ({\r\n    push: jest.fn(),\r\n    replace: jest.fn(),\r\n    prefetch: jest.fn(),\r\n    back: jest.fn(),\r\n  })),\r\n  usePathname: jest.fn(() => '/'),\r\n  useSearchParams: jest.fn(() => new URLSearchParams()),\r\n  redirect: jest.fn(),\r\n}))\r\n\r\n// Mock Next.js headers\r\njest.mock('next/headers', () => ({\r\n  cookies: jest.fn(() => ({\r\n    get: jest.fn(),\r\n    set: jest.fn(),\r\n    delete: jest.fn(),\r\n  })),\r\n  headers: jest.fn(() => new Map()),\r\n}))\r\n\r\n// Suppress console errors during tests (optional)\r\nconst originalError = console.error\r\nbeforeAll(() => {\r\n  console.error = (...args) => {\r\n    if (\r\n      typeof args[0] === 'string' &&\r\n      args[0].includes('Warning: ReactDOM.render')\r\n    ) {\r\n      return\r\n    }\r\n    originalError.call(console, ...args)\r\n  }\r\n})\r\n\r\nafterAll(() => {\r\n  console.error = originalError\r\n})\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\media\\static\\Downloads\\Compressed\\tailadmin-free-tailwind-dashboard-template-main\\tailadmin-free-tailwind-dashboard-template-main\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\media\\static\\Downloads\\Compressed\\tailadmin-free-tailwind-dashboard-template-main\\tailadmin-free-tailwind-dashboard-template-main\\src\\js\\components\\calendar-init.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\media\\static\\Downloads\\Compressed\\tailadmin-free-tailwind-dashboard-template-main\\tailadmin-free-tailwind-dashboard-template-main\\src\\js\\components\\charts\\chart-01.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\media\\static\\Downloads\\Compressed\\tailadmin-free-tailwind-dashboard-template-main\\tailadmin-free-tailwind-dashboard-template-main\\src\\js\\components\\charts\\chart-02.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\media\\static\\Downloads\\Compressed\\tailadmin-free-tailwind-dashboard-template-main\\tailadmin-free-tailwind-dashboard-template-main\\src\\js\\components\\charts\\chart-03.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\media\\static\\Downloads\\Compressed\\tailadmin-free-tailwind-dashboard-template-main\\tailadmin-free-tailwind-dashboard-template-main\\src\\js\\components\\image-resize.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":2,"message":"Expected an assignment or function call and instead saw an expression.","line":7,"column":3,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":7,"endColumn":18},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":10,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":10,"endColumn":21,"fix":{"range":[289,292],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":11,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":11,"endColumn":22,"fix":{"range":[311,314],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":14,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":14,"endColumn":32,"fix":{"range":[353,356],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":15,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":15,"endColumn":19,"fix":{"range":[386,389],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":18,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":18,"endColumn":22,"fix":{"range":[442,445],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":19,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":19,"endColumn":56,"fix":{"range":[465,468],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":21,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":21,"endColumn":41,"fix":{"range":[524,527],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":23,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":23,"endColumn":18,"fix":{"range":[568,571],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":25,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":25,"endColumn":15,"fix":{"range":[589,592],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":27,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":27,"endColumn":22,"fix":{"range":[607,610],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":29,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":29,"endColumn":46,"fix":{"range":[632,635],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":30,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":30,"endColumn":56,"fix":{"range":[679,682],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":81,"column":5,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":81,"endColumn":77,"fix":{"range":[2011,2014],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":117,"column":3,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":117,"endColumn":9,"fix":{"range":[2916,2919],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":140,"column":9,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":143,"endColumn":11,"fix":{"range":[3383,3386],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":151,"column":9,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":154,"endColumn":11,"fix":{"range":[3693,3696],"text":"let"}},{"ruleId":"no-var","severity":2,"message":"Unexpected var, use let or const instead.","line":251,"column":7,"nodeType":"VariableDeclaration","messageId":"unexpectedVar","endLine":254,"endColumn":9,"fix":{"range":[6540,6543],"text":"let"}}],"suppressedMessages":[],"errorCount":18,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":17,"fixableWarningCount":0,"source":"/*\r\n * @author https://twitter.com/blurspline / https://github.com/zz85\r\n * See post @ http://www.lab4games.net/zz85/blog/2014/11/15/resizing-moving-snapping-windows-with-js-css/\r\n */\r\n\r\nif (document.querySelectorAll(\"#pane\").length) {\r\n  (\"use strict\");\r\n\r\n  // Minimum resizable area\r\n  var minWidth = 60;\r\n  var minHeight = 40;\r\n\r\n  // Thresholds\r\n  var FULLSCREEN_MARGINS = -10;\r\n  var MARGINS = 4;\r\n\r\n  // End of what's configurable.\r\n  var clicked = null;\r\n  var onRightEdge, onBottomEdge, onLeftEdge, onTopEdge;\r\n\r\n  var rightScreenEdge, bottomScreenEdge;\r\n\r\n  var preSnapped;\r\n\r\n  var b, x, y;\r\n\r\n  var redraw = false;\r\n\r\n  var pane = document.getElementById(\"pane\");\r\n  var ghostpane = document.getElementById(\"ghostpane\");\r\n\r\n  function setBounds(element, x, y, w, h) {\r\n    element.style.left = x + \"px\";\r\n    element.style.top = y + \"px\";\r\n    element.style.width = w + \"px\";\r\n    element.style.height = h + \"px\";\r\n  }\r\n\r\n  function hintHide() {\r\n    setBounds(ghostpane, b.left, b.top, b.width, b.height);\r\n    ghostpane.style.opacity = 0;\r\n\r\n    // var b = ghostpane.getBoundingClientRect();\r\n    // ghostpane.style.top = b.top + b.height / 2;\r\n    // ghostpane.style.left = b.left + b.width / 2;\r\n    // ghostpane.style.width = 0;\r\n    // ghostpane.style.height = 0;\r\n  }\r\n\r\n  // Mouse events\r\n  pane.addEventListener(\"mousedown\", onMouseDown);\r\n  document.addEventListener(\"mousemove\", onMove);\r\n  document.addEventListener(\"mouseup\", onUp);\r\n\r\n  // Touch events\r\n  pane.addEventListener(\"touchstart\", onTouchDown);\r\n  document.addEventListener(\"touchmove\", onTouchMove);\r\n  document.addEventListener(\"touchend\", onTouchEnd);\r\n\r\n  function onTouchDown(e) {\r\n    onDown(e.touches[0]);\r\n    e.preventDefault();\r\n  }\r\n\r\n  function onTouchMove(e) {\r\n    onMove(e.touches[0]);\r\n  }\r\n\r\n  function onTouchEnd(e) {\r\n    if (e.touches.length == 0) onUp(e.changedTouches[0]);\r\n  }\r\n\r\n  function onMouseDown(e) {\r\n    onDown(e);\r\n    e.preventDefault();\r\n  }\r\n\r\n  function onDown(e) {\r\n    calc(e);\r\n\r\n    var isResizing = onRightEdge || onBottomEdge || onTopEdge || onLeftEdge;\r\n\r\n    clicked = {\r\n      x: x,\r\n      y: y,\r\n      cx: e.clientX,\r\n      cy: e.clientY,\r\n      w: b.width,\r\n      h: b.height,\r\n      isResizing: isResizing,\r\n      isMoving: !isResizing && canMove(),\r\n      onTopEdge: onTopEdge,\r\n      onLeftEdge: onLeftEdge,\r\n      onRightEdge: onRightEdge,\r\n      onBottomEdge: onBottomEdge,\r\n    };\r\n  }\r\n\r\n  function canMove() {\r\n    return x > 0 && x < b.width && y > 0 && y < b.height && y < 30;\r\n  }\r\n\r\n  function calc(e) {\r\n    b = pane.getBoundingClientRect();\r\n    x = e.clientX - b.left;\r\n    y = e.clientY - b.top;\r\n\r\n    onTopEdge = y < MARGINS;\r\n    onLeftEdge = x < MARGINS;\r\n    onRightEdge = x >= b.width - MARGINS;\r\n    onBottomEdge = y >= b.height - MARGINS;\r\n\r\n    rightScreenEdge = window.innerWidth - MARGINS;\r\n    bottomScreenEdge = window.innerHeight - MARGINS;\r\n  }\r\n\r\n  var e;\r\n\r\n  function onMove(ee) {\r\n    calc(ee);\r\n\r\n    e = ee;\r\n\r\n    redraw = true;\r\n  }\r\n\r\n  function animate() {\r\n    requestAnimationFrame(animate);\r\n\r\n    if (!redraw) return;\r\n\r\n    redraw = false;\r\n\r\n    if (clicked && clicked.isResizing) {\r\n      if (clicked.onRightEdge) pane.style.width = Math.max(x, minWidth) + \"px\";\r\n      if (clicked.onBottomEdge)\r\n        pane.style.height = Math.max(y, minHeight) + \"px\";\r\n\r\n      if (clicked.onLeftEdge) {\r\n        var currentWidth = Math.max(\r\n          clicked.cx - e.clientX + clicked.w,\r\n          minWidth,\r\n        );\r\n        if (currentWidth > minWidth) {\r\n          pane.style.width = currentWidth + \"px\";\r\n          pane.style.left = e.clientX + \"px\";\r\n        }\r\n      }\r\n\r\n      if (clicked.onTopEdge) {\r\n        var currentHeight = Math.max(\r\n          clicked.cy - e.clientY + clicked.h,\r\n          minHeight,\r\n        );\r\n        if (currentHeight > minHeight) {\r\n          pane.style.height = currentHeight + \"px\";\r\n          pane.style.top = e.clientY + \"px\";\r\n        }\r\n      }\r\n\r\n      hintHide();\r\n\r\n      return;\r\n    }\r\n\r\n    if (clicked && clicked.isMoving) {\r\n      if (\r\n        b.top < FULLSCREEN_MARGINS ||\r\n        b.left < FULLSCREEN_MARGINS ||\r\n        b.right > window.innerWidth - FULLSCREEN_MARGINS ||\r\n        b.bottom > window.innerHeight - FULLSCREEN_MARGINS\r\n      ) {\r\n        // hintFull();\r\n        setBounds(ghostpane, 0, 0, window.innerWidth, window.innerHeight);\r\n        ghostpane.style.opacity = 0.2;\r\n      } else if (b.top < MARGINS) {\r\n        // hintTop();\r\n        setBounds(ghostpane, 0, 0, window.innerWidth, window.innerHeight / 2);\r\n        ghostpane.style.opacity = 0.2;\r\n      } else if (b.left < MARGINS) {\r\n        // hintLeft();\r\n        setBounds(ghostpane, 0, 0, window.innerWidth / 2, window.innerHeight);\r\n        ghostpane.style.opacity = 0.2;\r\n      } else if (b.right > rightScreenEdge) {\r\n        // hintRight();\r\n        setBounds(\r\n          ghostpane,\r\n          window.innerWidth / 2,\r\n          0,\r\n          window.innerWidth / 2,\r\n          window.innerHeight,\r\n        );\r\n        ghostpane.style.opacity = 0.2;\r\n      } else if (b.bottom > bottomScreenEdge) {\r\n        // hintBottom();\r\n        setBounds(\r\n          ghostpane,\r\n          0,\r\n          window.innerHeight / 2,\r\n          window.innerWidth,\r\n          window.innerWidth / 2,\r\n        );\r\n        ghostpane.style.opacity = 0.2;\r\n      } else {\r\n        hintHide();\r\n      }\r\n\r\n      if (preSnapped) {\r\n        setBounds(\r\n          pane,\r\n          e.clientX - preSnapped.width / 2,\r\n          e.clientY - Math.min(clicked.y, preSnapped.height),\r\n          preSnapped.width,\r\n          preSnapped.height,\r\n        );\r\n        return;\r\n      }\r\n\r\n      // moving\r\n      pane.style.top = e.clientY - clicked.y + \"px\";\r\n      pane.style.left = e.clientX - clicked.x + \"px\";\r\n\r\n      return;\r\n    }\r\n\r\n    // This code executes when mouse moves without clicking\r\n\r\n    // style cursor\r\n    if ((onRightEdge && onBottomEdge) || (onLeftEdge && onTopEdge)) {\r\n      pane.style.cursor = \"nwse-resize\";\r\n    } else if ((onRightEdge && onTopEdge) || (onBottomEdge && onLeftEdge)) {\r\n      pane.style.cursor = \"nesw-resize\";\r\n    } else if (onRightEdge || onLeftEdge) {\r\n      pane.style.cursor = \"ew-resize\";\r\n    } else if (onBottomEdge || onTopEdge) {\r\n      pane.style.cursor = \"ns-resize\";\r\n    } else if (canMove()) {\r\n      pane.style.cursor = \"move\";\r\n    } else {\r\n      pane.style.cursor = \"default\";\r\n    }\r\n  }\r\n\r\n  animate();\r\n\r\n  function onUp(e) {\r\n    calc(e);\r\n\r\n    if (clicked && clicked.isMoving) {\r\n      // Snap\r\n      var snapped = {\r\n        width: b.width,\r\n        height: b.height,\r\n      };\r\n\r\n      if (\r\n        b.top < FULLSCREEN_MARGINS ||\r\n        b.left < FULLSCREEN_MARGINS ||\r\n        b.right > window.innerWidth - FULLSCREEN_MARGINS ||\r\n        b.bottom > window.innerHeight - FULLSCREEN_MARGINS\r\n      ) {\r\n        // hintFull();\r\n        setBounds(pane, 0, 0, window.innerWidth, window.innerHeight);\r\n        preSnapped = snapped;\r\n      } else if (b.top < MARGINS) {\r\n        // hintTop();\r\n        setBounds(pane, 0, 0, window.innerWidth, window.innerHeight / 2);\r\n        preSnapped = snapped;\r\n      } else if (b.left < MARGINS) {\r\n        // hintLeft();\r\n        setBounds(pane, 0, 0, window.innerWidth / 2, window.innerHeight);\r\n        preSnapped = snapped;\r\n      } else if (b.right > rightScreenEdge) {\r\n        // hintRight();\r\n        setBounds(\r\n          pane,\r\n          window.innerWidth / 2,\r\n          0,\r\n          window.innerWidth / 2,\r\n          window.innerHeight,\r\n        );\r\n        preSnapped = snapped;\r\n      } else if (b.bottom > bottomScreenEdge) {\r\n        // hintBottom();\r\n        setBounds(\r\n          pane,\r\n          0,\r\n          window.innerHeight / 2,\r\n          window.innerWidth,\r\n          window.innerWidth / 2,\r\n        );\r\n        preSnapped = snapped;\r\n      } else {\r\n        preSnapped = null;\r\n      }\r\n\r\n      hintHide();\r\n    }\r\n\r\n    clicked = null;\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\media\\static\\Downloads\\Compressed\\tailadmin-free-tailwind-dashboard-template-main\\tailadmin-free-tailwind-dashboard-template-main\\src\\js\\components\\map-01.js","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mapOne' is assigned a value but never used.","line":8,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import jsVectorMap from \"jsvectormap\";\r\nimport \"jsvectormap/dist/maps/world\";\r\n\r\nconst map01 = () => {\r\n  const mapSelectorOne = document.querySelectorAll(\"#mapOne\");\r\n\r\n  if (mapSelectorOne.length) {\r\n    const mapOne = new jsVectorMap({\r\n      selector: \"#mapOne\",\r\n      map: \"world\",\r\n      zoomButtons: false,\r\n\r\n      regionStyle: {\r\n        initial: {\r\n          fontFamily: \"Outfit\",\r\n          fill: \"#D9D9D9\",\r\n        },\r\n        hover: {\r\n          fillOpacity: 1,\r\n          fill: \"#465fff\",\r\n        },\r\n      },\r\n      markers: [\r\n        {\r\n          name: \"Egypt\",\r\n          coords: [26.8206, 30.8025],\r\n        },\r\n        {\r\n          name: \"United Kingdom\",\r\n          coords: [55.3781, 3.436],\r\n        },\r\n        {\r\n          name: \"United States\",\r\n          coords: [37.0902, -95.7129],\r\n        },\r\n      ],\r\n\r\n      markerStyle: {\r\n        initial: {\r\n          strokeWidth: 1,\r\n          fill: \"#465fff\",\r\n          fillOpacity: 1,\r\n          r: 4,\r\n        },\r\n        hover: {\r\n          fill: \"#465fff\",\r\n          fillOpacity: 1,\r\n        },\r\n        selected: {},\r\n        selectedHover: {},\r\n      },\r\n\r\n      onRegionTooltipShow: function (tooltip, code) {\r\n        if (code === \"EG\") {\r\n          tooltip.selector.innerHTML =\r\n            tooltip.text() + \" <b>(Hello Russia)</b>\";\r\n        }\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport default map01;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\media\\static\\Downloads\\Compressed\\tailadmin-free-tailwind-dashboard-template-main\\tailadmin-free-tailwind-dashboard-template-main\\src\\js\\index.js","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'no-param-reassign').","line":34,"column":5,"severity":1,"nodeType":null,"fix":{"range":[1450,1495],"text":" "}},{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'no-param-reassign').","line":40,"column":5,"severity":1,"nodeType":null,"fix":{"range":[1748,1793],"text":" "}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'myDropzone' is assigned a value but never used.","line":49,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":49,"endColumn":17},{"ruleId":"prefer-const","severity":2,"message":"'myDropzone' is never reassigned. Use 'const' instead.","line":49,"column":7,"nodeType":"Identifier","messageId":"useConst","endLine":49,"endColumn":17,"fix":{"range":[1981,2050],"text":"const myDropzone = new Dropzone(\"#demo-upload\", { url: \"/file/post\" });"}}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":1,"fixableWarningCount":2,"source":"import \"jsvectormap/dist/jsvectormap.min.css\";\r\nimport \"flatpickr/dist/flatpickr.min.css\";\r\nimport \"dropzone/dist/dropzone.css\";\r\nimport \"../css/style.css\";\r\n\r\nimport Alpine from \"alpinejs\";\r\nimport persist from \"@alpinejs/persist\";\r\nimport flatpickr from \"flatpickr\";\r\nimport Dropzone from \"dropzone\";\r\n\r\nimport chart01 from \"./components/charts/chart-01\";\r\nimport chart02 from \"./components/charts/chart-02\";\r\nimport chart03 from \"./components/charts/chart-03\";\r\nimport map01 from \"./components/map-01\";\r\nimport \"./components/calendar-init.js\";\r\nimport \"./components/image-resize\";\r\n\r\nAlpine.plugin(persist);\r\nwindow.Alpine = Alpine;\r\nAlpine.start();\r\n\r\n// Init flatpickr\r\nflatpickr(\".datepicker\", {\r\n  mode: \"range\",\r\n  static: true,\r\n  monthSelectorType: \"static\",\r\n  dateFormat: \"M j, Y\",\r\n  defaultDate: [new Date().setDate(new Date().getDate() - 6), new Date()],\r\n  prevArrow:\r\n    '<svg class=\"stroke-current\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.25 6L9 12.25L15.25 18.5\" stroke=\"\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>',\r\n  nextArrow:\r\n    '<svg class=\"stroke-current\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.75 19L15 12.75L8.75 6.5\" stroke=\"\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>',\r\n  onReady: (selectedDates, dateStr, instance) => {\r\n    // eslint-disable-next-line no-param-reassign\r\n    instance.element.value = dateStr.replace(\"to\", \"-\");\r\n    const customClass = instance.element.getAttribute(\"data-class\");\r\n    instance.calendarContainer.classList.add(customClass);\r\n  },\r\n  onChange: (selectedDates, dateStr, instance) => {\r\n    // eslint-disable-next-line no-param-reassign\r\n    instance.element.value = dateStr.replace(\"to\", \"-\");\r\n  },\r\n});\r\n\r\n// Init Dropzone\r\nconst dropzoneArea = document.querySelectorAll(\"#demo-upload\");\r\n\r\nif (dropzoneArea.length) {\r\n  let myDropzone = new Dropzone(\"#demo-upload\", { url: \"/file/post\" });\r\n}\r\n\r\n// Document Loaded\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  chart01();\r\n  chart02();\r\n  chart03();\r\n  map01();\r\n});\r\n\r\n// Get the current year\r\nconst year = document.getElementById(\"year\");\r\nif (year) {\r\n  year.textContent = new Date().getFullYear();\r\n}\r\n\r\n// For Copy//\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const copyInput = document.getElementById(\"copy-input\");\r\n  if (copyInput) {\r\n    // Select the copy button and input field\r\n    const copyButton = document.getElementById(\"copy-button\");\r\n    const copyText = document.getElementById(\"copy-text\");\r\n    const websiteInput = document.getElementById(\"website-input\");\r\n\r\n    // Event listener for the copy button\r\n    copyButton.addEventListener(\"click\", () => {\r\n      // Copy the input value to the clipboard\r\n      navigator.clipboard.writeText(websiteInput.value).then(() => {\r\n        // Change the text to \"Copied\"\r\n        copyText.textContent = \"Copied\";\r\n\r\n        // Reset the text back to \"Copy\" after 2 seconds\r\n        setTimeout(() => {\r\n          copyText.textContent = \"Copy\";\r\n        }, 2000);\r\n      });\r\n    });\r\n  }\r\n});\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  const searchInput = document.getElementById(\"search-input\");\r\n  const searchButton = document.getElementById(\"search-button\");\r\n\r\n  // Function to focus the search input\r\n  function focusSearchInput() {\r\n    searchInput.focus();\r\n  }\r\n\r\n  // Add click event listener to the search button\r\n  searchButton.addEventListener(\"click\", focusSearchInput);\r\n\r\n  // Add keyboard event listener for Cmd+K (Mac) or Ctrl+K (Windows/Linux)\r\n  document.addEventListener(\"keydown\", function (event) {\r\n    if ((event.metaKey || event.ctrlKey) && event.key === \"k\") {\r\n      event.preventDefault(); // Prevent the default browser behavior\r\n      focusSearchInput();\r\n    }\r\n  });\r\n\r\n  // Add keyboard event listener for \"/\" key\r\n  document.addEventListener(\"keydown\", function (event) {\r\n    if (event.key === \"/\" && document.activeElement !== searchInput) {\r\n      event.preventDefault(); // Prevent the \"/\" character from being typed\r\n      focusSearchInput();\r\n    }\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\media\\static\\Downloads\\Compressed\\tailadmin-free-tailwind-dashboard-template-main\\tailadmin-free-tailwind-dashboard-template-main\\webpack.config.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":57},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":30,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":64},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":73,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":73,"endColumn":42}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const path = require(\"path\");\r\nconst glob = require(\"glob\");\r\nconst HtmlWebpackPlugin = require(\"html-webpack-plugin\");\r\nconst MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");\r\n\r\nconst INCLUDE_PATTERN =\r\n  /<include\\s+src=[\"'](.+?)[\"']\\s*\\/?>\\s*(?:<\\/include>)?/gis;\r\n\r\nconst processNestedHtml = (content, loaderContext, dir = null) =>\r\n  !INCLUDE_PATTERN.test(content)\r\n    ? content\r\n    : content.replace(INCLUDE_PATTERN, (m, src) => {\r\n        const filePath = path.resolve(dir || loaderContext.context, src);\r\n        loaderContext.dependency(filePath);\r\n        return processNestedHtml(\r\n          loaderContext.fs.readFileSync(filePath, \"utf8\"),\r\n          loaderContext,\r\n          path.dirname(filePath),\r\n        );\r\n      });\r\n\r\n// HTML generation\r\nconst paths = [];\r\nconst generateHTMLPlugins = () =>\r\n  glob.sync(\"./src/*.html\").map((dir) => {\r\n    const filename = path.basename(dir);\r\n\r\n    if (filename !== \"404.html\") {\r\n      paths.push(filename);\r\n    }\r\n\r\n    return new HtmlWebpackPlugin({\r\n      filename,\r\n      template: `./src/${filename}`,\r\n      favicon: `./src/images/favicon.ico`,\r\n      inject: \"body\",\r\n    });\r\n  });\r\n\r\nmodule.exports = {\r\n  mode: \"development\",\r\n  entry: \"./src/js/index.js\",\r\n  devServer: {\r\n    static: {\r\n      directory: path.join(__dirname, \"./build\"),\r\n    },\r\n    compress: true,\r\n    port: 3000,\r\n    hot: true,\r\n  },\r\n  module: {\r\n    rules: [\r\n      {\r\n        test: /\\.m?js$/,\r\n        exclude: /node_modules/,\r\n        use: {\r\n          loader: \"babel-loader\",\r\n          options: {\r\n            presets: [\"@babel/preset-env\"],\r\n          },\r\n        },\r\n      },\r\n      {\r\n        test: /\\.css$/i,\r\n        use: [\r\n          MiniCssExtractPlugin.loader,\r\n          \"css-loader\",\r\n          {\r\n            loader: \"postcss-loader\",\r\n            options: {\r\n              postcssOptions: {\r\n                plugins: [\r\n                  require(\"autoprefixer\")({\r\n                    overrideBrowserslist: [\"last 2 versions\"],\r\n                  }),\r\n                ],\r\n              },\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        test: /\\.(png|svg|jpg|jpeg|gif)$/i,\r\n        type: \"asset/resource\",\r\n      },\r\n      {\r\n        test: /\\.(woff|woff2|eot|ttf|otf)$/i,\r\n        type: \"asset/resource\",\r\n      },\r\n      {\r\n        test: /\\.html$/,\r\n        loader: \"html-loader\",\r\n        options: {\r\n          preprocessor: processNestedHtml,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  plugins: [\r\n    ...generateHTMLPlugins(),\r\n    new MiniCssExtractPlugin({\r\n      filename: \"style.css\",\r\n      chunkFilename: \"style.css\",\r\n    }),\r\n  ],\r\n  output: {\r\n    filename: \"bundle.js\",\r\n    path: path.resolve(__dirname, \"build\"),\r\n    clean: true,\r\n    assetModuleFilename: \"[path][name][ext]\",\r\n  },\r\n  target: \"web\", // fix for \"browserslist\" error message\r\n  stats: \"errors-only\", // suppress irrelevant log messages\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\next-env.d.ts","messages":[{"ruleId":"@typescript-eslint/triple-slash-reference","severity":2,"message":"Do not use a triple slash reference for ./.next/types/routes.d.ts, use `import` style instead.","line":3,"column":1,"nodeType":"Line","messageId":"tripleSlashReference","endLine":3,"endColumn":51}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/// <reference types=\"next\" />\r\n/// <reference types=\"next/image-types/global\" />\r\n/// <reference path=\"./.next/types/routes.d.ts\" />\r\n\r\n// NOTE: This file should not be edited\r\n// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\scripts\\seed-financial-2021-2022.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":16,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":16,"endColumn":14,"suggestions":[{"fix":{"range":[545,601],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":24,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":24,"endColumn":16,"suggestions":[{"fix":{"range":[814,866],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":346,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":346,"endColumn":14,"suggestions":[{"fix":{"range":[9820,9887],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":347,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":347,"endColumn":14,"suggestions":[{"fix":{"range":[9891,9925],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":348,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":348,"endColumn":14,"suggestions":[{"fix":{"range":[9929,9972],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":349,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":349,"endColumn":14,"suggestions":[{"fix":{"range":[9976,10026],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":350,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":350,"endColumn":14,"suggestions":[{"fix":{"range":[10030,10075],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":351,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":351,"endColumn":14,"suggestions":[{"fix":{"range":[10079,10175],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":351,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":351,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10140,10143],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10140,10143],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":352,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":352,"endColumn":14,"suggestions":[{"fix":{"range":[10179,10279],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":352,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":352,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10244,10247],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10244,10247],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":353,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":353,"endColumn":14,"suggestions":[{"fix":{"range":[10283,10379],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":353,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":353,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10344,10347],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10344,10347],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":358,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":358,"endColumn":18,"suggestions":[{"fix":{"range":[10417,10463],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Seed script to add the 2021-2022 financial report to the database\r\n * Run with: npx tsx scripts/seed-financial-2021-2022.ts\r\n */\r\n\r\nimport { PrismaClient } from '@prisma/client';\r\nimport type { Currency, IncomeCategory, ExpenseCategory } from '../src/types/financial';\r\n\r\nconst prisma = new PrismaClient();\r\n\r\n// Helper to create currency\r\nconst usd = (amount: number): Currency => ({ code: 'USD', symbol: '$', amount });\r\nconst rtgs = (amount: number): Currency => ({ code: 'RTGS', symbol: '$', amount });\r\n\r\nasync function main() {\r\n  console.log('ðŸŒ± Seeding 2021-2022 financial report...');\r\n\r\n  // Check if report already exists\r\n  const existing = await prisma.financialReport.findFirst({\r\n    where: { title: 'Regisbridge Private School - Annual Report 2021-2022' },\r\n  });\r\n\r\n  if (existing) {\r\n    console.log('âœ… Report already exists, skipping...');\r\n    return;\r\n  }\r\n\r\n  // Income categories\r\n  const income: IncomeCategory[] = [\r\n    {\r\n      name: 'School Fees',\r\n      items: [\r\n        {\r\n          id: 'fees_regisbridge',\r\n          description: 'Fees Income - Regisbridge',\r\n          category: 'fees_regisbridge',\r\n          currencies: [usd(113036), rtgs(881450)],\r\n        },\r\n      ],\r\n      total: [usd(113036), rtgs(881450)],\r\n    },\r\n    {\r\n      name: 'Boarding',\r\n      items: [\r\n        {\r\n          id: 'boarding_income',\r\n          description: 'Boarding Income',\r\n          category: 'boarding_income',\r\n          currencies: [usd(8583), rtgs(178500)],\r\n        },\r\n      ],\r\n      total: [usd(8583), rtgs(178500)],\r\n    },\r\n    {\r\n      name: 'Uniforms',\r\n      items: [\r\n        {\r\n          id: 'uniforms_income',\r\n          description: 'Uniforms Income',\r\n          category: 'uniforms_income',\r\n          currencies: [usd(13060), rtgs(224350)],\r\n        },\r\n      ],\r\n      total: [usd(13060), rtgs(224350)],\r\n    },\r\n    {\r\n      name: 'Administration',\r\n      items: [\r\n        {\r\n          id: 'admin_567',\r\n          description: 'Admin Grade 5, 6 & 7 Income',\r\n          category: 'admin_income',\r\n          currencies: [usd(360), rtgs(1507798.8)],\r\n        },\r\n        {\r\n          id: 'admin_food',\r\n          description: 'Admin from Food',\r\n          category: 'admin_income',\r\n          currencies: [usd(147)],\r\n        },\r\n      ],\r\n      total: [usd(507), rtgs(1507798.8)],\r\n    },\r\n    {\r\n      name: 'Other Income',\r\n      items: [\r\n        {\r\n          id: 'registration',\r\n          description: 'Registration Income',\r\n          category: 'registration_income',\r\n          currencies: [usd(759)],\r\n        },\r\n        {\r\n          id: 'zb_nostro',\r\n          description: 'ZB Nostro',\r\n          category: 'other',\r\n          currencies: [usd(294)],\r\n        },\r\n        {\r\n          id: 'online',\r\n          description: 'Online Income',\r\n          category: 'online_income',\r\n          currencies: [usd(623)],\r\n        },\r\n        {\r\n          id: 'covid_fee',\r\n          description: 'COVID Fee',\r\n          category: 'covid_fee',\r\n          currencies: [usd(3001)],\r\n        },\r\n        {\r\n          id: 'loan_income',\r\n          description: 'Loan Income',\r\n          category: 'loan_income',\r\n          currencies: [usd(4230), rtgs(16040)],\r\n        },\r\n        {\r\n          id: 'graduation_fee',\r\n          description: 'Graduation Fee',\r\n          category: 'graduation_fee',\r\n          currencies: [usd(3557)],\r\n        },\r\n        {\r\n          id: 'marketing',\r\n          description: 'Marketing',\r\n          category: 'marketing',\r\n          currencies: [usd(1050)],\r\n        },\r\n        {\r\n          id: 'transfer',\r\n          description: 'Transfer to ZB 080',\r\n          category: 'transfer',\r\n          currencies: [rtgs(8000)],\r\n        },\r\n      ],\r\n      total: [usd(13514), rtgs(24040)],\r\n    },\r\n  ];\r\n\r\n  // Expense categories\r\n  const expenses: ExpenseCategory[] = [\r\n    {\r\n      name: 'Salaries & Benefits',\r\n      items: [\r\n        {\r\n          id: 'staff_salaries',\r\n          description: 'Staff Salaries',\r\n          category: 'staff_salaries',\r\n          currencies: [usd(74262.77)],\r\n        },\r\n        {\r\n          id: 'nssa',\r\n          description: 'NSSA (Social Security)',\r\n          category: 'nssa',\r\n          currencies: [usd(204.62), rtgs(342059.41)],\r\n        },\r\n        {\r\n          id: 'nyaradzo',\r\n          description: 'Nyaradzo (Insurance)',\r\n          category: 'insurance',\r\n          currencies: [usd(850.6), rtgs(245065.12)],\r\n        },\r\n      ],\r\n      total: [usd(75317.99), rtgs(587124.53)],\r\n    },\r\n    {\r\n      name: 'Administration',\r\n      items: [\r\n        {\r\n          id: 'admin',\r\n          description: 'Administration',\r\n          category: 'admin',\r\n          currencies: [usd(10024.24), rtgs(98533.21)],\r\n        },\r\n        {\r\n          id: 'bank_charge',\r\n          description: 'Bank Charges',\r\n          category: 'bank_charge',\r\n          currencies: [usd(83), rtgs(55882.25)],\r\n        },\r\n        {\r\n          id: 'annual_registration',\r\n          description: 'Annual Registration',\r\n          category: 'annual_registration',\r\n          currencies: [usd(10)],\r\n        },\r\n      ],\r\n      total: [usd(10117.24), rtgs(154415.46)],\r\n    },\r\n    {\r\n      name: 'Infrastructure',\r\n      items: [\r\n        {\r\n          id: 'construction',\r\n          description: 'Construction',\r\n          category: 'construction',\r\n          currencies: [usd(23534.58), rtgs(86046.29)],\r\n        },\r\n        {\r\n          id: 'maintenance',\r\n          description: 'Maintenance',\r\n          category: 'maintenance',\r\n          currencies: [usd(300)],\r\n        },\r\n        {\r\n          id: 'block_c_payment',\r\n          description: 'Block C Payment to Stella Nhando',\r\n          category: 'property_payments',\r\n          currencies: [usd(1500)],\r\n        },\r\n      ],\r\n      total: [usd(25334.58), rtgs(86046.29)],\r\n    },\r\n    {\r\n      name: 'Academic',\r\n      items: [\r\n        {\r\n          id: 'grade_67_exams',\r\n          description: 'Grade 6 and 7 Exam Fees',\r\n          category: 'exam_fees',\r\n          currencies: [rtgs(1504746.08)],\r\n        },\r\n        {\r\n          id: 'grade_7_expenses',\r\n          description: 'Grade 7 Expenses',\r\n          category: 'grade_expenses',\r\n          currencies: [usd(253)],\r\n        },\r\n        {\r\n          id: 'education',\r\n          description: 'Education',\r\n          category: 'education',\r\n          currencies: [usd(561.36)],\r\n        },\r\n        {\r\n          id: 'stationery',\r\n          description: 'Stationery',\r\n          category: 'stationery',\r\n          currencies: [usd(1157)],\r\n        },\r\n      ],\r\n      total: [usd(1971.36), rtgs(1504746.08)],\r\n    },\r\n    {\r\n      name: 'Operational',\r\n      items: [\r\n        {\r\n          id: 'boarding',\r\n          description: 'Boarding',\r\n          category: 'boarding',\r\n          currencies: [usd(8620.03)],\r\n        },\r\n        {\r\n          id: 'groceries',\r\n          description: 'Groceries',\r\n          category: 'groceries',\r\n          currencies: [usd(1404.78)],\r\n        },\r\n        {\r\n          id: 'uniforms_expenses',\r\n          description: 'Uniforms Expenses',\r\n          category: 'uniforms_expenses',\r\n          currencies: [usd(9600), rtgs(15254.72)],\r\n        },\r\n        {\r\n          id: 'sports',\r\n          description: 'Sports',\r\n          category: 'sports',\r\n          currencies: [usd(843)],\r\n        },\r\n        {\r\n          id: 'ict_expenses',\r\n          description: 'ICT Expenses',\r\n          category: 'ict_expenses',\r\n          currencies: [usd(550)],\r\n        },\r\n      ],\r\n      total: [usd(21017.81), rtgs(15254.72)],\r\n    },\r\n    {\r\n      name: 'Other Expenses',\r\n      items: [\r\n        {\r\n          id: 'covid_expenses',\r\n          description: 'COVID Expenses',\r\n          category: 'covid_expenses',\r\n          currencies: [usd(482)],\r\n        },\r\n        {\r\n          id: 'student_expenses',\r\n          description: 'Anenyasha & Tinodaishe Mutimbire Expenses',\r\n          category: 'staff_expenses',\r\n          currencies: [usd(7347)],\r\n        },\r\n        {\r\n          id: 'loan_payments',\r\n          description: 'Loan Payments',\r\n          category: 'loan_payments',\r\n          currencies: [usd(1005)],\r\n        },\r\n        {\r\n          id: 'graduation_fee_expense',\r\n          description: 'Graduation Fee',\r\n          category: 'graduation_fee',\r\n          currencies: [usd(3430)],\r\n        },\r\n        {\r\n          id: 'zimra',\r\n          description: 'ZIMRA (Tax Authority)',\r\n          category: 'tax',\r\n          currencies: [usd(573.58), rtgs(468955.12)],\r\n        },\r\n      ],\r\n      total: [usd(12837.58), rtgs(468955.12)],\r\n    },\r\n  ];\r\n\r\n  // Create the report\r\n  const report = await prisma.financialReport.create({\r\n    data: {\r\n      reportType: 'income_expenditure',\r\n      title: 'Regisbridge Private School - Annual Report 2021-2022',\r\n      periodStart: new Date('2021-12-16'),\r\n      periodEnd: new Date('2022-12-15'),\r\n      periodLabel: '2021-2022',\r\n      openingBalance: [usd(0), rtgs(0)],\r\n      closingBalance: [usd(2103.44), rtgs(-403.4)],\r\n      income,\r\n      expenses,\r\n      totalIncome: [usd(148700), rtgs(2816138.8)],\r\n      totalExpenses: [usd(146596.56), rtgs(2816542.2)],\r\n      netPosition: [usd(2103.44), rtgs(-403.4)],\r\n      status: 'approved',\r\n      approvalData: {\r\n        compiled: { name: 'To be filled', date: new Date('2022-12-20') },\r\n        deputy: { name: 'To be filled', date: new Date('2022-12-20') },\r\n        head: { name: 'To be filled', date: new Date('2022-12-20') },\r\n        director: { name: 'To be filled', date: new Date('2022-12-20') },\r\n      },\r\n      documentUrl: '/docs/processed/financial/2021-2022-annual-report.md',\r\n      notes: 'Historical financial report for academic year 2021-2022. Original document extracted and digitized.',\r\n      createdBy: 'system',\r\n    },\r\n  });\r\n\r\n  console.log('âœ… Successfully created financial report:', report.id);\r\n  console.log('ðŸ“Š Report details:');\r\n  console.log(`   - Title: ${report.title}`);\r\n  console.log(`   - Period: ${report.periodLabel}`);\r\n  console.log(`   - Status: ${report.status}`);\r\n  console.log(`   - Total Income: USD ${(report.totalIncome as any)[0].amount.toLocaleString()}`);\r\n  console.log(`   - Total Expenses: USD ${(report.totalExpenses as any)[0].amount.toLocaleString()}`);\r\n  console.log(`   - Net Position: USD ${(report.netPosition as any)[0].amount.toLocaleString()}`);\r\n}\r\n\r\nmain()\r\n  .catch((e) => {\r\n    console.error('âŒ Error seeding database:', e);\r\n    process.exit(1);\r\n  })\r\n  .finally(async () => {\r\n    await prisma.$disconnect();\r\n  });\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\(auth)\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\(auth)\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\(auth)\\register\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\about-v2\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\about\\board\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\about\\headmaster\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\about\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\academics-v2\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\academics\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\admin-v2\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\admin\\data-entry\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\admin\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\admin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\admin\\users\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\admissions-v2\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\admissions\\apply\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\admissions\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\admissions\\success\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\ads.txt\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\alumni\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\admin\\registration-numbers\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":43,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":43,"endColumn":18,"suggestions":[{"fix":{"range":[1317,1375],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":110,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":110,"endColumn":18,"suggestions":[{"fix":{"range":[3173,3235],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":167,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":167,"endColumn":18,"suggestions":[{"fix":{"range":[4724,4785],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest } from 'next/server'\r\nimport { requireAdmin } from '@/lib/api/auth-middleware'\r\nimport { secureResponse } from '@/lib/api/security-headers'\r\nimport { checkRateLimit, rateLimitPresets } from '@/lib/rate-limit'\r\nimport {\r\n  generateUniqueRegistrationNumber,\r\n  getRegistrationStats,\r\n  bulkGenerateRegistrationNumbers,\r\n  isValidRegistrationNumber,\r\n  parseRegistrationNumber,\r\n} from '@/lib/utils/registration-number'\r\n\r\n/**\r\n * GET /api/admin/registration-numbers\r\n * Get registration number statistics\r\n */\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    // Rate limiting\r\n    const rateLimitResponse = checkRateLimit(request, rateLimitPresets.api)\r\n    if (rateLimitResponse) return rateLimitResponse\r\n\r\n    // Verify admin access\r\n    const { error } = await requireAdmin(request)\r\n    if (error) return error\r\n\r\n    // Get year from query params\r\n    const { searchParams } = new URL(request.url)\r\n    const yearParam = searchParams.get('year')\r\n    const year = yearParam ? parseInt(yearParam, 10) : undefined\r\n\r\n    // Get statistics\r\n    const stats = await getRegistrationStats(year)\r\n\r\n    return secureResponse({\r\n      success: true,\r\n      data: {\r\n        ...stats,\r\n        currentYear: year || new Date().getFullYear(),\r\n      },\r\n    })\r\n  } catch (error) {\r\n    console.error('Error fetching registration stats:', error)\r\n    return secureResponse(\r\n      { success: false, message: 'Failed to fetch registration statistics' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * POST /api/admin/registration-numbers\r\n * Generate new registration number(s)\r\n * \r\n * Body:\r\n * - count?: number (default: 1) - Number of registration numbers to generate\r\n * - prefix?: string (default: 'REG')\r\n * - yearFormat?: 'full' | 'short' (default: 'full')\r\n */\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    // Rate limiting\r\n    const rateLimitResponse = checkRateLimit(request, rateLimitPresets.api)\r\n    if (rateLimitResponse) return rateLimitResponse\r\n\r\n    // Verify admin access\r\n    const { error } = await requireAdmin(request)\r\n    if (error) return error\r\n\r\n    const body = await request.json()\r\n    const {\r\n      count = 1,\r\n      prefix = 'REG',\r\n      yearFormat = 'short',\r\n      sequencePadding = 3,\r\n    } = body\r\n\r\n    // Validate count\r\n    if (count < 1 || count > 100) {\r\n      return secureResponse(\r\n        { success: false, message: 'Count must be between 1 and 100' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Generate registration numbers\r\n    const config = { prefix, yearFormat, sequencePadding }\r\n\r\n    if (count === 1) {\r\n      const registrationNumber = await generateUniqueRegistrationNumber(config)\r\n      return secureResponse({\r\n        success: true,\r\n        data: {\r\n          registrationNumber,\r\n          config,\r\n        },\r\n      })\r\n    } else {\r\n      const registrationNumbers = await bulkGenerateRegistrationNumbers(count, config)\r\n      return secureResponse({\r\n        success: true,\r\n        data: {\r\n          registrationNumbers,\r\n          count: registrationNumbers.length,\r\n          config,\r\n        },\r\n      })\r\n    }\r\n  } catch (error) {\r\n    console.error('Error generating registration numbers:', error)\r\n    return secureResponse(\r\n      { success: false, message: 'Failed to generate registration numbers' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * PUT /api/admin/registration-numbers/validate\r\n * Validate registration number format\r\n * \r\n * Body:\r\n * - registrationNumber: string\r\n * - prefix?: string (default: 'REG')\r\n * - yearFormat?: 'full' | 'short' (default: 'full')\r\n */\r\nexport async function PUT(request: NextRequest) {\r\n  try {\r\n    // Rate limiting\r\n    const rateLimitResponse = checkRateLimit(request, rateLimitPresets.api)\r\n    if (rateLimitResponse) return rateLimitResponse\r\n\r\n    // Verify admin access\r\n    const { error } = await requireAdmin(request)\r\n    if (error) return error\r\n\r\n    const body = await request.json()\r\n    const {\r\n      registrationNumber,\r\n      prefix = 'REG',\r\n      yearFormat = 'short',\r\n      sequencePadding = 3,\r\n    } = body\r\n\r\n    if (!registrationNumber) {\r\n      return secureResponse(\r\n        { success: false, message: 'Registration number is required' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Validate format\r\n    const config = { prefix, yearFormat, sequencePadding }\r\n    const isValid = isValidRegistrationNumber(registrationNumber, config)\r\n    const parsed = parseRegistrationNumber(registrationNumber, config)\r\n\r\n    return secureResponse({\r\n      success: true,\r\n      data: {\r\n        registrationNumber,\r\n        isValid,\r\n        parsed,\r\n        config,\r\n      },\r\n    })\r\n  } catch (error) {\r\n    console.error('Error validating registration number:', error)\r\n    return secureResponse(\r\n      { success: false, message: 'Failed to validate registration number' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\admin\\users\\[id]\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":63,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":63,"endColumn":22,"suggestions":[{"fix":{"range":[1922,1961],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":139,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4570,4573],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4570,4573],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":161,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":161,"endColumn":22,"suggestions":[{"fix":{"range":[5171,5213],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":213,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":213,"endColumn":22,"suggestions":[{"fix":{"range":[6656,6698],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { verifyAccessToken, hashPassword } from '@/lib/auth'\r\n\r\nasync function verifyAdmin(request: NextRequest) {\r\n    const authHeader = request.headers.get('authorization')\r\n\r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n        return { authorized: false, error: 'No token provided' }\r\n    }\r\n\r\n    const token = authHeader.substring(7)\r\n    const payload = await verifyAccessToken(token)\r\n\r\n    if (!payload || payload.role !== 'admin') {\r\n        return { authorized: false, error: 'Admin access required' }\r\n    }\r\n\r\n    return { authorized: true, userId: payload.userId }\r\n}\r\n\r\n// GET /api/admin/users/[id] - Get single user\r\nexport async function GET(\r\n    request: NextRequest,\r\n    context: { params: Promise<{ id: string }> }\r\n) {\r\n    try {\r\n        const params = await context.params;\r\n        const auth = await verifyAdmin(request)\r\n        if (!auth.authorized) {\r\n            return NextResponse.json(\r\n                { success: false, message: auth.error },\r\n                { status: 401 }\r\n            )\r\n        }\r\n\r\n        const user = await prisma.user.findUnique({\r\n            where: { id: params.id },\r\n            select: {\r\n                id: true,\r\n                email: true,\r\n                firstName: true,\r\n                lastName: true,\r\n                role: true,\r\n                grade: true,\r\n                studentId: true,\r\n                phoneNumber: true,\r\n                status: true,\r\n                createdAt: true,\r\n                updatedAt: true,\r\n            },\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'User not found' },\r\n                { status: 404 }\r\n            )\r\n        }\r\n\r\n        return NextResponse.json({ success: true, user })\r\n    } catch (error) {\r\n        console.error('Get user error:', error)\r\n        return NextResponse.json(\r\n            { success: false, message: 'Internal server error' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n\r\n// PUT /api/admin/users/[id] - Update user\r\nexport async function PUT(\r\n    request: NextRequest,\r\n    context: { params: Promise<{ id: string }> }\r\n) {\r\n    try {\r\n        const params = await context.params;\r\n        const auth = await verifyAdmin(request)\r\n        if (!auth.authorized) {\r\n            return NextResponse.json(\r\n                { success: false, message: auth.error },\r\n                { status: 401 }\r\n            )\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { email, firstName, lastName, role, grade, studentId, phoneNumber, status, password } = body\r\n\r\n        // Check if user exists\r\n        const existingUser = await prisma.user.findUnique({\r\n            where: { id: params.id },\r\n        })\r\n\r\n        if (!existingUser) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'User not found' },\r\n                { status: 404 }\r\n            )\r\n        }\r\n\r\n        // Check if email is being changed and already exists\r\n        if (email && email !== existingUser.email) {\r\n            const emailExists = await prisma.user.findUnique({\r\n                where: { email },\r\n            })\r\n            if (emailExists) {\r\n                return NextResponse.json(\r\n                    { success: false, message: 'Email already in use' },\r\n                    { status: 409 }\r\n                )\r\n            }\r\n        }\r\n\r\n        // Build update data\r\n        const updateData: {\r\n            email?: string;\r\n            password?: string;\r\n            firstName?: string;\r\n            lastName?: string;\r\n            role?: string;\r\n            grade?: string | null;\r\n            studentId?: string | null;\r\n            phoneNumber?: string | null;\r\n            status?: string;\r\n        } = {}\r\n        \r\n        if (email) updateData.email = email\r\n        if (firstName) updateData.firstName = firstName\r\n        if (lastName) updateData.lastName = lastName\r\n        if (role) updateData.role = role\r\n        if (grade !== undefined) updateData.grade = grade\r\n        if (studentId !== undefined) updateData.studentId = studentId\r\n        if (phoneNumber !== undefined) updateData.phoneNumber = phoneNumber\r\n        if (status) updateData.status = status\r\n        if (password) updateData.password = await hashPassword(password)\r\n\r\n        const updatedUser = await prisma.user.update({\r\n            where: { id: params.id },\r\n            data: updateData as any,\r\n            select: {\r\n                id: true,\r\n                email: true,\r\n                firstName: true,\r\n                lastName: true,\r\n                role: true,\r\n                grade: true,\r\n                studentId: true,\r\n                phoneNumber: true,\r\n                status: true,\r\n                createdAt: true,\r\n                updatedAt: true,\r\n            },\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'User updated successfully',\r\n            user: updatedUser,\r\n        })\r\n    } catch (error) {\r\n        console.error('Update user error:', error)\r\n        return NextResponse.json(\r\n            { success: false, message: 'Internal server error' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n\r\n// DELETE /api/admin/users/[id] - Delete user\r\nexport async function DELETE(\r\n    request: NextRequest,\r\n    context: { params: Promise<{ id: string }> }\r\n) {\r\n    try {\r\n        const params = await context.params;\r\n        const auth = await verifyAdmin(request)\r\n        if (!auth.authorized) {\r\n            return NextResponse.json(\r\n                { success: false, message: auth.error },\r\n                { status: 401 }\r\n            )\r\n        }\r\n\r\n        // Check if user exists\r\n        const user = await prisma.user.findUnique({\r\n            where: { id: params.id },\r\n        })\r\n\r\n        if (!user) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'User not found' },\r\n                { status: 404 }\r\n            )\r\n        }\r\n\r\n        // Prevent deleting yourself\r\n        if (user.id === auth.userId) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'Cannot delete your own account' },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        await prisma.user.delete({\r\n            where: { id: params.id },\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'User deleted successfully',\r\n        })\r\n    } catch (error) {\r\n        console.error('Delete user error:', error)\r\n        return NextResponse.json(\r\n            { success: false, message: 'Internal server error' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\admin\\users\\create\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":93,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":93,"endColumn":22,"suggestions":[{"fix":{"range":[2941,2983],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { verifyAccessToken, hashPassword } from '@/lib/auth'\r\n\r\nasync function verifyAdmin(request: NextRequest) {\r\n    const authHeader = request.headers.get('authorization')\r\n\r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n        return { authorized: false, error: 'No token provided' }\r\n    }\r\n\r\n    const token = authHeader.substring(7)\r\n    const payload = await verifyAccessToken(token)\r\n\r\n    if (!payload || payload.role !== 'admin') {\r\n        return { authorized: false, error: 'Admin access required' }\r\n    }\r\n\r\n    return { authorized: true, userId: payload.userId }\r\n}\r\n\r\n// POST /api/admin/users/create - Create new user\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const auth = await verifyAdmin(request)\r\n        if (!auth.authorized) {\r\n            return NextResponse.json(\r\n                { success: false, message: auth.error },\r\n                { status: 401 }\r\n            )\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { email, password, firstName, lastName, role, grade, studentId, phoneNumber } = body\r\n\r\n        // Validate required fields\r\n        if (!email || !password || !firstName || !lastName || !role) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'Missing required fields' },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        // Check if email already exists\r\n        const existingUser = await prisma.user.findUnique({\r\n            where: { email },\r\n        })\r\n\r\n        if (existingUser) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'Email already registered' },\r\n                { status: 409 }\r\n            )\r\n        }\r\n\r\n        // Hash password\r\n        const hashedPassword = await hashPassword(password)\r\n\r\n        // Create user\r\n        const user = await prisma.user.create({\r\n            data: {\r\n                email,\r\n                password: hashedPassword,\r\n                firstName,\r\n                lastName,\r\n                role,\r\n                grade: grade || null,\r\n                studentId: studentId || null,\r\n                phoneNumber: phoneNumber || null,\r\n                status: 'ACTIVE',\r\n            },\r\n            select: {\r\n                id: true,\r\n                email: true,\r\n                firstName: true,\r\n                lastName: true,\r\n                role: true,\r\n                grade: true,\r\n                studentId: true,\r\n                phoneNumber: true,\r\n                status: true,\r\n                createdAt: true,\r\n                updatedAt: true,\r\n            },\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'User created successfully',\r\n            user,\r\n        }, { status: 201 })\r\n    } catch (error) {\r\n        console.error('Create user error:', error)\r\n        return NextResponse.json(\r\n            { success: false, message: 'Internal server error' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\admin\\users\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1467,1470],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1467,1470],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":93,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":93,"endColumn":18,"suggestions":[{"fix":{"range":[2609,2649],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { verifyAccessToken } from '@/lib/auth'\r\n\r\n// Helper to verify admin access\r\nasync function verifyAdmin(request: NextRequest) {\r\n  const authHeader = request.headers.get('authorization')\r\n\r\n  if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n    return { authorized: false, error: 'No token provided' }\r\n  }\r\n\r\n  const token = authHeader.substring(7)\r\n  const payload = await verifyAccessToken(token)\r\n\r\n  if (!payload) {\r\n    return { authorized: false, error: 'Invalid token' }\r\n  }\r\n\r\n  if (payload.role !== 'admin') {\r\n    return { authorized: false, error: 'Admin access required' }\r\n  }\r\n\r\n  return { authorized: true, userId: payload.userId }\r\n}\r\n\r\n// GET /api/admin/users - List all users with filtering\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const auth = await verifyAdmin(request)\r\n    if (!auth.authorized) {\r\n      return NextResponse.json(\r\n        { success: false, message: auth.error },\r\n        { status: 401 }\r\n      )\r\n    }\r\n\r\n    const { searchParams } = new URL(request.url)\r\n    const role = searchParams.get('role')\r\n    const status = searchParams.get('status')\r\n    const search = searchParams.get('search')\r\n    const page = parseInt(searchParams.get('page') || '1')\r\n    const limit = parseInt(searchParams.get('limit') || '10')\r\n    const skip = (page - 1) * limit\r\n\r\n    // Build filter\r\n    const where: any = {}\r\n    if (role) where.role = role\r\n    if (status) where.status = status\r\n    if (search) {\r\n      where.OR = [\r\n        { email: { contains: search, mode: 'insensitive' } },\r\n        { firstName: { contains: search, mode: 'insensitive' } },\r\n        { lastName: { contains: search, mode: 'insensitive' } },\r\n      ]\r\n    }\r\n\r\n    // Get users and total count\r\n    const [users, total] = await Promise.all([\r\n      prisma.user.findMany({\r\n        where,\r\n        skip,\r\n        take: limit,\r\n        select: {\r\n          id: true,\r\n          email: true,\r\n          firstName: true,\r\n          lastName: true,\r\n          role: true,\r\n          grade: true,\r\n          studentId: true,\r\n          phoneNumber: true,\r\n          status: true,\r\n          createdAt: true,\r\n          updatedAt: true,\r\n        },\r\n        orderBy: { createdAt: 'desc' },\r\n      }),\r\n      prisma.user.count({ where }),\r\n    ])\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      users,\r\n      pagination: {\r\n        page,\r\n        limit,\r\n        total,\r\n        totalPages: Math.ceil(total / limit),\r\n      },\r\n    })\r\n  } catch (error) {\r\n    console.error('Get users error:', error)\r\n    return NextResponse.json(\r\n      { success: false, message: 'Internal server error' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\auth\\login\\route-secure.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is assigned a value but never used.","line":99,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":99,"endColumn":24},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":111,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":111,"endColumn":18,"suggestions":[{"fix":{"range":[3247,3283],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":129,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":129,"endColumn":18,"suggestions":[{"fix":{"range":[3708,3762],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":134,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":134,"endColumn":18,"suggestions":[{"fix":{"range":[3821,3880],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { withRateLimit, addSecurityHeaders, validateEmail, sanitizeInput } from '@/lib/security'\r\nimport { prisma } from '@/lib/db'\r\nimport { comparePassword, generateAccessToken, generateRefreshToken } from '@/lib/auth'\r\n\r\nasync function loginHandler(request: NextRequest) {\r\n  try {\r\n    const body = await request.json()\r\n    const { email, password } = body\r\n\r\n    // Validate input with enhanced security checks\r\n    if (!email || typeof email !== 'string' || !validateEmail(email)) {\r\n      const response = NextResponse.json(\r\n        { success: false, message: 'Valid email is required' },\r\n        { status: 400 }\r\n      )\r\n      return addSecurityHeaders(response)\r\n    }\r\n\r\n    if (!password || typeof password !== 'string') {\r\n      const response = NextResponse.json(\r\n        { success: false, message: 'Password is required' },\r\n        { status: 400 }\r\n      )\r\n      return addSecurityHeaders(response)\r\n    }\r\n\r\n    // Sanitize email to prevent injection\r\n    const sanitizedEmail = sanitizeInput(email.toLowerCase())\r\n\r\n    // Use secure database query\r\n    const user = await secureDbQuery(\r\n      () => prisma.user.findUnique({\r\n        where: { email: sanitizedEmail },\r\n        select: {\r\n          id: true,\r\n          email: true,\r\n          password: true,\r\n          firstName: true,\r\n          lastName: true,\r\n          role: true,\r\n          status: true,\r\n          createdAt: true,\r\n          updatedAt: true\r\n        }\r\n      }),\r\n      'user_lookup_by_email'\r\n    )\r\n\r\n    if (!user) {\r\n      const response = NextResponse.json(\r\n        { success: false, message: 'Invalid credentials' },\r\n        { status: 401 }\r\n      )\r\n      return addSecurityHeaders(response)\r\n    }\r\n\r\n    // Verify password\r\n    const isValidPassword = await comparePassword(password, user.password)\r\n    if (!isValidPassword) {\r\n      const response = NextResponse.json(\r\n        { success: false, message: 'Invalid credentials' },\r\n        { status: 401 }\r\n      )\r\n      return addSecurityHeaders(response)\r\n    }\r\n\r\n    // Check if user is active\r\n    if (user.status !== 'ACTIVE') {\r\n      const response = NextResponse.json(\r\n        { success: false, message: 'Account is not active' },\r\n        { status: 403 }\r\n      )\r\n      return addSecurityHeaders(response)\r\n    }\r\n\r\n    // Generate tokens\r\n    const payload = {\r\n      userId: user.id,\r\n      email: user.email,\r\n      role: user.role,\r\n    }\r\n\r\n    const [accessToken, refreshToken] = await Promise.all([\r\n      generateAccessToken(payload),\r\n      generateRefreshToken(payload)\r\n    ])\r\n\r\n    // Update last login time (commented out until schema is updated)\r\n    // await secureDbQuery(\r\n    //   () => prisma.user.update({\r\n    //     where: { id: user.id },\r\n    //     data: { lastLoginAt: new Date() }\r\n    //   }),\r\n    //   'update_last_login'\r\n    // )\r\n\r\n    // Remove password from response\r\n    const { password: _, ...userWithoutPassword } = user\r\n\r\n    const response = NextResponse.json({\r\n      success: true,\r\n      message: 'Login successful',\r\n      user: userWithoutPassword,\r\n      accessToken,\r\n      refreshToken,\r\n    })\r\n\r\n    return addSecurityHeaders(response)\r\n  } catch (error) {\r\n    console.error('Login error:', error)\r\n    const response = NextResponse.json(\r\n      { success: false, message: 'Internal server error' },\r\n      { status: 500 }\r\n    )\r\n    return addSecurityHeaders(response)\r\n  }\r\n}\r\n\r\n// Import secureDbQuery function\r\nasync function secureDbQuery<T>(\r\n  query: () => Promise<T>,\r\n  operation: string\r\n): Promise<T> {\r\n  try {\r\n    const result = await query()\r\n    \r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.log(`âœ… DB Operation successful: ${operation}`)\r\n    }\r\n    \r\n    return result\r\n  } catch (error) {\r\n    console.error(`âŒ DB Operation failed: ${operation}`, error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport const POST = withRateLimit(loginHandler)\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\auth\\login\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is assigned a value but never used.","line":65,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":65,"endColumn":24},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":75,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":75,"endColumn":18,"suggestions":[{"fix":{"range":[2099,2135],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { comparePassword, generateAccessToken, generateRefreshToken } from '@/lib/auth'\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const body = await request.json()\r\n    const { email, password } = body\r\n\r\n    // Validate input with more specific checks\r\n    if (!email || typeof email !== 'string' || !email.includes('@')) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Valid email is required' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    if (!password || typeof password !== 'string' || password.length < 6) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Password must be at least 6 characters' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Find user\r\n    const user = await prisma.user.findUnique({\r\n      where: { email },\r\n    })\r\n\r\n    if (!user) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Invalid credentials' },\r\n        { status: 401 }\r\n      )\r\n    }\r\n\r\n    // Verify password\r\n    const isValidPassword = await comparePassword(password, user.password)\r\n    if (!isValidPassword) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Invalid credentials' },\r\n        { status: 401 }\r\n      )\r\n    }\r\n\r\n    // Check if user is active\r\n    if (user.status !== 'ACTIVE') {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Account is not active' },\r\n        { status: 403 }\r\n      )\r\n    }\r\n\r\n    // Generate tokens\r\n    const payload = {\r\n      userId: user.id,\r\n      email: user.email,\r\n      role: user.role,\r\n    }\r\n\r\n    const accessToken = await generateAccessToken(payload)\r\n    const refreshToken = await generateRefreshToken(payload)\r\n\r\n    // Remove password from response\r\n    const { password: _, ...userWithoutPassword } = user\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'Login successful',\r\n      user: userWithoutPassword,\r\n      accessToken,\r\n      refreshToken,\r\n    })\r\n  } catch (error) {\r\n    console.error('Login error:', error)\r\n    return NextResponse.json(\r\n      { success: false, message: 'Internal server error' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\auth\\logout\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\auth\\refresh\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":51,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":51,"endColumn":18,"suggestions":[{"fix":{"range":[1360,1404],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { verifyRefreshToken, generateAccessToken } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const body = await request.json()\r\n    const { refreshToken } = body\r\n\r\n    if (!refreshToken) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Refresh token required' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Verify refresh token\r\n    const payload = await verifyRefreshToken(refreshToken)\r\n\r\n    if (!payload) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Invalid or expired refresh token' },\r\n        { status: 401 }\r\n      )\r\n    }\r\n\r\n    // Verify user still exists and is active\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: payload.userId },\r\n    })\r\n\r\n    if (!user || user.status !== 'ACTIVE') {\r\n      return NextResponse.json(\r\n        { success: false, message: 'User not found or inactive' },\r\n        { status: 401 }\r\n      )\r\n    }\r\n\r\n    // Generate new access token\r\n    const newAccessToken = await generateAccessToken({\r\n      userId: user.id,\r\n      email: user.email,\r\n      role: user.role,\r\n    })\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      accessToken: newAccessToken,\r\n    })\r\n  } catch (error) {\r\n    console.error('Refresh token error:', error)\r\n    return NextResponse.json(\r\n      { success: false, message: 'Internal server error' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\auth\\register\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is assigned a value but never used.","line":85,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":85,"endColumn":24},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":95,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":95,"endColumn":18,"suggestions":[{"fix":{"range":[2677,2720],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { hashPassword, generateAccessToken, generateRefreshToken } from '@/lib/auth'\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const body = await request.json()\r\n    const { email, password, firstName, lastName, role, grade, studentId, phoneNumber } = body\r\n\r\n    // Validate required fields\r\n    if (!email || !password || !firstName || !lastName || !role) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Missing required fields' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Validate email format\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n    if (!emailRegex.test(email)) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Invalid email format' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Validate password strength (min 8 characters)\r\n    if (password.length < 8) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Password must be at least 8 characters long' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Validate role\r\n    const validRoles = ['admin', 'teacher', 'student', 'parent']\r\n    if (!validRoles.includes(role)) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Invalid role' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Check if user already exists\r\n    const existingUser = await prisma.user.findUnique({\r\n      where: { email },\r\n    })\r\n\r\n    if (existingUser) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Email already registered' },\r\n        { status: 409 }\r\n      )\r\n    }\r\n\r\n    // Hash password\r\n    const hashedPassword = await hashPassword(password)\r\n\r\n    // Create user\r\n    const user = await prisma.user.create({\r\n      data: {\r\n        email,\r\n        password: hashedPassword,\r\n        firstName,\r\n        lastName,\r\n        role,\r\n        grade: grade || null,\r\n        studentId: studentId || null,\r\n        phoneNumber: phoneNumber || null,\r\n        status: 'ACTIVE',\r\n      },\r\n    })\r\n\r\n    // Generate tokens\r\n    const payload = {\r\n      userId: user.id,\r\n      email: user.email,\r\n      role: user.role,\r\n    }\r\n\r\n    const accessToken = await generateAccessToken(payload)\r\n    const refreshToken = await generateRefreshToken(payload)\r\n\r\n    // Remove password from response\r\n    const { password: _, ...userWithoutPassword } = user\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'Registration successful',\r\n      user: userWithoutPassword,\r\n      accessToken,\r\n      refreshToken,\r\n    }, { status: 201 })\r\n  } catch (error) {\r\n    console.error('Registration error:', error)\r\n    return NextResponse.json(\r\n      { success: false, message: 'Internal server error' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\auth\\verify\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":67,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":67,"endColumn":18,"suggestions":[{"fix":{"range":[1692,1735],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { verifyAccessToken } from '@/lib/auth'\r\nimport { prisma } from '@/lib/db'\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    // Get token from Authorization header\r\n    const authHeader = request.headers.get('authorization')\r\n\r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'No token provided' },\r\n        { status: 401 }\r\n      )\r\n    }\r\n\r\n    const token = authHeader.substring(7) // Remove 'Bearer ' prefix\r\n\r\n    // Verify token\r\n    const payload = await verifyAccessToken(token)\r\n\r\n    if (!payload) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Invalid or expired token' },\r\n        { status: 401 }\r\n      )\r\n    }\r\n\r\n    // Get user from database\r\n    const user = await prisma.user.findUnique({\r\n      where: { id: payload.userId },\r\n      select: {\r\n        id: true,\r\n        email: true,\r\n        firstName: true,\r\n        lastName: true,\r\n        role: true,\r\n        grade: true,\r\n        studentId: true,\r\n        phoneNumber: true,\r\n        status: true,\r\n        createdAt: true,\r\n        updatedAt: true,\r\n      },\r\n    })\r\n\r\n    if (!user) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'User not found' },\r\n        { status: 404 }\r\n      )\r\n    }\r\n\r\n    // Check if user is active\r\n    if (user.status !== 'ACTIVE') {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Account is not active' },\r\n        { status: 403 }\r\n      )\r\n    }\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      user,\r\n    })\r\n  } catch (error) {\r\n    console.error('Verify token error:', error)\r\n    return NextResponse.json(\r\n      { success: false, message: 'Internal server error' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\contact\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":77,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":77,"endColumn":19,"suggestions":[{"fix":{"range":[2383,2452],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":84,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2624,2627],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2624,2627],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":85,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":85,"endColumn":18,"suggestions":[{"fix":{"range":[2636,2679],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":88,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":88,"endColumn":20,"suggestions":[{"fix":{"range":[2726,2779],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport Joi from 'joi'\r\nimport sgMail from '@sendgrid/mail'\r\n\r\n// Initialize SendGrid\r\nif (process.env.SENDGRID_API_KEY) {\r\n  sgMail.setApiKey(process.env.SENDGRID_API_KEY)\r\n}\r\n\r\nconst contactFormSchema = Joi.object({\r\n  name: Joi.string().min(2).max(100).required(),\r\n  email: Joi.string().email().required(),\r\n  phone: Joi.string().max(20),\r\n  message: Joi.string().min(10).max(5000).required(),\r\n})\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const body = await request.json()\r\n\r\n    // Validate input\r\n    const { error, value } = contactFormSchema.validate(body)\r\n    if (error) {\r\n      return NextResponse.json(\r\n        { success: false, message: error.details[0].message },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    const { name, email, phone, message } = value\r\n\r\n    // Prepare email content\r\n    const emailData = {\r\n      to: process.env.CONTACT_EMAIL || 'info@regisbridge.ac.zw',\r\n      from: process.env.FROM_EMAIL || 'noreply@regisbridge.ac.zw',\r\n      replyTo: email,\r\n      subject: `New Contact Form Submission from ${name}`,\r\n      html: `\r\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n          <h2 style=\"color: #1C1A75;\">New Contact Form Submission</h2>\r\n          <div style=\"background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0;\">\r\n            <p><strong>Name:</strong> ${name}</p>\r\n            <p><strong>Email:</strong> ${email}</p>\r\n            ${phone ? `<p><strong>Phone:</strong> ${phone}</p>` : ''}\r\n            <p><strong>Message:</strong></p>\r\n            <p style=\"white-space: pre-wrap;\">${message}</p>\r\n          </div>\r\n          <p style=\"color: #666; font-size: 12px;\">\r\n            Sent from Regisbridge School website contact form\r\n          </p>\r\n        </div>\r\n      `,\r\n      text: `\r\nNew Contact Form Submission\r\n\r\nName: ${name}\r\nEmail: ${email}\r\n${phone ? `Phone: ${phone}` : ''}\r\n\r\nMessage:\r\n${message}\r\n\r\n---\r\nSent from Regisbridge School website contact form\r\n      `.trim(),\r\n    }\r\n\r\n    // Send email if SendGrid is configured\r\n    if (process.env.SENDGRID_API_KEY) {\r\n      await sgMail.send(emailData)\r\n      \r\n      return NextResponse.json({\r\n        success: true,\r\n        message: 'Thank you for contacting us. We will get back to you soon!',\r\n      })\r\n    } else {\r\n      console.warn('SendGrid not configured - would have sent:', emailData)\r\n      \r\n      return NextResponse.json({\r\n        success: true,\r\n        message: 'Message received (email service not configured)',\r\n      })\r\n    }\r\n  } catch (error: any) {\r\n    console.error('Contact form error:', error)\r\n    \r\n    if (error.response?.body) {\r\n      console.error('SendGrid error:', error.response.body)\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { \r\n        success: false, \r\n        message: 'Failed to send message. Please try again later.' \r\n      },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\cron\\daily-report\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":37,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1206,1209],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1206,1209],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\n\r\n// Simple protected cron endpoint.\r\n// Configure a CRON_SECRET in Vercel (Production, Preview, Development) and\r\n// set the Authorization header to `Bearer ${CRON_SECRET}` in the Vercel cron job.\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const auth = request.headers.get('authorization') || ''\r\n    const token = auth.startsWith('Bearer ') ? auth.slice('Bearer '.length) : ''\r\n\r\n    if (!process.env.CRON_SECRET) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'CRON_SECRET is not configured' },\r\n        { status: 500 }\r\n      )\r\n    }\r\n\r\n    if (token !== process.env.CRON_SECRET) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Unauthorized' },\r\n        { status: 401 }\r\n      )\r\n    }\r\n\r\n    // TODO: Replace with real daily tasks (reports, cleanup, emails, etc.)\r\n    const now = new Date()\r\n\r\n    return NextResponse.json(\r\n      {\r\n        success: true,\r\n        message: 'Daily cron executed',\r\n        timestamp: now.toISOString(),\r\n        env: process.env.VERCEL_ENV || process.env.NODE_ENV || 'production',\r\n      },\r\n      { status: 200 }\r\n    )\r\n  } catch (err: any) {\r\n    return NextResponse.json(\r\n      { success: false, message: err?.message || 'Cron failed' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\newsletter\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":102,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":102,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3214,3217],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3214,3217],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":103,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":103,"endColumn":18,"suggestions":[{"fix":{"range":[3226,3280],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":106,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":106,"endColumn":20,"suggestions":[{"fix":{"range":[3327,3380],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport Joi from 'joi'\r\nimport sgMail from '@sendgrid/mail'\r\n\r\n// Initialize SendGrid\r\nif (process.env.SENDGRID_API_KEY) {\r\n  sgMail.setApiKey(process.env.SENDGRID_API_KEY)\r\n}\r\n\r\nconst newsletterSchema = Joi.object({\r\n  email: Joi.string().email().required(),\r\n  name: Joi.string().min(2).max(100),\r\n  interests: Joi.array().items(Joi.string()),\r\n})\r\n\r\n// In-memory storage for subscribers (replace with DB in production)\r\nconst subscribers = new Set()\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const body = await request.json()\r\n\r\n    // Validate input\r\n    const { error, value } = newsletterSchema.validate(body)\r\n    if (error) {\r\n      return NextResponse.json(\r\n        { success: false, message: error.details[0].message },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    const { email, name } = value\r\n\r\n    // Check if already subscribed\r\n    if (subscribers.has(email.toLowerCase())) {\r\n      return NextResponse.json(\r\n        { \r\n          success: false, \r\n          message: 'This email is already subscribed to our newsletter' \r\n        },\r\n        { status: 409 }\r\n      )\r\n    }\r\n\r\n    // Add to subscribers\r\n    subscribers.add(email.toLowerCase())\r\n\r\n    // Send welcome email if SendGrid is configured\r\n    if (process.env.SENDGRID_API_KEY) {\r\n      const welcomeEmail = {\r\n        to: email,\r\n        from: process.env.FROM_EMAIL || 'newsletter@regisbridge.ac.zw',\r\n        subject: 'Welcome to Regisbridge School Newsletter',\r\n        html: `\r\n          <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n            <h2 style=\"color: #1C1A75;\">Welcome to Our Newsletter!</h2>\r\n            <p>Dear ${name || 'Subscriber'},</p>\r\n            <p>Thank you for subscribing to the Regisbridge School newsletter.</p>\r\n            <p>You'll receive updates about:</p>\r\n            <ul>\r\n              <li>School events and activities</li>\r\n              <li>Academic achievements</li>\r\n              <li>Important announcements</li>\r\n              <li>Admission information</li>\r\n            </ul>\r\n            <p>We're excited to keep you informed about all the wonderful things happening at Regisbridge!</p>\r\n            <p style=\"margin-top: 30px;\">\r\n              Best regards,<br>\r\n              <strong>Regisbridge Private School</strong><br>\r\n              <em>Supervincimus - We Conquer Together</em>\r\n            </p>\r\n          </div>\r\n        `,\r\n        text: `\r\nWelcome to Regisbridge School Newsletter\r\n\r\nDear ${name || 'Subscriber'},\r\n\r\nThank you for subscribing to the Regisbridge School newsletter.\r\n\r\nYou'll receive updates about:\r\n- School events and activities\r\n- Academic achievements\r\n- Important announcements\r\n- Admission information\r\n\r\nWe're excited to keep you informed about all the wonderful things happening at Regisbridge!\r\n\r\nBest regards,\r\nRegisbridge Private School\r\nSupervincimus - We Conquer Together\r\n        `.trim(),\r\n      }\r\n\r\n      await sgMail.send(welcomeEmail)\r\n    }\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'Successfully subscribed to newsletter! Check your email for confirmation.',\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Newsletter subscription error:', error)\r\n    \r\n    if (error.response?.body) {\r\n      console.error('SendGrid error:', error.response.body)\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { \r\n        success: false, \r\n        message: 'Failed to subscribe. Please try again later.' \r\n      },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\student\\assignments\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1718,1721],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1718,1721],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":75,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":75,"endColumn":22,"suggestions":[{"fix":{"range":[2402,2448],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { verifyAccessToken } from '@/lib/auth'\r\n\r\nasync function verifyStudentAccess(request: NextRequest) {\r\n    const authHeader = request.headers.get('authorization')\r\n\r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n        return { authorized: false, error: 'No token provided' }\r\n    }\r\n\r\n    const token = authHeader.substring(7)\r\n    const payload = await verifyAccessToken(token)\r\n\r\n    if (!payload) {\r\n        return { authorized: false, error: 'Invalid token' }\r\n    }\r\n\r\n    return { authorized: true, userId: payload.userId, role: payload.role }\r\n}\r\n\r\n// GET /api/student/assignments - Get student assignments\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const auth = await verifyStudentAccess(request)\r\n        if (!auth.authorized) {\r\n            return NextResponse.json(\r\n                { success: false, message: auth.error },\r\n                { status: 401 }\r\n            )\r\n        }\r\n\r\n        const { searchParams } = new URL(request.url)\r\n        const studentId = searchParams.get('studentId') || auth.userId\r\n\r\n        // Only allow students to view their own assignments\r\n        if (auth.role === 'student' && studentId !== auth.userId) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'Unauthorized' },\r\n                { status: 403 }\r\n            )\r\n        }\r\n\r\n        const assignments = await prisma.assignment.findMany({\r\n            where: {\r\n                subject: {\r\n                    students: {\r\n                        some: { id: studentId }\r\n                    }\r\n                }\r\n            } as any,\r\n            include: {\r\n                subject: {\r\n                    select: { name: true, code: true }\r\n                },\r\n                submissions: {\r\n                    where: { studentId },\r\n                    select: {\r\n                        id: true,\r\n                        submittedAt: true,\r\n                        score: true,\r\n                        feedback: true,\r\n                        status: true,\r\n                    }\r\n                }\r\n            },\r\n            orderBy: { dueDate: 'asc' },\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            assignments,\r\n        })\r\n    } catch (error) {\r\n        console.error('Get assignments error:', error)\r\n        return NextResponse.json(\r\n            { success: false, message: 'Internal server error' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\student\\attendance\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1607,1610],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1607,1610],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":83,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":83,"endColumn":22,"suggestions":[{"fix":{"range":[2835,2880],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { verifyAccessToken } from '@/lib/auth'\r\n\r\nasync function verifyStudentAccess(request: NextRequest) {\r\n    const authHeader = request.headers.get('authorization')\r\n\r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n        return { authorized: false, error: 'No token provided' }\r\n    }\r\n\r\n    const token = authHeader.substring(7)\r\n    const payload = await verifyAccessToken(token)\r\n\r\n    if (!payload) {\r\n        return { authorized: false, error: 'Invalid token' }\r\n    }\r\n\r\n    return { authorized: true, userId: payload.userId, role: payload.role }\r\n}\r\n\r\n// GET /api/student/attendance - Get student attendance records\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const auth = await verifyStudentAccess(request)\r\n        if (!auth.authorized) {\r\n            return NextResponse.json(\r\n                { success: false, message: auth.error },\r\n                { status: 401 }\r\n            )\r\n        }\r\n\r\n        const { searchParams } = new URL(request.url)\r\n        const studentId = searchParams.get('studentId') || auth.userId\r\n        const month = searchParams.get('month') // Optional: filter by month (YYYY-MM)\r\n\r\n        // Only allow students to view their own attendance\r\n        if (auth.role === 'student' && studentId !== auth.userId) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'Unauthorized' },\r\n                { status: 403 }\r\n            )\r\n        }\r\n\r\n        // Build date filter\r\n        const where: any = { studentId }\r\n        if (month) {\r\n            const startDate = new Date(`${month}-01`)\r\n            const endDate = new Date(startDate)\r\n            endDate.setMonth(endDate.getMonth() + 1)\r\n\r\n            where.date = {\r\n                gte: startDate,\r\n                lt: endDate,\r\n            }\r\n        }\r\n\r\n        const attendance = await prisma.attendance.findMany({\r\n            where,\r\n            orderBy: { date: 'desc' },\r\n        })\r\n\r\n        // Calculate statistics\r\n        const total = attendance.length\r\n        const present = attendance.filter(a => a.status === 'PRESENT').length\r\n        const absent = attendance.filter(a => a.status === 'ABSENT').length\r\n        const late = attendance.filter(a => a.status === 'LATE').length\r\n        const excused = attendance.filter(a => a.status === 'EXCUSED').length\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            attendance,\r\n            statistics: {\r\n                total,\r\n                present,\r\n                absent,\r\n                late,\r\n                excused,\r\n                rate: total > 0 ? ((present + late) / total * 100).toFixed(1) : '0',\r\n            },\r\n        })\r\n    } catch (error) {\r\n        console.error('Get attendance error:', error)\r\n        return NextResponse.json(\r\n            { success: false, message: 'Internal server error' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\student\\grades\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":60,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":60,"endColumn":22,"suggestions":[{"fix":{"range":[1944,1985],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { verifyAccessToken } from '@/lib/auth'\r\n\r\n// Helper to verify student or teacher access\r\nasync function verifyStudentAccess(request: NextRequest) {\r\n    const authHeader = request.headers.get('authorization')\r\n\r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n        return { authorized: false, error: 'No token provided' }\r\n    }\r\n\r\n    const token = authHeader.substring(7)\r\n    const payload = await verifyAccessToken(token)\r\n\r\n    if (!payload) {\r\n        return { authorized: false, error: 'Invalid token' }\r\n    }\r\n\r\n    return { authorized: true, userId: payload.userId, role: payload.role }\r\n}\r\n\r\n// GET /api/student/grades - Get student grades\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const auth = await verifyStudentAccess(request)\r\n        if (!auth.authorized) {\r\n            return NextResponse.json(\r\n                { success: false, message: auth.error },\r\n                { status: 401 }\r\n            )\r\n        }\r\n\r\n        const { searchParams } = new URL(request.url)\r\n        const studentId = searchParams.get('studentId') || auth.userId\r\n\r\n        // Only allow students to view their own grades, teachers/admins can view any\r\n        if (auth.role === 'student' && studentId !== auth.userId) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'Unauthorized' },\r\n                { status: 403 }\r\n            )\r\n        }\r\n\r\n        const grades = await prisma.grade.findMany({\r\n            where: { studentId },\r\n            include: {\r\n                subject: {\r\n                    select: { name: true, code: true }\r\n                }\r\n            },\r\n            orderBy: { createdAt: 'desc' },\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            grades,\r\n        })\r\n    } catch (error) {\r\n        console.error('Get grades error:', error)\r\n        return NextResponse.json(\r\n            { success: false, message: 'Internal server error' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\teacher\\assignments\\create\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":87,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":87,"endColumn":22,"suggestions":[{"fix":{"range":[2798,2846],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { verifyAccessToken } from '@/lib/auth'\r\n\r\nasync function verifyTeacherAccess(request: NextRequest) {\r\n    const authHeader = request.headers.get('authorization')\r\n\r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n        return { authorized: false, error: 'No token provided' }\r\n    }\r\n\r\n    const token = authHeader.substring(7)\r\n    const payload = await verifyAccessToken(token)\r\n\r\n    if (!payload || (payload.role !== 'teacher' && payload.role !== 'admin')) {\r\n        return { authorized: false, error: 'Teacher access required' }\r\n    }\r\n\r\n    return { authorized: true, userId: payload.userId }\r\n}\r\n\r\n// POST /api/teacher/assignments/create - Create assignment\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const auth = await verifyTeacherAccess(request)\r\n        if (!auth.authorized) {\r\n            return NextResponse.json(\r\n                { success: false, message: auth.error },\r\n                { status: 401 }\r\n            )\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { subjectId, title, description, dueDate, maxScore } = body\r\n\r\n        // Validate required fields\r\n        if (!subjectId || !title || !dueDate || !maxScore) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'Missing required fields' },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        // Verify teacher teaches this subject\r\n        const subject = await prisma.subject.findFirst({\r\n            where: {\r\n                id: subjectId,\r\n                teacherId: auth.userId,\r\n            },\r\n        })\r\n\r\n        if (!subject) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'You do not teach this subject' },\r\n                { status: 403 }\r\n            )\r\n        }\r\n\r\n        // Create assignment\r\n        const assignment = await prisma.assignment.create({\r\n            data: {\r\n                subjectId,\r\n                title,\r\n                description: description || '',\r\n                grade: subject.grade,\r\n                dueDate: new Date(dueDate),\r\n                totalPoints: maxScore,\r\n                assignmentType: 'HOMEWORK',\r\n                createdBy: auth.userId!,\r\n            },\r\n            include: {\r\n                subject: {\r\n                    select: {\r\n                        name: true,\r\n                        code: true,\r\n                    },\r\n                },\r\n            },\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'Assignment created successfully',\r\n            assignment,\r\n        }, { status: 201 })\r\n    } catch (error) {\r\n        console.error('Create assignment error:', error)\r\n        return NextResponse.json(\r\n            { success: false, message: 'Internal server error' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\teacher\\attendance\\mark\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":117,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":117,"endColumn":22,"suggestions":[{"fix":{"range":[3751,3797],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { verifyAccessToken } from '@/lib/auth'\r\n\r\nasync function verifyTeacherAccess(request: NextRequest) {\r\n    const authHeader = request.headers.get('authorization')\r\n\r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n        return { authorized: false, error: 'No token provided' }\r\n    }\r\n\r\n    const token = authHeader.substring(7)\r\n    const payload = await verifyAccessToken(token)\r\n\r\n    if (!payload || (payload.role !== 'teacher' && payload.role !== 'admin')) {\r\n        return { authorized: false, error: 'Teacher access required' }\r\n    }\r\n\r\n    return { authorized: true, userId: payload.userId }\r\n}\r\n\r\n// POST /api/teacher/attendance/mark - Mark attendance\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const auth = await verifyTeacherAccess(request)\r\n        if (!auth.authorized) {\r\n            return NextResponse.json(\r\n                { success: false, message: auth.error },\r\n                { status: 401 }\r\n            )\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { studentId, subjectId, status, date, notes } = body\r\n\r\n        // Validate status\r\n        const validStatuses = ['present', 'absent', 'late', 'excused']\r\n        if (!validStatuses.includes(status)) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'Invalid attendance status' },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        // Verify teacher teaches this subject\r\n        const subject = await prisma.subject.findFirst({\r\n            where: {\r\n                id: subjectId,\r\n                teacherId: auth.userId,\r\n            },\r\n        })\r\n\r\n        if (!subject) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'You do not teach this subject' },\r\n                { status: 403 }\r\n            )\r\n        }\r\n\r\n        const attendanceDate = date ? new Date(date) : new Date()\r\n        attendanceDate.setHours(0, 0, 0, 0) // Normalize to start of day\r\n\r\n        // Check if attendance already exists for this day\r\n        const existing = await prisma.attendance.findFirst({\r\n            where: {\r\n                studentId,\r\n                subjectId,\r\n                date: attendanceDate,\r\n            },\r\n        })\r\n\r\n        let attendance\r\n        if (existing) {\r\n            // Update existing\r\n            attendance = await prisma.attendance.update({\r\n                where: { id: existing.id },\r\n                data: {\r\n                    status,\r\n                    notes: notes || null,\r\n                },\r\n                include: {\r\n                    student: {\r\n                        select: {\r\n                            firstName: true,\r\n                            lastName: true,\r\n                        },\r\n                    },\r\n                },\r\n            })\r\n        } else {\r\n            // Create new\r\n            attendance = await prisma.attendance.create({\r\n                data: {\r\n                    studentId,\r\n                    subjectId,\r\n                    status,\r\n                    date: attendanceDate,\r\n                    notes: notes || null,\r\n                },\r\n                include: {\r\n                    student: {\r\n                        select: {\r\n                            firstName: true,\r\n                            lastName: true,\r\n                        },\r\n                    },\r\n                },\r\n            })\r\n        }\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'Attendance marked successfully',\r\n            attendance,\r\n        })\r\n    } catch (error) {\r\n        console.error('Mark attendance error:', error)\r\n        return NextResponse.json(\r\n            { success: false, message: 'Internal server error' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\teacher\\classes\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":68,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":68,"endColumn":22,"suggestions":[{"fix":{"range":[2127,2169],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { verifyAccessToken } from '@/lib/auth'\r\n\r\nasync function verifyTeacherAccess(request: NextRequest) {\r\n    const authHeader = request.headers.get('authorization')\r\n\r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n        return { authorized: false, error: 'No token provided' }\r\n    }\r\n\r\n    const token = authHeader.substring(7)\r\n    const payload = await verifyAccessToken(token)\r\n\r\n    if (!payload) {\r\n        return { authorized: false, error: 'Invalid token' }\r\n    }\r\n\r\n    if (payload.role !== 'teacher' && payload.role !== 'admin') {\r\n        return { authorized: false, error: 'Teacher access required' }\r\n    }\r\n\r\n    return { authorized: true, userId: payload.userId, role: payload.role }\r\n}\r\n\r\n// GET /api/teacher/classes - Get teacher's classes\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const auth = await verifyTeacherAccess(request)\r\n        if (!auth.authorized) {\r\n            return NextResponse.json(\r\n                { success: false, message: auth.error },\r\n                { status: 401 }\r\n            )\r\n        }\r\n\r\n        // Get subjects taught by this teacher\r\n        const subjects = await prisma.subject.findMany({\r\n            where: {\r\n                teacherId: auth.userId,\r\n            },\r\n            include: {\r\n                students: {\r\n                    select: {\r\n                        id: true,\r\n                        firstName: true,\r\n                        lastName: true,\r\n                        grade: true,\r\n                        studentId: true,\r\n                        email: true,\r\n                    },\r\n                },\r\n                _count: {\r\n                    select: {\r\n                        students: true,\r\n                        assignments: true,\r\n                    },\r\n                },\r\n            },\r\n            orderBy: { name: 'asc' },\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            classes: subjects,\r\n        })\r\n    } catch (error) {\r\n        console.error('Get classes error:', error)\r\n        return NextResponse.json(\r\n            { success: false, message: 'Internal server error' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\api\\teacher\\grades\\create\\route.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":91,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":91,"endColumn":22,"suggestions":[{"fix":{"range":[2896,2939],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/db'\r\nimport { verifyAccessToken } from '@/lib/auth'\r\n\r\nasync function verifyTeacherAccess(request: NextRequest) {\r\n    const authHeader = request.headers.get('authorization')\r\n\r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n        return { authorized: false, error: 'No token provided' }\r\n    }\r\n\r\n    const token = authHeader.substring(7)\r\n    const payload = await verifyAccessToken(token)\r\n\r\n    if (!payload || (payload.role !== 'teacher' && payload.role !== 'admin')) {\r\n        return { authorized: false, error: 'Teacher access required' }\r\n    }\r\n\r\n    return { authorized: true, userId: payload.userId }\r\n}\r\n\r\n// POST /api/teacher/grades/create - Create grade entry\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const auth = await verifyTeacherAccess(request)\r\n        if (!auth.authorized) {\r\n            return NextResponse.json(\r\n                { success: false, message: auth.error },\r\n                { status: 401 }\r\n            )\r\n        }\r\n\r\n        const body = await request.json()\r\n        const { studentId, subjectId, score, maxScore, assessmentType, weight, date } = body\r\n\r\n        // Validate required fields\r\n        if (!studentId || !subjectId || score === undefined || !maxScore || !assessmentType) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'Missing required fields' },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        // Verify teacher teaches this subject\r\n        const subject = await prisma.subject.findFirst({\r\n            where: {\r\n                id: subjectId,\r\n                teacherId: auth.userId,\r\n            },\r\n        })\r\n\r\n        if (!subject) {\r\n            return NextResponse.json(\r\n                { success: false, message: 'You do not teach this subject' },\r\n                { status: 403 }\r\n            )\r\n        }\r\n\r\n        // Create grade\r\n        const grade = await prisma.grade.create({\r\n            data: {\r\n                studentId,\r\n                subjectId,\r\n                score,\r\n                maxScore,\r\n                assessmentType,\r\n                weight: weight || 1.0,\r\n                date: date ? new Date(date) : new Date(),\r\n            },\r\n            include: {\r\n                student: {\r\n                    select: {\r\n                        firstName: true,\r\n                        lastName: true,\r\n                    },\r\n                },\r\n                subject: {\r\n                    select: {\r\n                        name: true,\r\n                    },\r\n                },\r\n            },\r\n        })\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: 'Grade added successfully',\r\n            grade,\r\n        }, { status: 201 })\r\n    } catch (error) {\r\n        console.error('Create grade error:', error)\r\n        return NextResponse.json(\r\n            { success: false, message: 'Internal server error' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\boarding\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\calendar\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\campus-map-v2\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\campus-map\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\campus-tour\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\career-guidance\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\careers\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\contact-v2\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\contact\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\feature-flags-demo\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\news\\[slug]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[339,342],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[339,342],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { notFound } from 'next/navigation';\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\nimport PremiumHeader from '@/components/layout/PremiumHeader';\r\nimport PremiumFooter from '@/components/layout/PremiumFooter';\r\n\r\n// This would normally come from a database or CMS\r\nconst ARTICLES: Record<string, any> = {\r\n  'rugby-championship': {\r\n    title: 'Rugby First XV Wins National Championship',\r\n    date: 'January 15, 2026',\r\n    author: 'Sports Department',\r\n    category: 'Sports',\r\n    image: 'https://images.unsplash.com/photo-1431324155629-1a6deb1dec8d?w=1200',\r\n    content: [\r\n      'In a thrilling final match that kept spectators on the edge of their seats, our Rugby First XV team secured the National Championship title with a commanding 28-21 victory over St. Johns Academy.',\r\n      'The match, played at the National Sports Stadium, showcased the exceptional talent and determination of our team. Captain James Mitchell led from the front with two crucial tries, while fly-half Sarah Chen\\'s precise kicking kept the scoreboard ticking.',\r\n      'Coach Anderson praised the team\\'s resilience: \"This victory is the result of months of dedicated training and unwavering commitment. The boys showed incredible character, especially in the final quarter when the pressure was immense.\"',\r\n      'The championship win caps off an undefeated season for the First XV, with 12 wins from 12 matches. This is Regisbridge Academy\\'s third national title in the past decade.',\r\n      'Congratulations to all the players, coaches, and supporters who made this achievement possible!',\r\n    ],\r\n  },\r\n};\r\n\r\nexport default async function NewsArticlePage({\r\n  params,\r\n}: {\r\n  params: Promise<{ slug: string }>;\r\n}) {\r\n  const { slug } = await params;\r\n  const article = ARTICLES[slug];\r\n\r\n  if (!article) {\r\n    notFound();\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative flex min-h-screen w-full flex-col bg-white\">\r\n      <PremiumHeader />\r\n\r\n      <main>\r\n        {/* Article Header */}\r\n        <article className=\"max-w-[900px] mx-auto px-4 sm:px-10 py-12\">\r\n          {/* Breadcrumbs */}\r\n          <nav className=\"flex items-center gap-2 text-sm text-gray-500 mb-6\">\r\n            <Link href=\"/\" className=\"hover:text-brand-navy\">Home</Link>\r\n            <span>/</span>\r\n            <Link href=\"/news\" className=\"hover:text-brand-navy\">News</Link>\r\n            <span>/</span>\r\n            <span className=\"text-gray-900\">{article.title}</span>\r\n          </nav>\r\n\r\n          {/* Category Badge */}\r\n          <div className=\"mb-4\">\r\n            <span className=\"inline-block px-3 py-1 bg-brand-navy text-white text-xs font-bold rounded-full uppercase tracking-wide\">\r\n              {article.category}\r\n            </span>\r\n          </div>\r\n\r\n          {/* Title */}\r\n          <h1 className=\"text-4xl md:text-5xl font-black text-gray-900 leading-tight mb-6\">\r\n            {article.title}\r\n          </h1>\r\n\r\n          {/* Meta */}\r\n          <div className=\"flex items-center gap-6 text-sm text-gray-600 mb-8 pb-8 border-b border-gray-200\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"material-symbols-outlined text-[18px]\">calendar_today</span>\r\n              <span>{article.date}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"material-symbols-outlined text-[18px]\">person</span>\r\n              <span>{article.author}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Featured Image */}\r\n          <div className=\"relative aspect-video rounded-xl overflow-hidden mb-10\">\r\n            <Image\r\n              src={article.image}\r\n              alt={article.title}\r\n              fill\r\n              className=\"object-cover\"\r\n              priority\r\n            />\r\n          </div>\r\n\r\n          {/* Article Content */}\r\n          <div className=\"prose prose-lg max-w-none\">\r\n            {article.content.map((paragraph: string, index: number) => (\r\n              <p key={index} className=\"text-gray-700 leading-relaxed mb-6\">\r\n                {paragraph}\r\n              </p>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Share Section */}\r\n          <div className=\"mt-12 pt-8 border-t border-gray-200\">\r\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Share this article</h3>\r\n            <div className=\"flex gap-3\">\r\n              <button className=\"w-10 h-10 rounded-full bg-brand-navy/10 text-brand-navy hover:bg-brand-navy hover:text-white transition-colors flex items-center justify-center\">\r\n                <span className=\"text-sm font-bold\">FB</span>\r\n              </button>\r\n              <button className=\"w-10 h-10 rounded-full bg-brand-navy/10 text-brand-navy hover:bg-brand-navy hover:text-white transition-colors flex items-center justify-center\">\r\n                <span className=\"text-sm font-bold\">TW</span>\r\n              </button>\r\n              <button className=\"w-10 h-10 rounded-full bg-brand-navy/10 text-brand-navy hover:bg-brand-navy hover:text-white transition-colors flex items-center justify-center\">\r\n                <span className=\"text-sm font-bold\">LN</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Back to News */}\r\n          <div className=\"mt-10\">\r\n            <Link\r\n              href=\"/news\"\r\n              className=\"inline-flex items-center text-brand-navy font-bold hover:underline\"\r\n            >\r\n              <span className=\"material-symbols-outlined mr-2\">arrow_back</span>\r\n              Back to News\r\n            </Link>\r\n          </div>\r\n        </article>\r\n\r\n        {/* Related Articles */}\r\n        <section className=\"bg-gray-50 py-16\">\r\n          <div className=\"max-w-[1200px] mx-auto px-4 sm:px-10\">\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-8\">Related Articles</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n              {[1, 2, 3].map((i) => (\r\n                <div key={i} className=\"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-shadow\">\r\n                  <div className=\"h-48 bg-gray-200\"></div>\r\n                  <div className=\"p-6\">\r\n                    <span className=\"text-xs text-brand-navy font-bold uppercase\">Sports</span>\r\n                    <h3 className=\"font-bold text-gray-900 mt-2 mb-3\">Related Article Title</h3>\r\n                    <p className=\"text-sm text-gray-600\">Excerpt of the article...</p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n\r\n      <PremiumFooter />\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\news\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\not-found.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\parent-v2\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\parent\\financial\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\parent\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\parent\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\policies\\uniform\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\portal\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\press\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\privacy\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\robots.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\shop\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\sitemap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\staff-v2\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\staff\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student-leadership-v2\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student-leadership\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student-life-v2\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student-life\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student\\assignments\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Calendar' is defined but never used.","line":8,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":30,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":30,"endColumn":17},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":54,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":54,"endColumn":26,"suggestions":[{"fix":{"range":[1640,1692],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useAuth } from '@/contexts/AuthContext'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { ArrowLeft, Calendar, CheckCircle, Clock, XCircle } from 'lucide-react'\r\n\r\ninterface Assignment {\r\n    id: string\r\n    title: string\r\n    description: string\r\n    dueDate: string\r\n    maxScore: number\r\n    subject: {\r\n        name: string\r\n        code: string\r\n    }\r\n    submissions: {\r\n        id: string\r\n        submittedAt: string\r\n        grade?: number\r\n        feedback?: string\r\n        status: string\r\n    }[]\r\n}\r\n\r\nexport default function AssignmentsPage() {\r\n    const { user, logout } = useAuth()\r\n    const router = useRouter()\r\n    const [assignments, setAssignments] = useState<Assignment[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [filter, setFilter] = useState<'all' | 'pending' | 'submitted' | 'graded'>('all')\r\n\r\n    useEffect(() => {\r\n        fetchAssignments()\r\n    }, [])\r\n\r\n    const fetchAssignments = async () => {\r\n        try {\r\n            const token = localStorage.getItem('accessToken')\r\n            const response = await fetch('/api/student/assignments', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n            })\r\n\r\n            if (response.ok) {\r\n                const data = await response.json()\r\n                setAssignments(data.assignments)\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch assignments:', error)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const getAssignmentStatus = (assignment: Assignment) => {\r\n        if (assignment.submissions.length === 0) {\r\n            const dueDate = new Date(assignment.dueDate)\r\n            const now = new Date()\r\n            return dueDate < now ? 'overdue' : 'pending'\r\n        }\r\n\r\n        const submission = assignment.submissions[0]\r\n        if (submission.grade !== null && submission.grade !== undefined) {\r\n            return 'graded'\r\n        }\r\n        return 'submitted'\r\n    }\r\n\r\n    const getStatusBadge = (status: string) => {\r\n        const badges = {\r\n            pending: { text: 'Pending', color: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30', icon: Clock },\r\n            overdue: { text: 'Overdue', color: 'bg-red-100 text-red-800 dark:bg-red-900/30', icon: XCircle },\r\n            submitted: { text: 'Submitted', color: 'bg-blue-100 text-blue-800 dark:bg-blue-900/30', icon: CheckCircle },\r\n            graded: { text: 'Graded', color: 'bg-green-100 text-green-800 dark:bg-green-900/30', icon: CheckCircle },\r\n        }\r\n        const badge = badges[status as keyof typeof badges] || badges.pending\r\n        const Icon = badge.icon\r\n        return (\r\n            <span className={`px-2 py-1 rounded-full text-xs font-medium ${badge.color} flex items-center gap-1`}>\r\n                <Icon className=\"h-3 w-3\" />\r\n                {badge.text}\r\n            </span>\r\n        )\r\n    }\r\n\r\n    const filteredAssignments = assignments.filter(assignment => {\r\n        if (filter === 'all') return true\r\n        return getAssignmentStatus(assignment) === filter\r\n    })\r\n\r\n    const stats = {\r\n        total: assignments.length,\r\n        pending: assignments.filter(a => getAssignmentStatus(a) === 'pending').length,\r\n        submitted: assignments.filter(a => getAssignmentStatus(a) === 'submitted').length,\r\n        graded: assignments.filter(a => getAssignmentStatus(a) === 'graded').length,\r\n        overdue: assignments.filter(a => getAssignmentStatus(a) === 'overdue').length,\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900\">\r\n            {/* Header */}\r\n            <header className=\"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <Button variant=\"ghost\" onClick={() => router.push('/student')}>\r\n                            <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                            Back\r\n                        </Button>\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold\">My Assignments</h1>\r\n                            <p className=\"text-sm text-muted-foreground\">Track and submit your assignments</p>\r\n                        </div>\r\n                    </div>\r\n                    <Button onClick={() => { logout(); router.push('/login') }} variant=\"outline\">\r\n                        Logout\r\n                    </Button>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n                {/* Stats Cards */}\r\n                <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8\">\r\n                    <Card className={`cursor-pointer transition-all ${filter === 'all' ? 'ring-2 ring-primary' : ''}`}\r\n                        onClick={() => setFilter('all')}>\r\n                        <CardContent className=\"p-4 text-center\">\r\n                            <p className=\"text-2xl font-bold\">{stats.total}</p>\r\n                            <p className=\"text-sm text-muted-foreground\">Total</p>\r\n                        </CardContent>\r\n                    </Card>\r\n                    <Card className={`cursor-pointer transition-all ${filter === 'pending' ? 'ring-2 ring-primary' : ''}`}\r\n                        onClick={() => setFilter('pending')}>\r\n                        <CardContent className=\"p-4 text-center\">\r\n                            <p className=\"text-2xl font-bold text-yellow-600\">{stats.pending}</p>\r\n                            <p className=\"text-sm text-muted-foreground\">Pending</p>\r\n                        </CardContent>\r\n                    </Card>\r\n                    <Card className={`cursor-pointer transition-all ${filter === 'submitted' ? 'ring-2 ring-primary' : ''}`}\r\n                        onClick={() => setFilter('submitted')}>\r\n                        <CardContent className=\"p-4 text-center\">\r\n                            <p className=\"text-2xl font-bold text-blue-600\">{stats.submitted}</p>\r\n                            <p className=\"text-sm text-muted-foreground\">Submitted</p>\r\n                        </CardContent>\r\n                    </Card>\r\n                    <Card className={`cursor-pointer transition-all ${filter === 'graded' ? 'ring-2 ring-primary' : ''}`}\r\n                        onClick={() => setFilter('graded')}>\r\n                        <CardContent className=\"p-4 text-center\">\r\n                            <p className=\"text-2xl font-bold text-green-600\">{stats.graded}</p>\r\n                            <p className=\"text-sm text-muted-foreground\">Graded</p>\r\n                        </CardContent>\r\n                    </Card>\r\n                    <Card className=\"bg-red-50 dark:bg-red-900/20\">\r\n                        <CardContent className=\"p-4 text-center\">\r\n                            <p className=\"text-2xl font-bold text-red-600\">{stats.overdue}</p>\r\n                            <p className=\"text-sm text-muted-foreground\">Overdue</p>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n\r\n                {/* Assignments List */}\r\n                {loading ? (\r\n                    <div className=\"text-center py-8\">\r\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\r\n                    </div>\r\n                ) : filteredAssignments.length === 0 ? (\r\n                    <Card>\r\n                        <CardContent className=\"text-center py-8 text-muted-foreground\">\r\n                            <p>No assignments found</p>\r\n                            <p className=\"text-sm mt-2\">\r\n                                {filter === 'all'\r\n                                    ? 'Assignments will appear here once your teachers create them'\r\n                                    : `No ${filter} assignments`}\r\n                            </p>\r\n                        </CardContent>\r\n                    </Card>\r\n                ) : (\r\n                    <div className=\"space-y-4\">\r\n                        {filteredAssignments.map((assignment) => {\r\n                            const status = getAssignmentStatus(assignment)\r\n                            const submission = assignment.submissions[0]\r\n                            const dueDate = new Date(assignment.dueDate)\r\n                            const isOverdue = status === 'overdue'\r\n\r\n                            return (\r\n                                <Card key={assignment.id} className={isOverdue ? 'border-red-300' : ''}>\r\n                                    <CardHeader>\r\n                                        <div className=\"flex justify-between items-start\">\r\n                                            <div className=\"flex-1\">\r\n                                                <div className=\"flex items-center gap-3 mb-2\">\r\n                                                    <CardTitle className=\"text-lg\">{assignment.title}</CardTitle>\r\n                                                    {getStatusBadge(status)}\r\n                                                </div>\r\n                                                <CardDescription>\r\n                                                    {assignment.subject.name} â€¢ Due: {dueDate.toLocaleDateString()} at {dueDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                                                </CardDescription>\r\n                                            </div>\r\n                                            <div className=\"text-right\">\r\n                                                <p className=\"text-sm text-muted-foreground\">Max Score</p>\r\n                                                <p className=\"text-xl font-bold\">{assignment.maxScore}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </CardHeader>\r\n                                    <CardContent>\r\n                                        <p className=\"text-sm mb-4\">{assignment.description}</p>\r\n\r\n                                        {submission ? (\r\n                                            <div className=\"p-4 bg-muted rounded-lg\">\r\n                                                <p className=\"text-sm font-medium mb-2\">Your Submission</p>\r\n                                                <p className=\"text-sm text-muted-foreground mb-2\">\r\n                                                    Submitted: {new Date(submission.submittedAt).toLocaleString()}\r\n                                                </p>\r\n                                                {submission.grade !== null && submission.grade !== undefined ? (\r\n                                                    <div>\r\n                                                        <p className=\"text-lg font-bold text-green-600\">\r\n                                                            Grade: {submission.grade}/{assignment.maxScore} ({((submission.grade / assignment.maxScore) * 100).toFixed(1)}%)\r\n                                                        </p>\r\n                                                        {submission.feedback && (\r\n                                                            <div className=\"mt-2 p-2 bg-background rounded\">\r\n                                                                <p className=\"text-sm font-medium\">Teacher Feedback:</p>\r\n                                                                <p className=\"text-sm\">{submission.feedback}</p>\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </div>\r\n                                                ) : (\r\n                                                    <p className=\"text-sm text-blue-600\">Awaiting grade...</p>\r\n                                                )}\r\n                                            </div>\r\n                                        ) : (\r\n                                            <Button className=\"w-full\" disabled>\r\n                                                Submit Assignment (Coming Soon)\r\n                                            </Button>\r\n                                        )}\r\n                                    </CardContent>\r\n                                </Card>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                )}\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student\\grades\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TrendingUp' is defined but never used.","line":8,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TrendingDown' is defined but never used.","line":8,"column":33,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":45},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":24,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":17},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":47,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":47,"endColumn":26,"suggestions":[{"fix":{"range":[1356,1403],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useAuth } from '@/contexts/AuthContext'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { ArrowLeft, TrendingUp, TrendingDown } from 'lucide-react'\r\n\r\ninterface Grade {\r\n    id: string\r\n    score: number\r\n    assessmentType: string\r\n    maxScore: number\r\n    weight: number\r\n    subject: {\r\n        name: string\r\n        code: string\r\n    }\r\n    createdAt: string\r\n}\r\n\r\nexport default function GradesPage() {\r\n    const { user, logout } = useAuth()\r\n    const router = useRouter()\r\n    const [grades, setGrades] = useState<Grade[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        fetchGrades()\r\n    }, [])\r\n\r\n    const fetchGrades = async () => {\r\n        try {\r\n            const token = localStorage.getItem('accessToken')\r\n            const response = await fetch('/api/student/grades', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n            })\r\n\r\n            if (response.ok) {\r\n                const data = await response.json()\r\n                setGrades(data.grades)\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch grades:', error)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const calculatePercentage = (score: number, maxScore: number) => {\r\n        return ((score / maxScore) * 100).toFixed(1)\r\n    }\r\n\r\n    const getGradeColor = (percentage: number) => {\r\n        if (percentage >= 90) return 'text-green-600'\r\n        if (percentage >= 80) return 'text-blue-600'\r\n        if (percentage >= 70) return 'text-yellow-600'\r\n        if (percentage >= 60) return 'text-orange-600'\r\n        return 'text-red-600'\r\n    }\r\n\r\n    const getGradeLetter = (percentage: number) => {\r\n        if (percentage >= 90) return 'A'\r\n        if (percentage >= 80) return 'B'\r\n        if (percentage >= 70) return 'C'\r\n        if (percentage >= 60) return 'D'\r\n        return 'F'\r\n    }\r\n\r\n    // Group grades by subject\r\n    const gradesBySubject = grades.reduce((acc, grade) => {\r\n        const subjectName = grade.subject.name\r\n        if (!acc[subjectName]) {\r\n            acc[subjectName] = []\r\n        }\r\n        acc[subjectName].push(grade)\r\n        return acc\r\n    }, {} as Record<string, Grade[]>)\r\n\r\n    // Calculate subject averages\r\n    const subjectAverages = Object.entries(gradesBySubject).map(([subject, subjectGrades]) => {\r\n        const totalWeightedScore = subjectGrades.reduce((sum, g) => {\r\n            const percentage = (g.score / g.maxScore) * 100\r\n            return sum + (percentage * g.weight)\r\n        }, 0)\r\n        const totalWeight = subjectGrades.reduce((sum, g) => sum + g.weight, 0)\r\n        const average = totalWeight > 0 ? totalWeightedScore / totalWeight : 0\r\n\r\n        return { subject, average, grades: subjectGrades }\r\n    })\r\n\r\n    const overallAverage = subjectAverages.length > 0\r\n        ? subjectAverages.reduce((sum, s) => sum + s.average, 0) / subjectAverages.length\r\n        : 0\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900\">\r\n            {/* Header */}\r\n            <header className=\"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <Button variant=\"ghost\" onClick={() => router.push('/student')}>\r\n                            <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                            Back\r\n                        </Button>\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold\">My Grades</h1>\r\n                            <p className=\"text-sm text-muted-foreground\">Academic performance overview</p>\r\n                        </div>\r\n                    </div>\r\n                    <Button onClick={() => { logout(); router.push('/login') }} variant=\"outline\">\r\n                        Logout\r\n                    </Button>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n                {/* Overall Summary */}\r\n                <Card className=\"mb-8\">\r\n                    <CardHeader>\r\n                        <CardTitle>Overall Performance</CardTitle>\r\n                        <CardDescription>Your cumulative grade across all subjects</CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"flex items-center gap-8\">\r\n                            <div>\r\n                                <div className={`text-6xl font-bold ${getGradeColor(overallAverage)}`}>\r\n                                    {getGradeLetter(overallAverage)}\r\n                                </div>\r\n                                <p className=\"text-sm text-muted-foreground mt-2\">\r\n                                    {overallAverage.toFixed(1)}% Average\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"flex-1 grid grid-cols-3 gap-4\">\r\n                                <div className=\"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg\">\r\n                                    <p className=\"text-2xl font-bold text-green-600\">\r\n                                        {subjectAverages.filter(s => s.average >= 70).length}\r\n                                    </p>\r\n                                    <p className=\"text-sm text-muted-foreground\">Passing</p>\r\n                                </div>\r\n                                <div className=\"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n                                    <p className=\"text-2xl font-bold text-blue-600\">\r\n                                        {subjectAverages.length}\r\n                                    </p>\r\n                                    <p className=\"text-sm text-muted-foreground\">Subjects</p>\r\n                                </div>\r\n                                <div className=\"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg\">\r\n                                    <p className=\"text-2xl font-bold text-purple-600\">\r\n                                        {grades.length}\r\n                                    </p>\r\n                                    <p className=\"text-sm text-muted-foreground\">Total Grades</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                {/* Subject Breakdown */}\r\n                {loading ? (\r\n                    <div className=\"text-center py-8\">\r\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\r\n                    </div>\r\n                ) : subjectAverages.length === 0 ? (\r\n                    <Card>\r\n                        <CardContent className=\"text-center py-8 text-muted-foreground\">\r\n                            <p>No grades available yet</p>\r\n                            <p className=\"text-sm mt-2\">Grades will appear here once your teachers enter them</p>\r\n                        </CardContent>\r\n                    </Card>\r\n                ) : (\r\n                    <div className=\"space-y-6\">\r\n                        {subjectAverages.map(({ subject, average, grades: subjectGrades }) => (\r\n                            <Card key={subject}>\r\n                                <CardHeader>\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <div>\r\n                                            <CardTitle>{subject}</CardTitle>\r\n                                            <CardDescription>{subjectGrades.length} assessments</CardDescription>\r\n                                        </div>\r\n                                        <div className=\"text-right\">\r\n                                            <div className={`text-3xl font-bold ${getGradeColor(average)}`}>\r\n                                                {getGradeLetter(average)}\r\n                                            </div>\r\n                                            <p className=\"text-sm text-muted-foreground\">{average.toFixed(1)}%</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </CardHeader>\r\n                                <CardContent>\r\n                                    <div className=\"space-y-3\">\r\n                                        {subjectGrades.map((grade) => {\r\n                                            const percentage = parseFloat(calculatePercentage(grade.score, grade.maxScore))\r\n                                            return (\r\n                                                <div key={grade.id} className=\"flex items-center justify-between p-3 bg-muted/50 rounded-lg\">\r\n                                                    <div className=\"flex-1\">\r\n                                                        <p className=\"font-medium\">{grade.assessmentType}</p>\r\n                                                        <p className=\"text-sm text-muted-foreground\">\r\n                                                            {new Date(grade.createdAt).toLocaleDateString()}\r\n                                                        </p>\r\n                                                    </div>\r\n                                                    <div className=\"text-right\">\r\n                                                        <p className=\"text-lg font-semibold\">\r\n                                                            {grade.score}/{grade.maxScore}\r\n                                                        </p>\r\n                                                        <p className={`text-sm ${getGradeColor(percentage)}`}>\r\n                                                            {percentage}% â€¢ {getGradeLetter(percentage)}\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        })}\r\n                                    </div>\r\n                                </CardContent>\r\n                            </Card>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student\\house\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student\\library\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student\\reports\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\student\\timetable\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\support\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\teacher\\assignments\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":22,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":17},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":52,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":52,"endColumn":26,"suggestions":[{"fix":{"range":[1635,1683],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":99,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":99,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useAuth } from '@/contexts/AuthContext'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { ArrowLeft, Plus } from 'lucide-react'\r\n\r\ninterface Class {\r\n    id: string\r\n    name: string\r\n    code: string\r\n    _count: {\r\n        students: number\r\n    }\r\n}\r\n\r\nexport default function AssignmentsPage() {\r\n    const { user, logout } = useAuth()\r\n    const router = useRouter()\r\n    const [classes, setClasses] = useState<Class[]>([])\r\n    const [showForm, setShowForm] = useState(false)\r\n    const [formData, setFormData] = useState({\r\n        subjectId: '',\r\n        title: '',\r\n        description: '',\r\n        dueDate: '',\r\n        dueTime: '23:59',\r\n        maxScore: '100',\r\n    })\r\n    const [submitting, setSubmitting] = useState(false)\r\n    const [message, setMessage] = useState({ type: '', text: '' })\r\n\r\n    useEffect(() => {\r\n        fetchClasses()\r\n    }, [])\r\n\r\n    const fetchClasses = async () => {\r\n        try {\r\n            const token = localStorage.getItem('accessToken')\r\n            const response = await fetch('/api/teacher/classes', {\r\n                headers: { 'Authorization': `Bearer ${token}` },\r\n            })\r\n            if (response.ok) {\r\n                const data = await response.json()\r\n                setClasses(data.classes)\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch classes:', error)\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setSubmitting(true)\r\n        setMessage({ type: '', text: '' })\r\n\r\n        try {\r\n            const token = localStorage.getItem('accessToken')\r\n\r\n            // Combine date and time\r\n            const dueDateTime = new Date(`${formData.dueDate}T${formData.dueTime}`)\r\n\r\n            const response = await fetch('/api/teacher/assignments/create', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    ...formData,\r\n                    dueDate: dueDateTime.toISOString(),\r\n                    maxScore: parseInt(formData.maxScore),\r\n                }),\r\n            })\r\n\r\n            const data = await response.json()\r\n\r\n            if (response.ok) {\r\n                setMessage({\r\n                    type: 'success',\r\n                    text: `Assignment created! It will be visible to ${data.assignment.subject._count.students} students.`\r\n                })\r\n                setFormData({\r\n                    subjectId: '',\r\n                    title: '',\r\n                    description: '',\r\n                    dueDate: '',\r\n                    dueTime: '23:59',\r\n                    maxScore: '100',\r\n                })\r\n                setShowForm(false)\r\n            } else {\r\n                setMessage({ type: 'error', text: data.message || 'Failed to create assignment' })\r\n            }\r\n        } catch (error) {\r\n            setMessage({ type: 'error', text: 'An error occurred' })\r\n        } finally {\r\n            setSubmitting(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n            <header className=\"bg-white dark:bg-gray-800 border-b\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <Button variant=\"ghost\" onClick={() => router.push('/teacher')}>\r\n                            <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                            Back\r\n                        </Button>\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold\">Assignments</h1>\r\n                            <p className=\"text-sm text-muted-foreground\">Create and manage assignments</p>\r\n                        </div>\r\n                    </div>\r\n                    <Button onClick={() => { logout(); router.push('/login') }} variant=\"outline\">\r\n                        Logout\r\n                    </Button>\r\n                </div>\r\n            </header>\r\n\r\n            <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n                {message.text && (\r\n                    <div className={`p-3 rounded-md mb-4 ${message.type === 'success'\r\n                            ? 'bg-green-50 text-green-800 dark:bg-green-900/20'\r\n                            : 'bg-red-50 text-red-800 dark:bg-red-900/20'\r\n                        }`}>\r\n                        {message.text}\r\n                    </div>\r\n                )}\r\n\r\n                {!showForm ? (\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <div>\r\n                                    <CardTitle>Create New Assignment</CardTitle>\r\n                                    <CardDescription>Add assignments for your classes</CardDescription>\r\n                                </div>\r\n                                <Button onClick={() => setShowForm(true)}>\r\n                                    <Plus className=\"h-4 w-4 mr-2\" />\r\n                                    New Assignment\r\n                                </Button>\r\n                            </div>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"text-center py-8 text-muted-foreground\">\r\n                                <p>Click \"New Assignment\" to create an assignment for your students</p>\r\n                                <p className=\"text-sm mt-2\">Assignments will be visible to all students in the selected class</p>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                ) : (\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <CardTitle>Create Assignment</CardTitle>\r\n                                <Button variant=\"outline\" onClick={() => setShowForm(false)}>\r\n                                    Cancel\r\n                                </Button>\r\n                            </div>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"class\">Class/Subject *</Label>\r\n                                    <select\r\n                                        id=\"class\"\r\n                                        value={formData.subjectId}\r\n                                        onChange={(e) => setFormData({ ...formData, subjectId: e.target.value })}\r\n                                        className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2\"\r\n                                        required\r\n                                    >\r\n                                        <option value=\"\">Select a class...</option>\r\n                                        {classes.map((c) => (\r\n                                            <option key={c.id} value={c.id}>\r\n                                                {c.name} ({c.code}) - {c._count.students} students\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"title\">Assignment Title *</Label>\r\n                                    <Input\r\n                                        id=\"title\"\r\n                                        value={formData.title}\r\n                                        onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                                        placeholder=\"e.g., Chapter 5 Homework\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"description\">Description</Label>\r\n                                    <textarea\r\n                                        id=\"description\"\r\n                                        value={formData.description}\r\n                                        onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                        placeholder=\"Assignment instructions and details...\"\r\n                                        className=\"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2\"\r\n                                        rows={4}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"dueDate\">Due Date *</Label>\r\n                                        <Input\r\n                                            id=\"dueDate\"\r\n                                            type=\"date\"\r\n                                            value={formData.dueDate}\r\n                                            onChange={(e) => setFormData({ ...formData, dueDate: e.target.value })}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"dueTime\">Due Time *</Label>\r\n                                        <Input\r\n                                            id=\"dueTime\"\r\n                                            type=\"time\"\r\n                                            value={formData.dueTime}\r\n                                            onChange={(e) => setFormData({ ...formData, dueTime: e.target.value })}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"space-y-2\">\r\n                                    <Label htmlFor=\"maxScore\">Maximum Score *</Label>\r\n                                    <Input\r\n                                        id=\"maxScore\"\r\n                                        type=\"number\"\r\n                                        min=\"1\"\r\n                                        value={formData.maxScore}\r\n                                        onChange={(e) => setFormData({ ...formData, maxScore: e.target.value })}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"flex gap-2 pt-4\">\r\n                                    <Button type=\"submit\" className=\"flex-1\" disabled={submitting}>\r\n                                        {submitting ? 'Creating...' : 'Create Assignment'}\r\n                                    </Button>\r\n                                    <Button type=\"button\" variant=\"outline\" onClick={() => setShowForm(false)}>\r\n                                        Cancel\r\n                                    </Button>\r\n                                </div>\r\n                            </form>\r\n                        </CardContent>\r\n                    </Card>\r\n                )}\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\teacher\\attendance\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":26,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":17},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchClasses'. Either include it or remove the dependency array.","line":40,"column":8,"nodeType":"ArrayExpression","endLine":40,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchClasses]","fix":{"range":[1344,1346],"text":"[fetchClasses]"}}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":56,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":56,"endColumn":26,"suggestions":[{"fix":{"range":[1901,1949],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":91,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":91,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":98,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3596,3599],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3596,3599],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useAuth } from '@/contexts/AuthContext'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { ArrowLeft, Check, X, Clock, AlertCircle } from 'lucide-react'\r\n\r\ninterface Student {\r\n    id: string\r\n    firstName: string\r\n    lastName: string\r\n    studentId: string\r\n    grade: string\r\n}\r\n\r\ninterface Class {\r\n    id: string\r\n    name: string\r\n    code: string\r\n    students: Student[]\r\n}\r\n\r\nexport default function AttendancePage() {\r\n    const { user, logout } = useAuth()\r\n    const router = useRouter()\r\n    const searchParams = useSearchParams()\r\n    const subjectId = searchParams.get('subjectId')\r\n\r\n    const [classes, setClasses] = useState<Class[]>([])\r\n    const [selectedClass, setSelectedClass] = useState(subjectId || '')\r\n    const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0])\r\n    const [attendance, setAttendance] = useState<Record<string, string>>({})\r\n    const [submitting, setSubmitting] = useState<Record<string, boolean>>({})\r\n    const [message, setMessage] = useState({ type: '', text: '' })\r\n\r\n    useEffect(() => {\r\n        fetchClasses()\r\n    }, [])\r\n\r\n    const fetchClasses = async () => {\r\n        try {\r\n            const token = localStorage.getItem('accessToken')\r\n            const response = await fetch('/api/teacher/classes', {\r\n                headers: { 'Authorization': `Bearer ${token}` },\r\n            })\r\n            if (response.ok) {\r\n                const data = await response.json()\r\n                setClasses(data.classes)\r\n                if (subjectId) {\r\n                    setSelectedClass(subjectId)\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch classes:', error)\r\n        }\r\n    }\r\n\r\n    const selectedClassData = classes.find(c => c.id === selectedClass)\r\n\r\n    const markAttendance = async (studentId: string, status: string) => {\r\n        setSubmitting({ ...submitting, [studentId]: true })\r\n        setMessage({ type: '', text: '' })\r\n\r\n        try {\r\n            const token = localStorage.getItem('accessToken')\r\n            const response = await fetch('/api/teacher/attendance/mark', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    studentId,\r\n                    subjectId: selectedClass,\r\n                    status,\r\n                    date: selectedDate,\r\n                }),\r\n            })\r\n\r\n            const data = await response.json()\r\n\r\n            if (response.ok) {\r\n                setAttendance({ ...attendance, [studentId]: status })\r\n                setMessage({ type: 'success', text: `Attendance marked for ${data.attendance.student.firstName} ${data.attendance.student.lastName}` })\r\n                setTimeout(() => setMessage({ type: '', text: '' }), 3000)\r\n            } else {\r\n                setMessage({ type: 'error', text: data.message || 'Failed to mark attendance' })\r\n            }\r\n        } catch (error) {\r\n            setMessage({ type: 'error', text: 'An error occurred' })\r\n        } finally {\r\n            setSubmitting({ ...submitting, [studentId]: false })\r\n        }\r\n    }\r\n\r\n    const getStatusButton = (studentId: string, status: string, icon: any, label: string, color: string) => {\r\n        const Icon = icon\r\n        const isActive = attendance[studentId] === status\r\n\r\n        return (\r\n            <Button\r\n                size=\"sm\"\r\n                variant={isActive ? \"default\" : \"outline\"}\r\n                className={isActive ? color : ''}\r\n                onClick={() => markAttendance(studentId, status)}\r\n                disabled={submitting[studentId]}\r\n            >\r\n                <Icon className=\"h-4 w-4 mr-1\" />\r\n                {label}\r\n            </Button>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n            <header className=\"bg-white dark:bg-gray-800 border-b\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <Button variant=\"ghost\" onClick={() => router.push('/teacher/classes')}>\r\n                            <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                            Back\r\n                        </Button>\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold\">Mark Attendance</h1>\r\n                            <p className=\"text-sm text-muted-foreground\">Record student attendance</p>\r\n                        </div>\r\n                    </div>\r\n                    <Button onClick={() => { logout(); router.push('/login') }} variant=\"outline\">\r\n                        Logout\r\n                    </Button>\r\n                </div>\r\n            </header>\r\n\r\n            <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n                {message.text && (\r\n                    <div className={`p-3 rounded-md mb-4 ${message.type === 'success'\r\n                            ? 'bg-green-50 text-green-800 dark:bg-green-900/20'\r\n                            : 'bg-red-50 text-red-800 dark:bg-red-900/20'\r\n                        }`}>\r\n                        {message.text}\r\n                    </div>\r\n                )}\r\n\r\n                <Card className=\"mb-6\">\r\n                    <CardHeader>\r\n                        <CardTitle>Select Class and Date</CardTitle>\r\n                        <CardDescription>Choose a class and date to mark attendance</CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-medium\">Class/Subject</label>\r\n                                <select\r\n                                    value={selectedClass}\r\n                                    onChange={(e) => setSelectedClass(e.target.value)}\r\n                                    className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2\"\r\n                                >\r\n                                    <option value=\"\">Select a class...</option>\r\n                                    {classes.map((c) => (\r\n                                        <option key={c.id} value={c.id}>\r\n                                            {c.name} ({c.code})\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-medium\">Date</label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    value={selectedDate}\r\n                                    onChange={(e) => setSelectedDate(e.target.value)}\r\n                                    className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                {selectedClass && selectedClassData && (\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <div>\r\n                                    <CardTitle>{selectedClassData.name}</CardTitle>\r\n                                    <CardDescription>\r\n                                        {selectedClassData.students.length} students â€¢ {new Date(selectedDate).toLocaleDateString()}\r\n                                    </CardDescription>\r\n                                </div>\r\n                                <div className=\"flex gap-2 text-sm\">\r\n                                    <div className=\"flex items-center gap-1\">\r\n                                        <Check className=\"h-4 w-4 text-green-600\" />\r\n                                        <span>Present</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-1\">\r\n                                        <X className=\"h-4 w-4 text-red-600\" />\r\n                                        <span>Absent</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-1\">\r\n                                        <Clock className=\"h-4 w-4 text-yellow-600\" />\r\n                                        <span>Late</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-1\">\r\n                                        <AlertCircle className=\"h-4 w-4 text-blue-600\" />\r\n                                        <span>Excused</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"space-y-3\">\r\n                                {selectedClassData.students.map((student) => (\r\n                                    <div key={student.id} className=\"flex items-center justify-between p-4 bg-muted/50 rounded-lg\">\r\n                                        <div className=\"flex-1\">\r\n                                            <p className=\"font-medium\">\r\n                                                {student.firstName} {student.lastName}\r\n                                            </p>\r\n                                            <p className=\"text-sm text-muted-foreground\">\r\n                                                {student.studentId} â€¢ Grade {student.grade}\r\n                                            </p>\r\n                                        </div>\r\n                                        <div className=\"flex gap-2\">\r\n                                            {getStatusButton(student.id, 'present', Check, 'Present', 'bg-green-600 hover:bg-green-700')}\r\n                                            {getStatusButton(student.id, 'absent', X, 'Absent', 'bg-red-600 hover:bg-red-700')}\r\n                                            {getStatusButton(student.id, 'late', Clock, 'Late', 'bg-yellow-600 hover:bg-yellow-700')}\r\n                                            {getStatusButton(student.id, 'excused', AlertCircle, 'Excused', 'bg-blue-600 hover:bg-blue-700')}\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n\r\n                            {selectedClassData.students.length === 0 && (\r\n                                <div className=\"text-center py-8 text-muted-foreground\">\r\n                                    <p>No students in this class</p>\r\n                                </div>\r\n                            )}\r\n                        </CardContent>\r\n                    </Card>\r\n                )}\r\n\r\n                {!selectedClass && (\r\n                    <Card>\r\n                        <CardContent className=\"text-center py-12 text-muted-foreground\">\r\n                            <Clock className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\r\n                            <p>Select a class to start marking attendance</p>\r\n                        </CardContent>\r\n                    </Card>\r\n                )}\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\teacher\\classes\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":29,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":29,"endColumn":17},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":52,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":52,"endColumn":26,"suggestions":[{"fix":{"range":[1463,1511],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useAuth } from '@/contexts/AuthContext'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { ArrowLeft, Users, BookOpen } from 'lucide-react'\r\n\r\ninterface Class {\r\n    id: string\r\n    name: string\r\n    code: string\r\n    description: string\r\n    students: {\r\n        id: string\r\n        firstName: string\r\n        lastName: string\r\n        grade: string\r\n        studentId: string\r\n    }[]\r\n    _count: {\r\n        students: number\r\n        assignments: number\r\n    }\r\n}\r\n\r\nexport default function ClassesPage() {\r\n    const { user, logout } = useAuth()\r\n    const router = useRouter()\r\n    const [classes, setClasses] = useState<Class[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        fetchClasses()\r\n    }, [])\r\n\r\n    const fetchClasses = async () => {\r\n        try {\r\n            const token = localStorage.getItem('accessToken')\r\n            const response = await fetch('/api/teacher/classes', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n            })\r\n\r\n            if (response.ok) {\r\n                const data = await response.json()\r\n                setClasses(data.classes)\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch classes:', error)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n            {/* Header */}\r\n            <header className=\"bg-white dark:bg-gray-800 border-b\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <Button variant=\"ghost\" onClick={() => router.push('/teacher')}>\r\n                            <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                            Back\r\n                        </Button>\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold\">My Classes</h1>\r\n                            <p className=\"text-sm text-muted-foreground\">View and manage your classes</p>\r\n                        </div>\r\n                    </div>\r\n                    <Button onClick={() => { logout(); router.push('/login') }} variant=\"outline\">\r\n                        Logout\r\n                    </Button>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n                {loading ? (\r\n                    <div className=\"text-center py-8\">\r\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\r\n                    </div>\r\n                ) : classes.length === 0 ? (\r\n                    <Card>\r\n                        <CardContent className=\"text-center py-8 text-muted-foreground\">\r\n                            <BookOpen className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\r\n                            <p>No classes assigned yet</p>\r\n                            <p className=\"text-sm mt-2\">Classes will appear here once you are assigned to teach them</p>\r\n                        </CardContent>\r\n                    </Card>\r\n                ) : (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        {classes.map((classItem) => (\r\n                            <Card key={classItem.id} className=\"hover:shadow-lg transition-shadow\">\r\n                                <CardHeader>\r\n                                    <div className=\"flex justify-between items-start\">\r\n                                        <div>\r\n                                            <CardTitle>{classItem.name}</CardTitle>\r\n                                            <CardDescription>{classItem.code}</CardDescription>\r\n                                        </div>\r\n                                        <div className=\"flex gap-2\">\r\n                                            <Button size=\"sm\" onClick={() => router.push(`/teacher/grades?subjectId=${classItem.id}`)}>\r\n                                                Enter Grades\r\n                                            </Button>\r\n                                            <Button size=\"sm\" variant=\"outline\" onClick={() => router.push(`/teacher/attendance?subjectId=${classItem.id}`)}>\r\n                                                Attendance\r\n                                            </Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </CardHeader>\r\n                                <CardContent>\r\n                                    <p className=\"text-sm text-muted-foreground mb-4\">{classItem.description}</p>\r\n\r\n                                    <div className=\"grid grid-cols-2 gap-4\">\r\n                                        <div className=\"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n                                            <div className=\"flex items-center gap-2 mb-1\">\r\n                                                <Users className=\"h-4 w-4 text-blue-600\" />\r\n                                                <span className=\"text-sm text-muted-foreground\">Students</span>\r\n                                            </div>\r\n                                            <p className=\"text-2xl font-bold\">{classItem._count.students}</p>\r\n                                        </div>\r\n                                        <div className=\"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg\">\r\n                                            <div className=\"flex items-center gap-2 mb-1\">\r\n                                                <BookOpen className=\"h-4 w-4 text-green-600\" />\r\n                                                <span className=\"text-sm text-muted-foreground\">Assignments</span>\r\n                                            </div>\r\n                                            <p className=\"text-2xl font-bold\">{classItem._count.assignments}</p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Student List Preview */}\r\n                                    {classItem.students.length > 0 && (\r\n                                        <div className=\"mt-4\">\r\n                                            <p className=\"text-sm font-medium mb-2\">Students ({classItem.students.length}):</p>\r\n                                            <div className=\"space-y-1 max-h-40 overflow-y-auto\">\r\n                                                {classItem.students.slice(0, 5).map((student) => (\r\n                                                    <div key={student.id} className=\"text-sm p-2 bg-muted/50 rounded flex justify-between\">\r\n                                                        <span>{student.firstName} {student.lastName}</span>\r\n                                                        <span className=\"text-muted-foreground\">{student.studentId}</span>\r\n                                                    </div>\r\n                                                ))}\r\n                                                {classItem.students.length > 5 && (\r\n                                                    <p className=\"text-sm text-muted-foreground text-center\">\r\n                                                        +{classItem.students.length - 5} more students\r\n                                                    </p>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </CardContent>\r\n                            </Card>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\teacher\\grades\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":13,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[716,719],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[716,719],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[846,849],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[846,849],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchClasses'. Either include it or remove the dependency array.","line":33,"column":8,"nodeType":"ArrayExpression","endLine":33,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchClasses]","fix":{"range":[1222,1224],"text":"[fetchClasses]"}}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":58,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":58,"endColumn":26,"suggestions":[{"fix":{"range":[2079,2127],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":98,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":98,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useAuth } from '@/contexts/AuthContext'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { ArrowLeft } from 'lucide-react'\r\n\r\nexport default function GradeEntryPage() {\r\n    const { user, logout } = useAuth()\r\n    const router = useRouter()\r\n    const searchParams = useSearchParams()\r\n    const subjectId = searchParams.get('subjectId')\r\n\r\n    const [classes, setClasses] = useState<any[]>([])\r\n    const [selectedClass, setSelectedClass] = useState(subjectId || '')\r\n    const [students, setStudents] = useState<any[]>([])\r\n    const [formData, setFormData] = useState({\r\n        studentId: '',\r\n        score: '',\r\n        maxScore: '100',\r\n        assessmentType: 'Test',\r\n        weight: '1.0',\r\n    })\r\n    const [submitting, setSubmitting] = useState(false)\r\n    const [message, setMessage] = useState({ type: '', text: '' })\r\n\r\n    useEffect(() => {\r\n        fetchClasses()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (selectedClass) {\r\n            const classData = classes.find(c => c.id === selectedClass)\r\n            if (classData) {\r\n                setStudents(classData.students || [])\r\n            }\r\n        }\r\n    }, [selectedClass, classes])\r\n\r\n    const fetchClasses = async () => {\r\n        try {\r\n            const token = localStorage.getItem('accessToken')\r\n            const response = await fetch('/api/teacher/classes', {\r\n                headers: { 'Authorization': `Bearer ${token}` },\r\n            })\r\n            if (response.ok) {\r\n                const data = await response.json()\r\n                setClasses(data.classes)\r\n                if (subjectId && data.classes.length > 0) {\r\n                    setSelectedClass(subjectId)\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch classes:', error)\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setSubmitting(true)\r\n        setMessage({ type: '', text: '' })\r\n\r\n        try {\r\n            const token = localStorage.getItem('accessToken')\r\n            const response = await fetch('/api/teacher/grades/create', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    ...formData,\r\n                    subjectId: selectedClass,\r\n                    score: parseFloat(formData.score),\r\n                    maxScore: parseFloat(formData.maxScore),\r\n                    weight: parseFloat(formData.weight),\r\n                }),\r\n            })\r\n\r\n            const data = await response.json()\r\n\r\n            if (response.ok) {\r\n                setMessage({ type: 'success', text: 'Grade added successfully!' })\r\n                setFormData({\r\n                    studentId: '',\r\n                    score: '',\r\n                    maxScore: '100',\r\n                    assessmentType: 'Test',\r\n                    weight: '1.0',\r\n                })\r\n            } else {\r\n                setMessage({ type: 'error', text: data.message || 'Failed to add grade' })\r\n            }\r\n        } catch (error) {\r\n            setMessage({ type: 'error', text: 'An error occurred' })\r\n        } finally {\r\n            setSubmitting(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n            <header className=\"bg-white dark:bg-gray-800 border-b\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <Button variant=\"ghost\" onClick={() => router.push('/teacher/classes')}>\r\n                            <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                            Back\r\n                        </Button>\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold\">Grade Entry</h1>\r\n                            <p className=\"text-sm text-muted-foreground\">Enter grades for your students</p>\r\n                        </div>\r\n                    </div>\r\n                    <Button onClick={() => { logout(); router.push('/login') }} variant=\"outline\">\r\n                        Logout\r\n                    </Button>\r\n                </div>\r\n            </header>\r\n\r\n            <main className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n                <Card>\r\n                    <CardHeader>\r\n                        <CardTitle>Add Grade</CardTitle>\r\n                        <CardDescription>Enter assessment scores for students</CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        {message.text && (\r\n                            <div className={`p-3 rounded-md mb-4 ${message.type === 'success'\r\n                                    ? 'bg-green-50 text-green-800 dark:bg-green-900/20'\r\n                                    : 'bg-red-50 text-red-800 dark:bg-red-900/20'\r\n                                }`}>\r\n                                {message.text}\r\n                            </div>\r\n                        )}\r\n\r\n                        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <Label htmlFor=\"class\">Class/Subject</Label>\r\n                                <select\r\n                                    id=\"class\"\r\n                                    value={selectedClass}\r\n                                    onChange={(e) => setSelectedClass(e.target.value)}\r\n                                    className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2\"\r\n                                    required\r\n                                >\r\n                                    <option value=\"\">Select a class...</option>\r\n                                    {classes.map((c) => (\r\n                                        <option key={c.id} value={c.id}>\r\n                                            {c.name} ({c.code})\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            {selectedClass && (\r\n                                <>\r\n                                    <div className=\"space-y-2\">\r\n                                        <Label htmlFor=\"student\">Student</Label>\r\n                                        <select\r\n                                            id=\"student\"\r\n                                            value={formData.studentId}\r\n                                            onChange={(e) => setFormData({ ...formData, studentId: e.target.value })}\r\n                                            className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2\"\r\n                                            required\r\n                                        >\r\n                                            <option value=\"\">Select a student...</option>\r\n                                            {students.map((student) => (\r\n                                                <option key={student.id} value={student.id}>\r\n                                                    {student.firstName} {student.lastName} ({student.studentId})\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <div className=\"grid grid-cols-2 gap-4\">\r\n                                        <div className=\"space-y-2\">\r\n                                            <Label htmlFor=\"score\">Score</Label>\r\n                                            <Input\r\n                                                id=\"score\"\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={formData.score}\r\n                                                onChange={(e) => setFormData({ ...formData, score: e.target.value })}\r\n                                                required\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"space-y-2\">\r\n                                            <Label htmlFor=\"maxScore\">Max Score</Label>\r\n                                            <Input\r\n                                                id=\"maxScore\"\r\n                                                type=\"number\"\r\n                                                value={formData.maxScore}\r\n                                                onChange={(e) => setFormData({ ...formData, maxScore: e.target.value })}\r\n                                                required\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"grid grid-cols-2 gap-4\">\r\n                                        <div className=\"space-y-2\">\r\n                                            <Label htmlFor=\"type\">Assessment Type</Label>\r\n                                            <select\r\n                                                id=\"type\"\r\n                                                value={formData.assessmentType}\r\n                                                onChange={(e) => setFormData({ ...formData, assessmentType: e.target.value })}\r\n                                                className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2\"\r\n                                            >\r\n                                                <option>Test</option>\r\n                                                <option>Quiz</option>\r\n                                                <option>Homework</option>\r\n                                                <option>Project</option>\r\n                                                <option>Exam</option>\r\n                                                <option>Midterm</option>\r\n                                                <option>Final</option>\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"space-y-2\">\r\n                                            <Label htmlFor=\"weight\">Weight</Label>\r\n                                            <Input\r\n                                                id=\"weight\"\r\n                                                type=\"number\"\r\n                                                step=\"0.1\"\r\n                                                value={formData.weight}\r\n                                                onChange={(e) => setFormData({ ...formData, weight: e.target.value })}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <Button type=\"submit\" className=\"w-full\" disabled={submitting}>\r\n                                        {submitting ? 'Adding Grade...' : 'Add Grade'}\r\n                                    </Button>\r\n                                </>\r\n                            )}\r\n                        </form>\r\n                    </CardContent>\r\n                </Card>\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\teacher\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\teacher\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\terms\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\app\\wellness\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":3,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport PremiumHeader from '@/components/layout/PremiumHeader';\r\nimport PremiumFooter from '@/components/layout/PremiumFooter';\r\n\r\nexport default function WellnessPage() {\r\n  return (\r\n    <div className=\"relative flex min-h-screen w-full flex-col bg-white\">\r\n      <PremiumHeader />\r\n\r\n      <main>\r\n        {/* Hero */}\r\n        <section className=\"bg-brand-navy py-20 text-white text-center\">\r\n          <div className=\"max-w-[960px] mx-auto px-4\">\r\n            <h1 className=\"text-4xl md:text-5xl font-black mb-6\">Student Wellness & Support Hub</h1>\r\n            <p className=\"text-gray-200 text-lg max-w-2xl mx-auto\">\r\n              Comprehensive support for mental, physical, and emotional wellbeing.\r\n            </p>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Support Services */}\r\n        <section className=\"py-20 max-w-[1200px] mx-auto px-4 sm:px-10\">\r\n          <div className=\"text-center mb-16\">\r\n            <h2 className=\"text-3xl font-bold text-gray-900\">Our Support Services</h2>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n            {[\r\n              { icon: 'psychology', title: 'Counseling Services', desc: 'Confidential support from qualified counselors' },\r\n              { icon: 'medical_services', title: 'Health Center', desc: '24/7 medical care and support' },\r\n              { icon: 'self_improvement', title: 'Mindfulness Programs', desc: 'Meditation and stress management workshops' },\r\n              { icon: 'fitness_center', title: 'Physical Wellness', desc: 'Gym access and fitness programs' },\r\n              { icon: 'school', title: 'Academic Support', desc: 'Tutoring and study skills coaching' },\r\n              { icon: 'diversity_3', title: 'Peer Support Network', desc: 'Student-led support groups' },\r\n            ].map((service, i) => (\r\n              <div key={i} className=\"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg transition-shadow\">\r\n                <div className=\"w-14 h-14 rounded-full bg-brand-navy/10 flex items-center justify-center mb-4\">\r\n                  <span className=\"material-symbols-outlined text-brand-navy text-[28px]\">{service.icon}</span>\r\n                </div>\r\n                <h3 className=\"text-xl font-bold text-gray-900 mb-3\">{service.title}</h3>\r\n                <p className=\"text-gray-600\">{service.desc}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n\r\n        {/* Emergency Contacts */}\r\n        <section className=\"py-16 bg-gray-50\">\r\n          <div className=\"max-w-[900px] mx-auto px-4\">\r\n            <div className=\"bg-white rounded-xl p-8 border border-brand-navy/20\">\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Emergency Contacts</h2>\r\n              <div className=\"space-y-4\">\r\n                {[\r\n                  { service: 'School Nurse', number: 'Ext. 101', hours: '24/7' },\r\n                  { service: 'Counseling Services', number: 'Ext. 202', hours: 'Mon-Fri, 8AM-6PM' },\r\n                  { service: 'Boarding House Staff', number: 'Ext. 303', hours: '24/7' },\r\n                  { service: 'Security', number: 'Ext. 999', hours: '24/7' },\r\n                ].map((contact, i) => (\r\n                  <div key={i} className=\"flex justify-between items-center py-3 border-b border-gray-200 last:border-0\">\r\n                    <div>\r\n                      <p className=\"font-bold text-gray-900\">{contact.service}</p>\r\n                      <p className=\"text-sm text-gray-600\">{contact.hours}</p>\r\n                    </div>\r\n                    <p className=\"text-brand-navy font-bold\">{contact.number}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n\r\n      <PremiumFooter />\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\BackToTop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ErrorBoundary.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":36,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":36,"endColumn":20,"suggestions":[{"fix":{"range":[848,914],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { Component, ErrorInfo, ReactNode } from 'react';\r\nimport { isBrowser, safeWindow } from '@/lib/platform';\r\nimport { AlertTriangle, RefreshCw } from 'lucide-react';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error?: Error;\r\n  errorInfo?: ErrorInfo;\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    this.setState({\r\n      error,\r\n      errorInfo,\r\n    });\r\n\r\n    // Log error to console in development\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.error('ErrorBoundary caught an error:', error, errorInfo);\r\n    }\r\n\r\n    // In production, you would send this to an error reporting service\r\n    // Example: Sentry, LogRocket, etc.\r\n  }\r\n\r\n  handleReset = () => {\r\n    this.setState({ hasError: false, error: undefined, errorInfo: undefined });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      return (\r\n        <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\r\n          <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center\">\r\n            <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n              <AlertTriangle className=\"text-red-600\" size={32} />\r\n            </div>\r\n\r\n            <h2 className=\"text-2xl font-bold text-[#1C1A75] mb-4\">\r\n              Something went wrong\r\n            </h2>\r\n\r\n            <p className=\"text-gray-600 mb-6\">\r\n              We apologize for the inconvenience. An unexpected error occurred while loading this page.\r\n            </p>\r\n\r\n            <div className=\"space-y-3\">\r\n              <button\r\n                onClick={this.handleReset}\r\n                className=\"w-full bg-[#1C1A75] text-white py-3 rounded-lg font-semibold hover:bg-[#D4AF37] transition-colors flex items-center justify-center\"\r\n              >\r\n                <RefreshCw size={18} className=\"mr-2\" />\r\n                Try Again\r\n              </button>\r\n\r\n              <button\r\n                onClick={() => safeWindow(() => { if (isBrowser()) window.location.href = '/'; })}\r\n                className=\"w-full border-2 border-[#1C1A75] text-[#1C1A75] py-3 rounded-lg font-semibold hover:bg-[#1C1A75] hover:text-white transition-colors\"\r\n              >\r\n                Go to Homepage\r\n              </button>\r\n            </div>\r\n\r\n            {process.env.NODE_ENV === 'development' && this.state.error && (\r\n              <details className=\"mt-6 text-left\">\r\n                <summary className=\"cursor-pointer text-sm text-gray-600 hover:text-gray-800\">\r\n                  Error Details (Development Only)\r\n                </summary>\r\n                <pre className=\"mt-2 text-xs bg-gray-100 p-3 rounded overflow-auto\">\r\n                  {this.state.error.toString()}\r\n                  {this.state.errorInfo?.componentStack}\r\n                </pre>\r\n              </details>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ProtectedRoute.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":37,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1213,1216],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1213,1216],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport { redirect } from 'next/navigation';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Loader2 } from 'lucide-react';\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode;\r\n  requireRole?: Array<'student' | 'parent' | 'teacher' | 'admin' | 'superadmin'>;\r\n}\r\n\r\nexport function ProtectedRoute({ children, requireRole }: ProtectedRouteProps) {\r\n  const { isAuthenticated, isLoading, user } = useAuth();\r\n\r\n  // Show loading spinner while checking authentication\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-background\">\r\n        <div className=\"text-center space-y-4\">\r\n          <Loader2 className=\"h-12 w-12 animate-spin text-primary mx-auto\" />\r\n          <p className=\"text-muted-foreground\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Redirect to login if not authenticated\r\n  if (!isAuthenticated) {\r\n    redirect('/login');\r\n    return null;\r\n  }\r\n\r\n  // Check role-based access if specified\r\n  // Superadmin has access to everything\r\n  if (requireRole && user) {\r\n    const hasAccess = user.role === 'superadmin' || requireRole.includes(user.role as any);\r\n    if (!hasAccess) {\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-background\">\r\n          <div className=\"text-center space-y-4 max-w-md p-6\">\r\n            <h1 className=\"text-2xl font-bold text-destructive\">Access Denied</h1>\r\n            <p className=\"text-muted-foreground\">\r\n              You don't have permission to access this page. Required role: {requireRole.join(' or ')}.\r\n            </p>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Your role: {user.role}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  // User is authenticated and has the required role\r\n  return <>{children}</>;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\SkipToContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ThemeToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\AcademicManagement.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\AdminDocumentManager.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Eye' is defined but never used.","line":41,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":41,"endColumn":6}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\n// AdminDocumentManager Component - Manage business documents\r\nimport { useState } from 'react'\r\nimport { AdminHeader } from './shared/AdminHeader'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from '@/components/ui/dialog'\r\nimport {\r\n  Upload,\r\n  Download,\r\n  FileText,\r\n  File,\r\n  Trash2,\r\n  Search,\r\n  Filter,\r\n  Eye,\r\n} from 'lucide-react'\r\nimport { useToast } from '@/hooks/use-toast'\r\n\r\ninterface Document {\r\n  id: string\r\n  title: string\r\n  category: 'financial' | 'academic' | 'administrative' | 'forms' | 'other'\r\n  fileType: string\r\n  fileName: string\r\n  fileSize: number\r\n  uploadedBy: string\r\n  uploadedAt: string\r\n  accessLevel: 'public' | 'student' | 'teacher' | 'admin'\r\n  tags: string[]\r\n  version: number\r\n}\r\n\r\nexport function AdminDocumentManager() {\r\n  const { toast } = useToast()\r\n  const [documents, setDocuments] = useState<Document[]>([\r\n    {\r\n      id: '1',\r\n      title: 'Fee Structure 2025',\r\n      category: 'financial',\r\n      fileType: 'xlsx',\r\n      fileName: 'REGISBRIDGE_FEES_2025.xlsx',\r\n      fileSize: 245000,\r\n      uploadedBy: 'Admin User',\r\n      uploadedAt: '2025-01-15',\r\n      accessLevel: 'student',\r\n      tags: ['fees', '2025', 'tuition'],\r\n      version: 1,\r\n    },\r\n    {\r\n      id: '2',\r\n      title: 'School Constitution',\r\n      category: 'administrative',\r\n      fileType: 'docx',\r\n      fileName: 'Constitution_Final.docx',\r\n      fileSize: 128000,\r\n      uploadedBy: 'Admin User',\r\n      uploadedAt: '2024-09-01',\r\n      accessLevel: 'public',\r\n      tags: ['governance', 'policies'],\r\n      version: 2,\r\n    },\r\n    {\r\n      id: '3',\r\n      title: 'Application Form',\r\n      category: 'forms',\r\n      fileType: 'docx',\r\n      fileName: 'APPLICATION_FORM.docx',\r\n      fileSize: 95000,\r\n      uploadedBy: 'Admin User',\r\n      uploadedAt: '2024-12-01',\r\n      accessLevel: 'public',\r\n      tags: ['registration', 'admission'],\r\n      version: 1,\r\n    },\r\n  ])\r\n\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [categoryFilter, setCategoryFilter] = useState<string>('all')\r\n  const [uploadDialogOpen, setUploadDialogOpen] = useState(false)\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null)\r\n\r\n  const formatFileSize = (bytes: number): string => {\r\n    if (bytes === 0) return '0 Bytes'\r\n    const k = 1024\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB']\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k))\r\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i]\r\n  }\r\n\r\n  const getCategoryColor = (\r\n    category: string\r\n  ): 'default' | 'secondary' | 'destructive' | 'outline' => {\r\n    switch (category) {\r\n      case 'financial':\r\n        return 'default'\r\n      case 'academic':\r\n        return 'secondary'\r\n      case 'administrative':\r\n        return 'outline'\r\n      case 'forms':\r\n        return 'default'\r\n      default:\r\n        return 'outline'\r\n    }\r\n  }\r\n\r\n  const getAccessLevelColor = (\r\n    level: string\r\n  ): 'default' | 'secondary' | 'destructive' | 'outline' => {\r\n    switch (level) {\r\n      case 'public':\r\n        return 'default'\r\n      case 'student':\r\n        return 'secondary'\r\n      case 'teacher':\r\n        return 'outline'\r\n      case 'admin':\r\n        return 'destructive'\r\n      default:\r\n        return 'outline'\r\n    }\r\n  }\r\n\r\n  const filteredDocuments = documents.filter((doc) => {\r\n    const matchesSearch =\r\n      doc.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      doc.fileName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      doc.tags.some((tag) => tag.toLowerCase().includes(searchTerm.toLowerCase()))\r\n\r\n    const matchesCategory = categoryFilter === 'all' || doc.category === categoryFilter\r\n\r\n    return matchesSearch && matchesCategory\r\n  })\r\n\r\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0]\r\n    if (file) {\r\n      setSelectedFile(file)\r\n    }\r\n  }\r\n\r\n  const handleUpload = () => {\r\n    if (!selectedFile) {\r\n      toast({\r\n        title: 'No file selected',\r\n        description: 'Please select a file to upload',\r\n        variant: 'destructive',\r\n      })\r\n      return\r\n    }\r\n\r\n    // TODO: Implement actual file upload API call\r\n    toast({\r\n      title: 'Upload successful',\r\n      description: `${selectedFile.name} has been uploaded`,\r\n    })\r\n\r\n    setSelectedFile(null)\r\n    setUploadDialogOpen(false)\r\n  }\r\n\r\n  const handleDownload = (doc: Document) => {\r\n    // TODO: Implement actual download functionality\r\n    toast({\r\n      title: 'Download started',\r\n      description: `Downloading ${doc.fileName}`,\r\n    })\r\n  }\r\n\r\n  const handleDelete = (doc: Document) => {\r\n    // TODO: Implement actual delete API call\r\n    setDocuments(documents.filter((d) => d.id !== doc.id))\r\n    toast({\r\n      title: 'Document deleted',\r\n      description: `${doc.title} has been deleted`,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <AdminHeader\r\n        title=\"Document Management\"\r\n        description=\"Manage business documents, forms, and administrative files\"\r\n        action={\r\n          <Dialog open={uploadDialogOpen} onOpenChange={setUploadDialogOpen}>\r\n            <DialogTrigger asChild>\r\n              <Button>\r\n                <Upload className=\"h-4 w-4 mr-2\" />\r\n                Upload Document\r\n              </Button>\r\n            </DialogTrigger>\r\n            <DialogContent className=\"sm:max-w-[600px]\">\r\n              <DialogHeader>\r\n                <DialogTitle>Upload New Document</DialogTitle>\r\n                <DialogDescription>\r\n                  Add a new document to the school management system\r\n                </DialogDescription>\r\n              </DialogHeader>\r\n              <div className=\"space-y-4 py-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"file\">Select File</Label>\r\n                  <Input\r\n                    id=\"file\"\r\n                    type=\"file\"\r\n                    onChange={handleFileSelect}\r\n                    accept=\".pdf,.doc,.docx,.xls,.xlsx\"\r\n                  />\r\n                  {selectedFile && (\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      Selected: {selectedFile.name} ({formatFileSize(selectedFile.size)})\r\n                    </p>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"title\">Document Title</Label>\r\n                  <Input id=\"title\" placeholder=\"Enter document title\" />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"category\">Category</Label>\r\n                    <Select>\r\n                      <SelectTrigger id=\"category\">\r\n                        <SelectValue placeholder=\"Select category\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"financial\">Financial</SelectItem>\r\n                        <SelectItem value=\"academic\">Academic</SelectItem>\r\n                        <SelectItem value=\"administrative\">Administrative</SelectItem>\r\n                        <SelectItem value=\"forms\">Forms</SelectItem>\r\n                        <SelectItem value=\"other\">Other</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"access\">Access Level</Label>\r\n                    <Select>\r\n                      <SelectTrigger id=\"access\">\r\n                        <SelectValue placeholder=\"Select access level\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"public\">Public</SelectItem>\r\n                        <SelectItem value=\"student\">Students</SelectItem>\r\n                        <SelectItem value=\"teacher\">Teachers</SelectItem>\r\n                        <SelectItem value=\"admin\">Admin Only</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"tags\">Tags (comma separated)</Label>\r\n                  <Input id=\"tags\" placeholder=\"e.g., fees, 2025, tuition\" />\r\n                </div>\r\n              </div>\r\n              <div className=\"flex justify-end gap-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => setUploadDialogOpen(false)}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button onClick={handleUpload}>Upload Document</Button>\r\n              </div>\r\n            </DialogContent>\r\n          </Dialog>\r\n        }\r\n      />\r\n\r\n      {/* Search and Filter */}\r\n      <div className=\"flex flex-col sm:flex-row gap-4\">\r\n        <div className=\"flex-1 relative\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n          <Input\r\n            placeholder=\"Search documents by title, filename, or tags...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"pl-10\"\r\n          />\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Select value={categoryFilter} onValueChange={setCategoryFilter}>\r\n            <SelectTrigger className=\"w-[180px]\">\r\n              <Filter className=\"h-4 w-4 mr-2\" />\r\n              <SelectValue placeholder=\"Filter by category\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"all\">All Categories</SelectItem>\r\n              <SelectItem value=\"financial\">Financial</SelectItem>\r\n              <SelectItem value=\"academic\">Academic</SelectItem>\r\n              <SelectItem value=\"administrative\">Administrative</SelectItem>\r\n              <SelectItem value=\"forms\">Forms</SelectItem>\r\n              <SelectItem value=\"other\">Other</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-white rounded-lg border p-4\">\r\n          <p className=\"text-sm text-gray-600\">Total Documents</p>\r\n          <p className=\"text-2xl font-bold\">{documents.length}</p>\r\n        </div>\r\n        <div className=\"bg-white rounded-lg border p-4\">\r\n          <p className=\"text-sm text-gray-600\">Financial</p>\r\n          <p className=\"text-2xl font-bold\">\r\n            {documents.filter((d) => d.category === 'financial').length}\r\n          </p>\r\n        </div>\r\n        <div className=\"bg-white rounded-lg border p-4\">\r\n          <p className=\"text-sm text-gray-600\">Forms</p>\r\n          <p className=\"text-2xl font-bold\">\r\n            {documents.filter((d) => d.category === 'forms').length}\r\n          </p>\r\n        </div>\r\n        <div className=\"bg-white rounded-lg border p-4\">\r\n          <p className=\"text-sm text-gray-600\">Administrative</p>\r\n          <p className=\"text-2xl font-bold\">\r\n            {documents.filter((d) => d.category === 'administrative').length}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Documents Table */}\r\n      <div className=\"bg-white rounded-lg border\">\r\n        <Table>\r\n          <TableHeader>\r\n            <TableRow>\r\n              <TableHead>Document</TableHead>\r\n              <TableHead>Category</TableHead>\r\n              <TableHead>File Type</TableHead>\r\n              <TableHead>Size</TableHead>\r\n              <TableHead>Access</TableHead>\r\n              <TableHead>Uploaded</TableHead>\r\n              <TableHead className=\"text-right\">Actions</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {filteredDocuments.length === 0 ? (\r\n              <TableRow>\r\n                <TableCell colSpan={7} className=\"text-center text-gray-500 py-8\">\r\n                  No documents found\r\n                </TableCell>\r\n              </TableRow>\r\n            ) : (\r\n              filteredDocuments.map((doc) => (\r\n                <TableRow key={doc.id}>\r\n                  <TableCell>\r\n                    <div className=\"flex items-start gap-2\">\r\n                      <FileText className=\"h-5 w-5 text-blue-600 mt-0.5\" />\r\n                      <div>\r\n                        <p className=\"font-medium\">{doc.title}</p>\r\n                        <p className=\"text-sm text-gray-500\">{doc.fileName}</p>\r\n                        <div className=\"flex gap-1 mt-1\">\r\n                          {doc.tags.map((tag) => (\r\n                            <Badge key={tag} variant=\"outline\" className=\"text-xs\">\r\n                              {tag}\r\n                            </Badge>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Badge variant={getCategoryColor(doc.category)}>\r\n                      {doc.category}\r\n                    </Badge>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Badge variant=\"outline\">{doc.fileType.toUpperCase()}</Badge>\r\n                  </TableCell>\r\n                  <TableCell className=\"text-sm\">\r\n                    {formatFileSize(doc.fileSize)}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Badge variant={getAccessLevelColor(doc.accessLevel)}>\r\n                      {doc.accessLevel}\r\n                    </Badge>\r\n                  </TableCell>\r\n                  <TableCell className=\"text-sm\">\r\n                    <div>\r\n                      <p>{new Date(doc.uploadedAt).toLocaleDateString()}</p>\r\n                      <p className=\"text-xs text-gray-500\">by {doc.uploadedBy}</p>\r\n                    </div>\r\n                  </TableCell>\r\n                  <TableCell className=\"text-right\">\r\n                    <div className=\"flex justify-end gap-2\">\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleDownload(doc)}\r\n                      >\r\n                        <Download className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleDelete(doc)}\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4 text-red-600\" />\r\n                      </Button>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\AttendanceManagement.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":2,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'loading' is assigned a value but never used.","line":74,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":74,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setLoading' is assigned a value but never used.","line":74,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":74,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// AttendanceManagement Component - Track and manage student attendance\r\nimport { useState, useEffect } from 'react';\r\nimport { AdminHeader } from './shared/AdminHeader';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Calendar } from '@/components/ui/calendar';\r\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table';\r\nimport { \r\n  Calendar as CalendarIcon,\r\n  Download, \r\n  Upload, \r\n  Search, \r\n  CheckCircle, \r\n  XCircle, \r\n  Clock,\r\n  Users,\r\n  TrendingUp,\r\n  AlertCircle\r\n} from 'lucide-react';\r\nimport { format } from 'date-fns';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\ninterface AttendanceRecord {\r\n  id: string;\r\n  studentId: string;\r\n  studentName: string;\r\n  grade: string;\r\n  date: Date;\r\n  status: 'present' | 'absent' | 'late' | 'excused';\r\n  remarks?: string;\r\n}\r\n\r\ninterface AttendanceStats {\r\n  totalStudents: number;\r\n  present: number;\r\n  absent: number;\r\n  late: number;\r\n  excused: number;\r\n  attendanceRate: number;\r\n}\r\n\r\n// Mock data\r\nconst mockAttendance: AttendanceRecord[] = [\r\n  { id: '1', studentId: 'REG25001', studentName: 'John Doe', grade: 'Grade 10', date: new Date(), status: 'present' },\r\n  { id: '2', studentId: 'REG25002', studentName: 'Jane Smith', grade: 'Grade 10', date: new Date(), status: 'absent', remarks: 'Sick leave' },\r\n  { id: '3', studentId: 'REG25003', studentName: 'Bob Johnson', grade: 'Grade 10', date: new Date(), status: 'late', remarks: 'Arrived 15 mins late' },\r\n  { id: '4', studentId: 'REG25004', studentName: 'Alice Brown', grade: 'Grade 10', date: new Date(), status: 'present' },\r\n  { id: '5', studentId: 'REG25005', studentName: 'Charlie Wilson', grade: 'Grade 10', date: new Date(), status: 'excused', remarks: 'Medical appointment' },\r\n];\r\n\r\nexport function AttendanceManagement() {\r\n  const { toast } = useToast();\r\n  const [attendance, setAttendance] = useState<AttendanceRecord[]>(mockAttendance);\r\n  const [selectedDate, setSelectedDate] = useState<Date>(new Date());\r\n  const [selectedGrade, setSelectedGrade] = useState<string>('all');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const stats: AttendanceStats = {\r\n    totalStudents: attendance.length,\r\n    present: attendance.filter(a => a.status === 'present').length,\r\n    absent: attendance.filter(a => a.status === 'absent').length,\r\n    late: attendance.filter(a => a.status === 'late').length,\r\n    excused: attendance.filter(a => a.status === 'excused').length,\r\n    attendanceRate: attendance.length > 0 \r\n      ? Math.round((attendance.filter(a => a.status === 'present' || a.status === 'late').length / attendance.length) * 100)\r\n      : 0\r\n  };\r\n\r\n  const handleMarkAttendance = (studentId: string, status: 'present' | 'absent' | 'late' | 'excused') => {\r\n    setAttendance(prev =>\r\n      prev.map(record =>\r\n        record.studentId === studentId\r\n          ? { ...record, status, date: selectedDate }\r\n          : record\r\n      )\r\n    );\r\n    toast({\r\n      title: 'Attendance Updated',\r\n      description: 'Student attendance has been marked successfully',\r\n    });\r\n  };\r\n\r\n  const handleBulkMark = (status: 'present' | 'absent') => {\r\n    setAttendance(prev =>\r\n      prev.map(record => ({ ...record, status, date: selectedDate }))\r\n    );\r\n    toast({\r\n      title: 'Bulk Update',\r\n      description: `All students marked as ${status}`,\r\n    });\r\n  };\r\n\r\n  const handleExportAttendance = () => {\r\n    toast({\r\n      title: 'Export Started',\r\n      description: 'Attendance report is being generated...',\r\n    });\r\n  };\r\n\r\n  const filteredAttendance = attendance.filter(record => {\r\n    const matchesGrade = selectedGrade === 'all' || record.grade === selectedGrade;\r\n    const matchesSearch = record.studentName.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                         record.studentId.toLowerCase().includes(searchQuery.toLowerCase());\r\n    return matchesGrade && matchesSearch;\r\n  });\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'present':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'absent':\r\n        return 'bg-red-100 text-red-800';\r\n      case 'late':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      case 'excused':\r\n        return 'bg-blue-100 text-blue-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'present':\r\n        return <CheckCircle className=\"h-4 w-4\" />;\r\n      case 'absent':\r\n        return <XCircle className=\"h-4 w-4\" />;\r\n      case 'late':\r\n        return <Clock className=\"h-4 w-4\" />;\r\n      case 'excused':\r\n        return <AlertCircle className=\"h-4 w-4\" />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <AdminHeader\r\n        title=\"Attendance Management\"\r\n        description=\"Track and manage student attendance records\"\r\n      />\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n              <Users className=\"h-4 w-4\" />\r\n              Total Students\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <p className=\"text-2xl font-bold\">{stats.totalStudents}</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium flex items-center gap-2 text-green-600\">\r\n              <CheckCircle className=\"h-4 w-4\" />\r\n              Present\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <p className=\"text-2xl font-bold text-green-600\">{stats.present}</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium flex items-center gap-2 text-red-600\">\r\n              <XCircle className=\"h-4 w-4\" />\r\n              Absent\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <p className=\"text-2xl font-bold text-red-600\">{stats.absent}</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium flex items-center gap-2 text-yellow-600\">\r\n              <Clock className=\"h-4 w-4\" />\r\n              Late\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <p className=\"text-2xl font-bold text-yellow-600\">{stats.late}</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium flex items-center gap-2 text-blue-600\">\r\n              <TrendingUp className=\"h-4 w-4\" />\r\n              Attendance Rate\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <p className=\"text-2xl font-bold text-blue-600\">{stats.attendanceRate}%</p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Filters and Actions */}\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"flex flex-col md:flex-row gap-4\">\r\n            {/* Date Picker */}\r\n            <Popover>\r\n              <PopoverTrigger asChild>\r\n                <Button variant=\"outline\" className=\"w-full md:w-[240px] justify-start text-left font-normal\">\r\n                  <CalendarIcon className=\"mr-2 h-4 w-4\" />\r\n                  {format(selectedDate, 'PPP')}\r\n                </Button>\r\n              </PopoverTrigger>\r\n              <PopoverContent className=\"w-auto p-0\" align=\"start\">\r\n                <Calendar\r\n                  mode=\"single\"\r\n                  selected={selectedDate}\r\n                  onSelect={(date) => date && setSelectedDate(date)}\r\n                  initialFocus\r\n                />\r\n              </PopoverContent>\r\n            </Popover>\r\n\r\n            {/* Grade Filter */}\r\n            <Select value={selectedGrade} onValueChange={setSelectedGrade}>\r\n              <SelectTrigger className=\"w-full md:w-[180px]\">\r\n                <SelectValue placeholder=\"Select Grade\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">All Grades</SelectItem>\r\n                <SelectItem value=\"Grade 8\">Grade 8</SelectItem>\r\n                <SelectItem value=\"Grade 9\">Grade 9</SelectItem>\r\n                <SelectItem value=\"Grade 10\">Grade 10</SelectItem>\r\n                <SelectItem value=\"Grade 11\">Grade 11</SelectItem>\r\n                <SelectItem value=\"Grade 12\">Grade 12</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n\r\n            {/* Search */}\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n              <Input\r\n                placeholder=\"Search student by name or ID...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex gap-2\">\r\n              <Button variant=\"outline\" onClick={handleExportAttendance}>\r\n                <Download className=\"h-4 w-4 mr-2\" />\r\n                Export\r\n              </Button>\r\n              <Button variant=\"outline\">\r\n                <Upload className=\"h-4 w-4 mr-2\" />\r\n                Import\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bulk Actions */}\r\n          <div className=\"flex gap-2 mt-4\">\r\n            <Button size=\"sm\" variant=\"outline\" onClick={() => handleBulkMark('present')}>\r\n              Mark All Present\r\n            </Button>\r\n            <Button size=\"sm\" variant=\"outline\" onClick={() => handleBulkMark('absent')}>\r\n              Mark All Absent\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Attendance Table */}\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead>Student ID</TableHead>\r\n                <TableHead>Student Name</TableHead>\r\n                <TableHead>Grade</TableHead>\r\n                <TableHead>Status</TableHead>\r\n                <TableHead>Remarks</TableHead>\r\n                <TableHead>Actions</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {filteredAttendance.length > 0 ? (\r\n                filteredAttendance.map((record) => (\r\n                  <TableRow key={record.id}>\r\n                    <TableCell className=\"font-medium\">{record.studentId}</TableCell>\r\n                    <TableCell>{record.studentName}</TableCell>\r\n                    <TableCell>{record.grade}</TableCell>\r\n                    <TableCell>\r\n                      <Badge className={getStatusColor(record.status)}>\r\n                        <span className=\"flex items-center gap-1\">\r\n                          {getStatusIcon(record.status)}\r\n                          {record.status.charAt(0).toUpperCase() + record.status.slice(1)}\r\n                        </span>\r\n                      </Badge>\r\n                    </TableCell>\r\n                    <TableCell className=\"text-sm text-gray-600\">\r\n                      {record.remarks || '-'}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div className=\"flex gap-1\">\r\n                        <Button\r\n                          size=\"sm\"\r\n                          variant=\"ghost\"\r\n                          onClick={() => handleMarkAttendance(record.studentId, 'present')}\r\n                          className=\"h-8 w-8 p-0 text-green-600\"\r\n                        >\r\n                          <CheckCircle className=\"h-4 w-4\" />\r\n                        </Button>\r\n                        <Button\r\n                          size=\"sm\"\r\n                          variant=\"ghost\"\r\n                          onClick={() => handleMarkAttendance(record.studentId, 'absent')}\r\n                          className=\"h-8 w-8 p-0 text-red-600\"\r\n                        >\r\n                          <XCircle className=\"h-4 w-4\" />\r\n                        </Button>\r\n                        <Button\r\n                          size=\"sm\"\r\n                          variant=\"ghost\"\r\n                          onClick={() => handleMarkAttendance(record.studentId, 'late')}\r\n                          className=\"h-8 w-8 p-0 text-yellow-600\"\r\n                        >\r\n                          <Clock className=\"h-4 w-4\" />\r\n                        </Button>\r\n                        <Button\r\n                          size=\"sm\"\r\n                          variant=\"ghost\"\r\n                          onClick={() => handleMarkAttendance(record.studentId, 'excused')}\r\n                          className=\"h-8 w-8 p-0 text-blue-600\"\r\n                        >\r\n                          <AlertCircle className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n              ) : (\r\n                <TableRow>\r\n                  <TableCell colSpan={6} className=\"text-center py-8 text-gray-500\">\r\n                    No attendance records found\r\n                  </TableCell>\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\ContentManagement.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\DataEntryTool.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1632,1635],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1632,1635],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":70,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1934,1937],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1934,1937],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\n/**\r\n * Data Entry Component for Extracting Information from Business Documents\r\n * This component helps manually enter data extracted from Excel/Word files\r\n */\r\n\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Download, Copy, CheckCircle } from 'lucide-react'\r\nimport { useToast } from '@/hooks/use-toast'\r\n\r\nexport function DataEntryTool() {\r\n  const { toast } = useToast()\r\n  const [activeTab, setActiveTab] = useState('school-info')\r\n\r\n  // School Information State\r\n  const [schoolInfo, setSchoolInfo] = useState({\r\n    fullName: 'Regisbridge Private School',\r\n    legalName: 'Regisbridge Group of Schools',\r\n    motto: 'Supervincimus - We Conquer Together',\r\n    mission: '',\r\n    vision: '',\r\n    address: '',\r\n    city: 'Harare',\r\n    country: 'Zimbabwe',\r\n    phone: '',\r\n    email: '',\r\n    website: 'https://regisbridge.ac.zw',\r\n  })\r\n\r\n  // Fee Structure State\r\n  const [feeEntry, setFeeEntry] = useState({\r\n    grade: '',\r\n    term: '',\r\n    year: '2025',\r\n    tuition: '',\r\n    boarding: '',\r\n    development: '',\r\n    exam: '',\r\n    transport: '',\r\n    other: '',\r\n  })\r\n\r\n  const [fees, setFees] = useState<any[]>([])\r\n\r\n  // Financial Record State\r\n  const [financialEntry, setFinancialEntry] = useState({\r\n    date: '',\r\n    category: '',\r\n    description: '',\r\n    amount: '',\r\n    type: 'expenditure',\r\n    month: '',\r\n    year: '2025',\r\n  })\r\n\r\n  const [financialRecords, setFinancialRecords] = useState<any[]>([])\r\n\r\n  const handleCopySchoolConfig = () => {\r\n    const config = `export const schoolConfig = {\r\n  name: {\r\n    full: '${schoolInfo.fullName}',\r\n    short: 'Regisbridge',\r\n    legal: '${schoolInfo.legalName}',\r\n  },\r\n  motto: {\r\n    latin: 'Supervincimus',\r\n    english: 'We Conquer Together',\r\n  },\r\n  mission: '${schoolInfo.mission}',\r\n  vision: '${schoolInfo.vision}',\r\n  contact: {\r\n    email: {\r\n      main: '${schoolInfo.email}',\r\n      admissions: 'admissions@regisbridge.ac.zw',\r\n      accounts: 'accounts@regisbridge.ac.zw',\r\n    },\r\n    phone: {\r\n      main: '${schoolInfo.phone}',\r\n    },\r\n    address: {\r\n      street: '${schoolInfo.address}',\r\n      city: '${schoolInfo.city}',\r\n      country: '${schoolInfo.country}',\r\n    },\r\n  },\r\n  urls: {\r\n    website: '${schoolInfo.website}',\r\n  },\r\n}`\r\n\r\n    navigator.clipboard.writeText(config)\r\n    toast({\r\n      title: 'Copied to Clipboard',\r\n      description: 'School configuration code copied. Paste into school-config.ts',\r\n    })\r\n  }\r\n\r\n  const handleAddFee = () => {\r\n    const total =\r\n      parseFloat(feeEntry.tuition || '0') +\r\n      parseFloat(feeEntry.boarding || '0') +\r\n      parseFloat(feeEntry.development || '0') +\r\n      parseFloat(feeEntry.exam || '0') +\r\n      parseFloat(feeEntry.transport || '0') +\r\n      parseFloat(feeEntry.other || '0')\r\n\r\n    const newFee = {\r\n      id: `FEE-${Date.now()}`,\r\n      ...feeEntry,\r\n      totalAmount: total,\r\n      currency: 'USD',\r\n    }\r\n\r\n    setFees([...fees, newFee])\r\n    toast({\r\n      title: 'Fee Added',\r\n      description: `Added ${feeEntry.grade} - Term ${feeEntry.term} ${feeEntry.year}`,\r\n    })\r\n\r\n    // Reset form\r\n    setFeeEntry({\r\n      ...feeEntry,\r\n      grade: '',\r\n      tuition: '',\r\n      boarding: '',\r\n      development: '',\r\n      exam: '',\r\n      transport: '',\r\n      other: '',\r\n    })\r\n  }\r\n\r\n  const handleCopyFees = () => {\r\n    const json = JSON.stringify(fees, null, 2)\r\n    navigator.clipboard.writeText(json)\r\n    toast({\r\n      title: 'Copied to Clipboard',\r\n      description: `${fees.length} fee structures copied as JSON`,\r\n    })\r\n  }\r\n\r\n  const handleAddFinancialRecord = () => {\r\n    const newRecord = {\r\n      id: `FIN-${Date.now()}`,\r\n      ...financialEntry,\r\n      amount: parseFloat(financialEntry.amount),\r\n    }\r\n\r\n    setFinancialRecords([...financialRecords, newRecord])\r\n    toast({\r\n      title: 'Record Added',\r\n      description: `Added ${financialEntry.type}: $${financialEntry.amount}`,\r\n    })\r\n\r\n    // Reset form\r\n    setFinancialEntry({\r\n      ...financialEntry,\r\n      date: '',\r\n      category: '',\r\n      description: '',\r\n      amount: '',\r\n    })\r\n  }\r\n\r\n  const handleCopyFinancialRecords = () => {\r\n    const json = JSON.stringify(financialRecords, null, 2)\r\n    navigator.clipboard.writeText(json)\r\n    toast({\r\n      title: 'Copied to Clipboard',\r\n      description: `${financialRecords.length} financial records copied as JSON`,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-8\">\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold mb-2\">Data Extraction Tool</h1>\r\n        <p className=\"text-gray-600\">\r\n          Manually enter data extracted from business documents (Excel/Word files)\r\n        </p>\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\r\n        <TabsList className=\"grid w-full grid-cols-3\">\r\n          <TabsTrigger value=\"school-info\">School Info</TabsTrigger>\r\n          <TabsTrigger value=\"fees\">Fee Structures</TabsTrigger>\r\n          <TabsTrigger value=\"financial\">Financial Records</TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* School Information Tab */}\r\n        <TabsContent value=\"school-info\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>School Information</CardTitle>\r\n              <CardDescription>\r\n                Extract from Constitution documents and School Proposals\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"fullName\">Full Name</Label>\r\n                  <Input\r\n                    id=\"fullName\"\r\n                    value={schoolInfo.fullName}\r\n                    onChange={(e) =>\r\n                      setSchoolInfo({ ...schoolInfo, fullName: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"legalName\">Legal Name</Label>\r\n                  <Input\r\n                    id=\"legalName\"\r\n                    value={schoolInfo.legalName}\r\n                    onChange={(e) =>\r\n                      setSchoolInfo({ ...schoolInfo, legalName: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"mission\">Mission Statement</Label>\r\n                <Textarea\r\n                  id=\"mission\"\r\n                  rows={3}\r\n                  value={schoolInfo.mission}\r\n                  onChange={(e) => setSchoolInfo({ ...schoolInfo, mission: e.target.value })}\r\n                  placeholder=\"Enter mission statement from constitution document\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"vision\">Vision Statement</Label>\r\n                <Textarea\r\n                  id=\"vision\"\r\n                  rows={3}\r\n                  value={schoolInfo.vision}\r\n                  onChange={(e) => setSchoolInfo({ ...schoolInfo, vision: e.target.value })}\r\n                  placeholder=\"Enter vision statement from constitution document\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"address\">Address</Label>\r\n                  <Input\r\n                    id=\"address\"\r\n                    value={schoolInfo.address}\r\n                    onChange={(e) => setSchoolInfo({ ...schoolInfo, address: e.target.value })}\r\n                    placeholder=\"Street address\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"phone\">Phone</Label>\r\n                  <Input\r\n                    id=\"phone\"\r\n                    value={schoolInfo.phone}\r\n                    onChange={(e) => setSchoolInfo({ ...schoolInfo, phone: e.target.value })}\r\n                    placeholder=\"+263 4 123456\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"email\">Email</Label>\r\n                  <Input\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    value={schoolInfo.email}\r\n                    onChange={(e) => setSchoolInfo({ ...schoolInfo, email: e.target.value })}\r\n                    placeholder=\"info@regisbridge.ac.zw\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"website\">Website</Label>\r\n                  <Input\r\n                    id=\"website\"\r\n                    value={schoolInfo.website}\r\n                    onChange={(e) => setSchoolInfo({ ...schoolInfo, website: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <Button onClick={handleCopySchoolConfig} className=\"w-full\">\r\n                <Copy className=\"h-4 w-4 mr-2\" />\r\n                Copy Configuration Code\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Fee Structures Tab */}\r\n        <TabsContent value=\"fees\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Fee Structure Entry</CardTitle>\r\n              <CardDescription>\r\n                Extract from REGISBRIDGE FEES UPDATE FINAL.xlsx and other fee documents\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"grade\">Grade/Form</Label>\r\n                  <Select value={feeEntry.grade} onValueChange={(value) => setFeeEntry({ ...feeEntry, grade: value })}>\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select grade\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"Grade 1\">Grade 1</SelectItem>\r\n                      <SelectItem value=\"Grade 2\">Grade 2</SelectItem>\r\n                      <SelectItem value=\"Grade 3\">Grade 3</SelectItem>\r\n                      <SelectItem value=\"Grade 4\">Grade 4</SelectItem>\r\n                      <SelectItem value=\"Grade 5\">Grade 5</SelectItem>\r\n                      <SelectItem value=\"Grade 6\">Grade 6</SelectItem>\r\n                      <SelectItem value=\"Grade 7\">Grade 7</SelectItem>\r\n                      <SelectItem value=\"Form 1\">Form 1</SelectItem>\r\n                      <SelectItem value=\"Form 2\">Form 2</SelectItem>\r\n                      <SelectItem value=\"Form 3\">Form 3</SelectItem>\r\n                      <SelectItem value=\"Form 4\">Form 4</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"term\">Term</Label>\r\n                  <Select value={feeEntry.term} onValueChange={(value) => setFeeEntry({ ...feeEntry, term: value })}>\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select term\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"1\">Term 1</SelectItem>\r\n                      <SelectItem value=\"2\">Term 2</SelectItem>\r\n                      <SelectItem value=\"3\">Term 3</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"year\">Year</Label>\r\n                  <Input\r\n                    id=\"year\"\r\n                    value={feeEntry.year}\r\n                    onChange={(e) => setFeeEntry({ ...feeEntry, year: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"tuition\">Tuition ($)</Label>\r\n                  <Input\r\n                    id=\"tuition\"\r\n                    type=\"number\"\r\n                    value={feeEntry.tuition}\r\n                    onChange={(e) => setFeeEntry({ ...feeEntry, tuition: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"boarding\">Boarding ($)</Label>\r\n                  <Input\r\n                    id=\"boarding\"\r\n                    type=\"number\"\r\n                    value={feeEntry.boarding}\r\n                    onChange={(e) => setFeeEntry({ ...feeEntry, boarding: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"development\">Development ($)</Label>\r\n                  <Input\r\n                    id=\"development\"\r\n                    type=\"number\"\r\n                    value={feeEntry.development}\r\n                    onChange={(e) => setFeeEntry({ ...feeEntry, development: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"exam\">Exam ($)</Label>\r\n                  <Input\r\n                    id=\"exam\"\r\n                    type=\"number\"\r\n                    value={feeEntry.exam}\r\n                    onChange={(e) => setFeeEntry({ ...feeEntry, exam: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"transport\">Transport ($)</Label>\r\n                  <Input\r\n                    id=\"transport\"\r\n                    type=\"number\"\r\n                    value={feeEntry.transport}\r\n                    onChange={(e) => setFeeEntry({ ...feeEntry, transport: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"other\">Other ($)</Label>\r\n                  <Input\r\n                    id=\"other\"\r\n                    type=\"number\"\r\n                    value={feeEntry.other}\r\n                    onChange={(e) => setFeeEntry({ ...feeEntry, other: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <Button onClick={handleAddFee} className=\"w-full\">\r\n                <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                Add Fee Structure\r\n              </Button>\r\n\r\n              {fees.length > 0 && (\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <Label>Added Fees ({fees.length})</Label>\r\n                    <Button onClick={handleCopyFees} variant=\"outline\" size=\"sm\">\r\n                      <Download className=\"h-4 w-4 mr-2\" />\r\n                      Copy JSON\r\n                    </Button>\r\n                  </div>\r\n                  <div className=\"border rounded-lg p-4 max-h-60 overflow-y-auto\">\r\n                    {fees.map((fee) => (\r\n                      <div key={fee.id} className=\"py-2 border-b last:border-0\">\r\n                        <div className=\"font-medium\">\r\n                          {fee.grade} - Term {fee.term} {fee.year}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-600\">\r\n                          Tuition: ${fee.tuition}, Boarding: ${fee.boarding}, Total: ${fee.totalAmount}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Financial Records Tab */}\r\n        <TabsContent value=\"financial\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Financial Record Entry</CardTitle>\r\n              <CardDescription>\r\n                Extract from monthly expenditure and income Excel files\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"date\">Date</Label>\r\n                  <Input\r\n                    id=\"date\"\r\n                    type=\"date\"\r\n                    value={financialEntry.date}\r\n                    onChange={(e) =>\r\n                      setFinancialEntry({ ...financialEntry, date: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"type\">Type</Label>\r\n                  <Select\r\n                    value={financialEntry.type}\r\n                    onValueChange={(value) => setFinancialEntry({ ...financialEntry, type: value })}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"income\">Income</SelectItem>\r\n                      <SelectItem value=\"expenditure\">Expenditure</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"amount\">Amount ($)</Label>\r\n                  <Input\r\n                    id=\"amount\"\r\n                    type=\"number\"\r\n                    value={financialEntry.amount}\r\n                    onChange={(e) =>\r\n                      setFinancialEntry({ ...financialEntry, amount: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"category\">Category</Label>\r\n                  <Input\r\n                    id=\"category\"\r\n                    value={financialEntry.category}\r\n                    onChange={(e) =>\r\n                      setFinancialEntry({ ...financialEntry, category: e.target.value })\r\n                    }\r\n                    placeholder=\"e.g., Salaries, Utilities, Tuition Fees\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"month\">Month</Label>\r\n                  <Select\r\n                    value={financialEntry.month}\r\n                    onValueChange={(value) => setFinancialEntry({ ...financialEntry, month: value })}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select month\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"January\">January</SelectItem>\r\n                      <SelectItem value=\"February\">February</SelectItem>\r\n                      <SelectItem value=\"March\">March</SelectItem>\r\n                      <SelectItem value=\"April\">April</SelectItem>\r\n                      <SelectItem value=\"May\">May</SelectItem>\r\n                      <SelectItem value=\"June\">June</SelectItem>\r\n                      <SelectItem value=\"July\">July</SelectItem>\r\n                      <SelectItem value=\"August\">August</SelectItem>\r\n                      <SelectItem value=\"September\">September</SelectItem>\r\n                      <SelectItem value=\"October\">October</SelectItem>\r\n                      <SelectItem value=\"November\">November</SelectItem>\r\n                      <SelectItem value=\"December\">December</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"description\">Description</Label>\r\n                <Textarea\r\n                  id=\"description\"\r\n                  value={financialEntry.description}\r\n                  onChange={(e) =>\r\n                    setFinancialEntry({ ...financialEntry, description: e.target.value })\r\n                  }\r\n                  placeholder=\"Brief description of the transaction\"\r\n                />\r\n              </div>\r\n\r\n              <Button onClick={handleAddFinancialRecord} className=\"w-full\">\r\n                <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                Add Financial Record\r\n              </Button>\r\n\r\n              {financialRecords.length > 0 && (\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <Label>Added Records ({financialRecords.length})</Label>\r\n                    <Button onClick={handleCopyFinancialRecords} variant=\"outline\" size=\"sm\">\r\n                      <Download className=\"h-4 w-4 mr-2\" />\r\n                      Copy JSON\r\n                    </Button>\r\n                  </div>\r\n                  <div className=\"border rounded-lg p-4 max-h-60 overflow-y-auto\">\r\n                    {financialRecords.map((record) => (\r\n                      <div key={record.id} className=\"py-2 border-b last:border-0\">\r\n                        <div className=\"font-medium\">\r\n                          {record.category} - ${record.amount}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-600\">\r\n                          {record.type} | {record.month} {record.year}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\FinanceManagement.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\NotificationCenter.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":2,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'UserPlus' is defined but never used.","line":11,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":11}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// NotificationCenter Component - Real-time notifications dropdown\r\nimport { useState, useEffect } from 'react';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { \r\n  Bell, \r\n  CheckCheck, \r\n  Trash2, \r\n  UserPlus, \r\n  AlertCircle, \r\n  DollarSign, \r\n  FileText,\r\n  GraduationCap,\r\n  X\r\n} from 'lucide-react';\r\n\r\ninterface Notification {\r\n  id: string;\r\n  type: 'info' | 'success' | 'warning' | 'error';\r\n  title: string;\r\n  message: string;\r\n  timestamp: Date;\r\n  read: boolean;\r\n}\r\n\r\ninterface NotificationCenterProps {\r\n  onClose: () => void;\r\n  onClearUnread: () => void;\r\n}\r\n\r\nconst mockNotifications: Notification[] = [\r\n  {\r\n    id: '1',\r\n    type: 'success',\r\n    title: 'New Student Registered',\r\n    message: 'John Doe has successfully registered for Grade 10',\r\n    timestamp: new Date(Date.now() - 1000 * 60 * 5),\r\n    read: false,\r\n  },\r\n  {\r\n    id: '2',\r\n    type: 'warning',\r\n    title: 'Payment Overdue',\r\n    message: '5 students have overdue fee payments',\r\n    timestamp: new Date(Date.now() - 1000 * 60 * 30),\r\n    read: false,\r\n  },\r\n  {\r\n    id: '3',\r\n    type: 'info',\r\n    title: 'Report Generated',\r\n    message: 'Monthly attendance report is ready',\r\n    timestamp: new Date(Date.now() - 1000 * 60 * 60),\r\n    read: false,\r\n  },\r\n  {\r\n    id: '4',\r\n    type: 'error',\r\n    title: 'System Alert',\r\n    message: 'Database backup failed - please retry',\r\n    timestamp: new Date(Date.now() - 1000 * 60 * 120),\r\n    read: true,\r\n  },\r\n  {\r\n    id: '5',\r\n    type: 'success',\r\n    title: 'Assignment Submitted',\r\n    message: '25 students submitted their homework',\r\n    timestamp: new Date(Date.now() - 1000 * 60 * 180),\r\n    read: true,\r\n  },\r\n];\r\n\r\nexport function NotificationCenter({ onClose, onClearUnread }: NotificationCenterProps) {\r\n  const [notifications, setNotifications] = useState<Notification[]>(mockNotifications);\r\n  const [filter, setFilter] = useState<'all' | 'unread'>('all');\r\n\r\n  const getIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'success':\r\n        return <GraduationCap className=\"h-5 w-5 text-green-500\" />;\r\n      case 'warning':\r\n        return <DollarSign className=\"h-5 w-5 text-yellow-500\" />;\r\n      case 'error':\r\n        return <AlertCircle className=\"h-5 w-5 text-red-500\" />;\r\n      default:\r\n        return <FileText className=\"h-5 w-5 text-blue-500\" />;\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (date: Date) => {\r\n    const now = new Date();\r\n    const diff = now.getTime() - date.getTime();\r\n    const minutes = Math.floor(diff / 60000);\r\n    const hours = Math.floor(diff / 3600000);\r\n    const days = Math.floor(diff / 86400000);\r\n\r\n    if (minutes < 1) return 'Just now';\r\n    if (minutes < 60) return `${minutes}m ago`;\r\n    if (hours < 24) return `${hours}h ago`;\r\n    return `${days}d ago`;\r\n  };\r\n\r\n  const markAsRead = (id: string) => {\r\n    setNotifications(prev =>\r\n      prev.map(notif =>\r\n        notif.id === id ? { ...notif, read: true } : notif\r\n      )\r\n    );\r\n  };\r\n\r\n  const markAllAsRead = () => {\r\n    setNotifications(prev =>\r\n      prev.map(notif => ({ ...notif, read: true }))\r\n    );\r\n    onClearUnread();\r\n  };\r\n\r\n  const deleteNotification = (id: string) => {\r\n    setNotifications(prev => prev.filter(notif => notif.id !== id));\r\n  };\r\n\r\n  const filteredNotifications = filter === 'unread' \r\n    ? notifications.filter(n => !n.read)\r\n    : notifications;\r\n\r\n  const unreadCount = notifications.filter(n => !n.read).length;\r\n\r\n  return (\r\n    <Card className=\"absolute right-0 top-12 w-96 shadow-lg border-2 z-50 max-h-[600px] flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between p-4 border-b\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Bell className=\"h-5 w-5\" />\r\n          <h3 className=\"font-semibold\">Notifications</h3>\r\n          {unreadCount > 0 && (\r\n            <Badge variant=\"destructive\" className=\"ml-1\">{unreadCount}</Badge>\r\n          )}\r\n        </div>\r\n        <Button variant=\"ghost\" size=\"sm\" onClick={onClose}>\r\n          <X className=\"h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Filter Tabs */}\r\n      <div className=\"flex items-center gap-2 px-4 py-2 border-b bg-gray-50\">\r\n        <Button\r\n          variant={filter === 'all' ? 'default' : 'ghost'}\r\n          size=\"sm\"\r\n          onClick={() => setFilter('all')}\r\n        >\r\n          All ({notifications.length})\r\n        </Button>\r\n        <Button\r\n          variant={filter === 'unread' ? 'default' : 'ghost'}\r\n          size=\"sm\"\r\n          onClick={() => setFilter('unread')}\r\n        >\r\n          Unread ({unreadCount})\r\n        </Button>\r\n        {unreadCount > 0 && (\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={markAllAsRead}\r\n            className=\"ml-auto text-xs\"\r\n          >\r\n            <CheckCheck className=\"h-3 w-3 mr-1\" />\r\n            Mark all read\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Notifications List */}\r\n      <ScrollArea className=\"flex-1\">\r\n        <div className=\"divide-y\">\r\n          {filteredNotifications.length > 0 ? (\r\n            filteredNotifications.map(notification => (\r\n              <div\r\n                key={notification.id}\r\n                className={`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${\r\n                  !notification.read ? 'bg-blue-50' : ''\r\n                }`}\r\n                onClick={() => markAsRead(notification.id)}\r\n              >\r\n                <div className=\"flex items-start gap-3\">\r\n                  <div className=\"mt-0.5\">{getIcon(notification.type)}</div>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-start justify-between gap-2\">\r\n                      <p className=\"font-medium text-sm text-gray-900 truncate\">\r\n                        {notification.title}\r\n                      </p>\r\n                      {!notification.read && (\r\n                        <div className=\"h-2 w-2 bg-blue-500 rounded-full flex-shrink-0 mt-1\" />\r\n                      )}\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-600 mt-1 line-clamp-2\">\r\n                      {notification.message}\r\n                    </p>\r\n                    <div className=\"flex items-center justify-between mt-2\">\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        {formatTimestamp(notification.timestamp)}\r\n                      </span>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          deleteNotification(notification.id);\r\n                        }}\r\n                        className=\"h-6 w-6 p-0\"\r\n                      >\r\n                        <Trash2 className=\"h-3 w-3 text-gray-400\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"p-8 text-center text-gray-500\">\r\n              <Bell className=\"h-12 w-12 mx-auto mb-2 opacity-20\" />\r\n              <p className=\"text-sm\">No notifications</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </ScrollArea>\r\n\r\n      {/* Footer */}\r\n      {notifications.length > 0 && (\r\n        <div className=\"p-3 border-t bg-gray-50\">\r\n          <Button variant=\"ghost\" size=\"sm\" className=\"w-full text-xs\">\r\n            View All Notifications\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\Overview.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LineChart' is defined but never used.","line":10,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Line' is defined but never used.","line":10,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'enrollmentData' is assigned a value but never used.","line":19,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":24},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadDashboardData'. Either include it or remove the dependency array.","line":26,"column":6,"nodeType":"ArrayExpression","endLine":26,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [loadDashboardData]","fix":{"range":[1585,1587],"text":"[loadDashboardData]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":42,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":42,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Overview Component - Dashboard with statistics and charts\r\nimport { useEffect, useState } from 'react';\r\nimport { StatsCard } from './shared/StatsCard';\r\nimport { AdminHeader } from './shared/AdminHeader';\r\nimport { Users, GraduationCap, DollarSign, FileText, TrendingUp, Clock, PieChart as PieChartIcon, Send, FileDown, Database, Mail, BarChart3 } from 'lucide-react';\r\nimport { getDashboardStats, getEnrollmentData, getRevenueData, getActivityLogs } from '@/services/adminService';\r\nimport type { DashboardStats, EnrollmentData, RevenueData, ActivityLog } from '@/types/admin';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { LineChart, Line, BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { enrollmentMarch2021, enrollmentSummary } from '@/lib/data/seed-data-enrollment';\r\nimport { staffStats } from '@/lib/data/seed-data-staff';\r\nimport { feeBreakdown2021 } from '@/lib/data/seed-data-financial';\r\n\r\nexport function Overview() {\r\n  const { toast } = useToast();\r\n  const [stats, setStats] = useState<DashboardStats | null>(null);\r\n  const [enrollmentData, setEnrollmentData] = useState<EnrollmentData[]>([]);\r\n  const [revenueData, setRevenueData] = useState<RevenueData[]>([]);\r\n  const [activityLogs, setActivityLogs] = useState<ActivityLog[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadDashboardData();\r\n  }, []);\r\n\r\n  const loadDashboardData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [statsData, enrollData, revData, logsData] = await Promise.all([\r\n        getDashboardStats(),\r\n        getEnrollmentData(new Date().getFullYear()),\r\n        getRevenueData(new Date().getFullYear()),\r\n        getActivityLogs(10),\r\n      ]);\r\n\r\n      setStats(statsData);\r\n      setEnrollmentData(enrollData);\r\n      setRevenueData(revData);\r\n      setActivityLogs(logsData);\r\n    } catch (error) {\r\n      toast({\r\n        title: 'Error',\r\n        description: 'Failed to load dashboard data',\r\n        variant: 'destructive',\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Real enrollment data from March-April 2021\r\n  const gradeDistribution = enrollmentMarch2021\r\n    .filter(record => record.currentTotal > 0)\r\n    .map((record, index) => ({\r\n      name: record.grade,\r\n      value: record.currentTotal,\r\n      fill: ['#1C1A75', '#2D2B8F', '#3D3BAF', '#10B981', '#059669', '#F59E0B', '#EF4444', '#DC2626', '#7C3AED', '#6366F1', '#8B5CF6', '#A78BFA'][index % 12],\r\n    }));\r\n\r\n  // Staff distribution by department (real 2021 data)\r\n  const staffDistribution = [\r\n    { department: 'Administration', count: staffStats.departments.administration, fill: '#1C1A75' },\r\n    { department: 'ECD', count: staffStats.departments.ecd, fill: '#10B981' },\r\n    { department: 'Primary', count: staffStats.departments.primary, fill: '#F59E0B' },\r\n    { department: 'ICT', count: staffStats.departments.ict, fill: '#EF4444' },\r\n  ];\r\n\r\n  // Fee structure breakdown (real 2021 data)\r\n  const feeBreakdownChart = [\r\n    { category: 'ECD Total', amount: feeBreakdown2021.ecd.total, fill: '#1C1A75' },\r\n    { category: 'Primary Total', amount: feeBreakdown2021.primary.total, fill: '#10B981' },\r\n    { category: 'Boarding', amount: feeBreakdown2021.boarding.newFee, fill: '#F59E0B' },\r\n  ];\r\n\r\n  // Enrollment growth data (March-April 2021)\r\n  const enrollmentGrowth = [\r\n    { period: 'March 15', students: enrollmentSummary.opening.total, male: enrollmentSummary.opening.male, female: enrollmentSummary.opening.female },\r\n    { period: 'April 21', students: enrollmentSummary.current.total, male: enrollmentSummary.current.male, female: enrollmentSummary.current.female },\r\n  ];\r\n\r\n  const handleQuickAction = (action: string) => {\r\n    toast({\r\n      title: 'Quick Action',\r\n      description: `${action} - Feature coming soon!`,\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-96\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1C1A75] mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <AdminHeader\r\n        title=\"Dashboard Overview\"\r\n        description=\"Welcome back! Here's what's happening with your school.\"\r\n      />\r\n\r\n      {/* Stats Grid - Real 2021 Data */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <StatsCard\r\n          title=\"Total Students\"\r\n          value={enrollmentSummary.current.total}\r\n          description=\"April 21, 2021\"\r\n          icon={GraduationCap}\r\n          trend={{ value: enrollmentSummary.growth.percentage, isPositive: true }}\r\n        />\r\n        <StatsCard\r\n          title=\"Total Staff\"\r\n          value={staffStats.totalStaff}\r\n          description=\"14 qualified teachers\"\r\n          icon={Users}\r\n        />\r\n        <StatsCard\r\n          title=\"ECD Students\"\r\n          value={enrollmentMarch2021.filter(r => r.grade.includes('ECD')).reduce((sum, r) => sum + r.currentTotal, 0)}\r\n          description={`${((enrollmentMarch2021.filter(r => r.grade.includes('ECD')).reduce((sum, r) => sum + r.currentTotal, 0) / enrollmentSummary.current.total) * 100).toFixed(0)}% of total`}\r\n          icon={GraduationCap}\r\n        />\r\n        <StatsCard\r\n          title=\"Primary Students\"\r\n          value={enrollmentMarch2021.filter(r => r.grade.includes('Grade')).reduce((sum, r) => sum + r.currentTotal, 0)}\r\n          description={`${((enrollmentMarch2021.filter(r => r.grade.includes('Grade')).reduce((sum, r) => sum + r.currentTotal, 0) / enrollmentSummary.current.total) * 100).toFixed(0)}% of total`}\r\n          icon={FileText}\r\n        />\r\n      </div>\r\n\r\n      {/* Charts Row */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Enrollment Growth (March-April 2021) */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <TrendingUp className=\"h-5 w-5\" />\r\n              Enrollment Growth (March-April 2021)\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <BarChart data={enrollmentGrowth}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"period\" />\r\n                <YAxis />\r\n                <Tooltip />\r\n                <Legend />\r\n                <Bar dataKey=\"male\" fill=\"#1C1A75\" name=\"Male\" stackId=\"a\" />\r\n                <Bar dataKey=\"female\" fill=\"#10B981\" name=\"Female\" stackId=\"a\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n            <div className=\"mt-4 text-center text-sm text-gray-600\">\r\n              <p className=\"font-semibold text-green-600\">+{enrollmentSummary.growth.absolute} students (+{enrollmentSummary.growth.percentage.toFixed(1)}%)</p>\r\n              <p className=\"text-xs mt-1\">Total: {enrollmentSummary.current.total} students</p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Revenue Chart */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <DollarSign className=\"h-5 w-5\" />\r\n              Monthly Revenue\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <BarChart data={revenueData}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"month\" />\r\n                <YAxis />\r\n                <Tooltip />\r\n                <Legend />\r\n                <Bar dataKey=\"amount\" fill=\"#10B981\" name=\"Revenue ($)\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* New Enhanced Charts Row */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Grade Distribution Pie Chart */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2 text-base\">\r\n              <PieChartIcon className=\"h-5 w-5\" />\r\n              Student Distribution by Grade\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={gradeDistribution}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  labelLine={false}\r\n                  label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`}\r\n                  outerRadius={80}\r\n                  dataKey=\"value\"\r\n                >\r\n                  {gradeDistribution.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={entry.fill} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Staff Distribution Chart */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2 text-base\">\r\n              <BarChart3 className=\"h-5 w-5\" />\r\n              Staff by Department (2021)\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <BarChart data={staffDistribution}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"department\" />\r\n                <YAxis />\r\n                <Tooltip />\r\n                <Legend />\r\n                <Bar dataKey=\"count\" fill=\"#1C1A75\" name=\"Staff Count\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Fee Structure Breakdown Chart */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2 text-base\">\r\n              <DollarSign className=\"h-5 w-5\" />\r\n              Fee Structure 2021 (USD)\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={feeBreakdownChart}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  labelLine={false}\r\n                  label={({ category, amount }) => `${category}: $${amount}`}\r\n                  outerRadius={80}\r\n                  dataKey=\"amount\"\r\n                >\r\n                  {feeBreakdownChart.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={entry.fill} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Quick Actions Widget */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Quick Actions</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3\">\r\n            <Button \r\n              variant=\"outline\" \r\n              className=\"h-20 flex flex-col gap-2\"\r\n              onClick={() => handleQuickAction('Send Announcement')}\r\n            >\r\n              <Send className=\"h-5 w-5\" />\r\n              <span className=\"text-xs\">Send Announcement</span>\r\n            </Button>\r\n            <Button \r\n              variant=\"outline\" \r\n              className=\"h-20 flex flex-col gap-2\"\r\n              onClick={() => handleQuickAction('Generate Report')}\r\n            >\r\n              <FileDown className=\"h-5 w-5\" />\r\n              <span className=\"text-xs\">Generate Report</span>\r\n            </Button>\r\n            <Button \r\n              variant=\"outline\" \r\n              className=\"h-20 flex flex-col gap-2\"\r\n              onClick={() => handleQuickAction('Export Data')}\r\n            >\r\n              <Database className=\"h-5 w-5\" />\r\n              <span className=\"text-xs\">Export Data</span>\r\n            </Button>\r\n            <Button \r\n              variant=\"outline\" \r\n              className=\"h-20 flex flex-col gap-2\"\r\n              onClick={() => window.location.href = '/admin/data-entry'}\r\n            >\r\n              <FileText className=\"h-5 w-5\" />\r\n              <span className=\"text-xs\">Data Entry Tool</span>\r\n            </Button>\r\n            <Button \r\n              variant=\"outline\" \r\n              className=\"h-20 flex flex-col gap-2\"\r\n              onClick={() => handleQuickAction('Bulk Email')}\r\n            >\r\n              <Mail className=\"h-5 w-5\" />\r\n              <span className=\"text-xs\">Bulk Email</span>\r\n            </Button>\r\n            <Button \r\n              variant=\"outline\" \r\n              className=\"h-20 flex flex-col gap-2\"\r\n              onClick={() => handleQuickAction('View Analytics')}\r\n            >\r\n              <BarChart3 className=\"h-5 w-5\" />\r\n              <span className=\"text-xs\">View Analytics</span>\r\n            </Button>\r\n            <Button \r\n              variant=\"outline\" \r\n              className=\"h-20 flex flex-col gap-2\"\r\n              onClick={() => handleQuickAction('Backup Database')}\r\n            >\r\n              <Database className=\"h-5 w-5\" />\r\n              <span className=\"text-xs\">Backup Database</span>\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Quick Stats Row */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-base\">Teachers</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <p className=\"text-3xl font-bold\">{stats?.totalTeachers || 0}</p>\r\n            <p className=\"text-sm text-gray-500\">Active faculty members</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-base\">Parents</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <p className=\"text-3xl font-bold\">{stats?.totalParents || 0}</p>\r\n            <p className=\"text-sm text-gray-500\">Registered parents</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-base\">Attendance Rate</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <p className=\"text-3xl font-bold\">{stats?.attendanceRate || 0}%</p>\r\n            <p className=\"text-sm text-gray-500\">This week</p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Recent Activity */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Clock className=\"h-5 w-5\" />\r\n            Recent Activity\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-4\">\r\n            {activityLogs && activityLogs.length > 0 ? (\r\n              activityLogs.map((log) => (\r\n                <div key={log.id} className=\"flex items-start gap-3 pb-3 border-b last:border-0\">\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-sm font-medium text-gray-900\">{log.action}</p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      by {log.userName} â€¢ {new Date(log.timestamp).toLocaleString()}\r\n                    </p>\r\n                    {log.details && (\r\n                      <p className=\"text-xs text-gray-600 mt-1\">{log.details}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-sm text-gray-500 text-center py-4\">\r\n                No recent activity to display\r\n              </p>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\ReportsAnalytics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\StaffDirectory.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\StudentManagement.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\SystemSettings.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":130,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":130,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3498,3501],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3498,3501],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":143,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":143,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":162,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":162,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// SystemSettings Component - Configure system-wide settings\r\nimport { useState } from 'react';\r\nimport { AdminHeader } from './shared/AdminHeader';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select';\r\nimport { \r\n  Mail, \r\n  MessageSquare, \r\n  Bell, \r\n  Database, \r\n  Shield, \r\n  Globe, \r\n  Save,\r\n  Download,\r\n  Upload,\r\n  RefreshCw,\r\n  AlertCircle\r\n} from 'lucide-react';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\ninterface Settings {\r\n  // Email Settings\r\n  emailEnabled: boolean;\r\n  smtpServer: string;\r\n  smtpPort: string;\r\n  smtpUsername: string;\r\n  smtpPassword: string;\r\n  emailFromAddress: string;\r\n  emailFromName: string;\r\n\r\n  // SMS Settings\r\n  smsEnabled: boolean;\r\n  smsProvider: string;\r\n  smsApiKey: string;\r\n  smsFromNumber: string;\r\n\r\n  // Notification Settings\r\n  enableEmailNotifications: boolean;\r\n  enableSMSNotifications: boolean;\r\n  enablePushNotifications: boolean;\r\n  notifyOnNewRegistration: boolean;\r\n  notifyOnPayment: boolean;\r\n  notifyOnAttendance: boolean;\r\n\r\n  // System Settings\r\n  schoolName: string;\r\n  schoolEmail: string;\r\n  schoolPhone: string;\r\n  schoolAddress: string;\r\n  academicYear: string;\r\n  currency: string;\r\n  timezone: string;\r\n  dateFormat: string;\r\n\r\n  // Security Settings\r\n  enableTwoFactor: boolean;\r\n  sessionTimeout: number;\r\n  passwordMinLength: number;\r\n  passwordRequireSpecialChar: boolean;\r\n  maxLoginAttempts: number;\r\n\r\n  // Backup Settings\r\n  autoBackupEnabled: boolean;\r\n  backupFrequency: string;\r\n  backupTime: string;\r\n  backupRetentionDays: number;\r\n}\r\n\r\nconst defaultSettings: Settings = {\r\n  emailEnabled: true,\r\n  smtpServer: 'smtp.gmail.com',\r\n  smtpPort: '587',\r\n  smtpUsername: 'admin@regisbridge.ac.zw',\r\n  smtpPassword: '',\r\n  emailFromAddress: 'noreply@regisbridge.ac.zw',\r\n  emailFromName: 'Regisbridge School',\r\n\r\n  smsEnabled: false,\r\n  smsProvider: 'twilio',\r\n  smsApiKey: '',\r\n  smsFromNumber: '',\r\n\r\n  enableEmailNotifications: true,\r\n  enableSMSNotifications: false,\r\n  enablePushNotifications: true,\r\n  notifyOnNewRegistration: true,\r\n  notifyOnPayment: true,\r\n  notifyOnAttendance: false,\r\n\r\n  schoolName: 'Regisbridge Private School',\r\n  schoolEmail: 'info@regisbridge.ac.zw',\r\n  schoolPhone: '+263 4 123456',\r\n  schoolAddress: '123 Education Street, Harare, Zimbabwe',\r\n  academicYear: '2025',\r\n  currency: 'USD',\r\n  timezone: 'Africa/Harare',\r\n  dateFormat: 'DD/MM/YYYY',\r\n\r\n  enableTwoFactor: false,\r\n  sessionTimeout: 60,\r\n  passwordMinLength: 8,\r\n  passwordRequireSpecialChar: true,\r\n  maxLoginAttempts: 5,\r\n\r\n  autoBackupEnabled: true,\r\n  backupFrequency: 'daily',\r\n  backupTime: '02:00',\r\n  backupRetentionDays: 30,\r\n};\r\n\r\nexport function SystemSettings() {\r\n  const { toast } = useToast();\r\n  const [settings, setSettings] = useState<Settings>(defaultSettings);\r\n  const [loading, setLoading] = useState(false);\r\n  const [backupInProgress, setBackupInProgress] = useState(false);\r\n\r\n  const updateSetting = (key: keyof Settings, value: any) => {\r\n    setSettings(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Simulate API call\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      toast({\r\n        title: 'Settings Saved',\r\n        description: 'Your settings have been updated successfully',\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        title: 'Error',\r\n        description: 'Failed to save settings',\r\n        variant: 'destructive',\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBackupNow = async () => {\r\n    setBackupInProgress(true);\r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      toast({\r\n        title: 'Backup Complete',\r\n        description: 'Database backup created successfully',\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        title: 'Backup Failed',\r\n        description: 'Failed to create database backup',\r\n        variant: 'destructive',\r\n      });\r\n    } finally {\r\n      setBackupInProgress(false);\r\n    }\r\n  };\r\n\r\n  const handleRestoreBackup = () => {\r\n    toast({\r\n      title: 'Restore Initiated',\r\n      description: 'Please select a backup file to restore',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <AdminHeader\r\n        title=\"System Settings\"\r\n        description=\"Configure system-wide settings and preferences\"\r\n      />\r\n\r\n      <Tabs defaultValue=\"general\" className=\"space-y-6\">\r\n        <TabsList className=\"grid grid-cols-2 md:grid-cols-5 gap-2\">\r\n          <TabsTrigger value=\"general\">\r\n            <Globe className=\"h-4 w-4 mr-2\" />\r\n            General\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"email\">\r\n            <Mail className=\"h-4 w-4 mr-2\" />\r\n            Email\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"notifications\">\r\n            <Bell className=\"h-4 w-4 mr-2\" />\r\n            Notifications\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"security\">\r\n            <Shield className=\"h-4 w-4 mr-2\" />\r\n            Security\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"backup\">\r\n            <Database className=\"h-4 w-4 mr-2\" />\r\n            Backup\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* General Settings */}\r\n        <TabsContent value=\"general\" className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>School Information</CardTitle>\r\n              <CardDescription>Basic information about your school</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"schoolName\">School Name</Label>\r\n                  <Input\r\n                    id=\"schoolName\"\r\n                    value={settings.schoolName}\r\n                    onChange={(e) => updateSetting('schoolName', e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"academicYear\">Academic Year</Label>\r\n                  <Input\r\n                    id=\"academicYear\"\r\n                    value={settings.academicYear}\r\n                    onChange={(e) => updateSetting('academicYear', e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"schoolEmail\">School Email</Label>\r\n                  <Input\r\n                    id=\"schoolEmail\"\r\n                    type=\"email\"\r\n                    value={settings.schoolEmail}\r\n                    onChange={(e) => updateSetting('schoolEmail', e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"schoolPhone\">School Phone</Label>\r\n                  <Input\r\n                    id=\"schoolPhone\"\r\n                    value={settings.schoolPhone}\r\n                    onChange={(e) => updateSetting('schoolPhone', e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"schoolAddress\">School Address</Label>\r\n                <Textarea\r\n                  id=\"schoolAddress\"\r\n                  value={settings.schoolAddress}\r\n                  onChange={(e) => updateSetting('schoolAddress', e.target.value)}\r\n                  rows={3}\r\n                />\r\n              </div>\r\n              <Separator />\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"currency\">Currency</Label>\r\n                  <Select value={settings.currency} onValueChange={(value) => updateSetting('currency', value)}>\r\n                    <SelectTrigger id=\"currency\">\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"USD\">USD ($)</SelectItem>\r\n                      <SelectItem value=\"ZWL\">ZWL (Z$)</SelectItem>\r\n                      <SelectItem value=\"ZAR\">ZAR (R)</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"timezone\">Timezone</Label>\r\n                  <Select value={settings.timezone} onValueChange={(value) => updateSetting('timezone', value)}>\r\n                    <SelectTrigger id=\"timezone\">\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"Africa/Harare\">Africa/Harare (CAT)</SelectItem>\r\n                      <SelectItem value=\"Africa/Johannesburg\">Africa/Johannesburg (SAST)</SelectItem>\r\n                      <SelectItem value=\"UTC\">UTC</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"dateFormat\">Date Format</Label>\r\n                  <Select value={settings.dateFormat} onValueChange={(value) => updateSetting('dateFormat', value)}>\r\n                    <SelectTrigger id=\"dateFormat\">\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"DD/MM/YYYY\">DD/MM/YYYY</SelectItem>\r\n                      <SelectItem value=\"MM/DD/YYYY\">MM/DD/YYYY</SelectItem>\r\n                      <SelectItem value=\"YYYY-MM-DD\">YYYY-MM-DD</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Email Settings */}\r\n        <TabsContent value=\"email\" className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Email Configuration</CardTitle>\r\n              <CardDescription>Configure SMTP settings for sending emails</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <Label htmlFor=\"emailEnabled\">Enable Email Service</Label>\r\n                  <p className=\"text-sm text-gray-500\">Allow system to send emails</p>\r\n                </div>\r\n                <Switch\r\n                  id=\"emailEnabled\"\r\n                  checked={settings.emailEnabled}\r\n                  onCheckedChange={(checked) => updateSetting('emailEnabled', checked)}\r\n                />\r\n              </div>\r\n              <Separator />\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"smtpServer\">SMTP Server</Label>\r\n                  <Input\r\n                    id=\"smtpServer\"\r\n                    value={settings.smtpServer}\r\n                    onChange={(e) => updateSetting('smtpServer', e.target.value)}\r\n                    disabled={!settings.emailEnabled}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"smtpPort\">SMTP Port</Label>\r\n                  <Input\r\n                    id=\"smtpPort\"\r\n                    value={settings.smtpPort}\r\n                    onChange={(e) => updateSetting('smtpPort', e.target.value)}\r\n                    disabled={!settings.emailEnabled}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"smtpUsername\">SMTP Username</Label>\r\n                  <Input\r\n                    id=\"smtpUsername\"\r\n                    value={settings.smtpUsername}\r\n                    onChange={(e) => updateSetting('smtpUsername', e.target.value)}\r\n                    disabled={!settings.emailEnabled}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"smtpPassword\">SMTP Password</Label>\r\n                  <Input\r\n                    id=\"smtpPassword\"\r\n                    type=\"password\"\r\n                    value={settings.smtpPassword}\r\n                    onChange={(e) => updateSetting('smtpPassword', e.target.value)}\r\n                    disabled={!settings.emailEnabled}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"emailFromAddress\">From Email Address</Label>\r\n                  <Input\r\n                    id=\"emailFromAddress\"\r\n                    type=\"email\"\r\n                    value={settings.emailFromAddress}\r\n                    onChange={(e) => updateSetting('emailFromAddress', e.target.value)}\r\n                    disabled={!settings.emailEnabled}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"emailFromName\">From Name</Label>\r\n                  <Input\r\n                    id=\"emailFromName\"\r\n                    value={settings.emailFromName}\r\n                    onChange={(e) => updateSetting('emailFromName', e.target.value)}\r\n                    disabled={!settings.emailEnabled}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <Button variant=\"outline\" disabled={!settings.emailEnabled}>\r\n                <Mail className=\"h-4 w-4 mr-2\" />\r\n                Test Email Configuration\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>SMS Configuration</CardTitle>\r\n              <CardDescription>Configure SMS gateway for sending text messages</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <Label htmlFor=\"smsEnabled\">Enable SMS Service</Label>\r\n                  <p className=\"text-sm text-gray-500\">Allow system to send SMS messages</p>\r\n                </div>\r\n                <Switch\r\n                  id=\"smsEnabled\"\r\n                  checked={settings.smsEnabled}\r\n                  onCheckedChange={(checked) => updateSetting('smsEnabled', checked)}\r\n                />\r\n              </div>\r\n              <Separator />\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"smsProvider\">SMS Provider</Label>\r\n                  <Select \r\n                    value={settings.smsProvider} \r\n                    onValueChange={(value) => updateSetting('smsProvider', value)}\r\n                    disabled={!settings.smsEnabled}\r\n                  >\r\n                    <SelectTrigger id=\"smsProvider\">\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"twilio\">Twilio</SelectItem>\r\n                      <SelectItem value=\"africastalking\">Africa's Talking</SelectItem>\r\n                      <SelectItem value=\"clickatell\">Clickatell</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"smsFromNumber\">From Number</Label>\r\n                  <Input\r\n                    id=\"smsFromNumber\"\r\n                    value={settings.smsFromNumber}\r\n                    onChange={(e) => updateSetting('smsFromNumber', e.target.value)}\r\n                    disabled={!settings.smsEnabled}\r\n                    placeholder=\"+1234567890\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2 md:col-span-2\">\r\n                  <Label htmlFor=\"smsApiKey\">API Key</Label>\r\n                  <Input\r\n                    id=\"smsApiKey\"\r\n                    type=\"password\"\r\n                    value={settings.smsApiKey}\r\n                    onChange={(e) => updateSetting('smsApiKey', e.target.value)}\r\n                    disabled={!settings.smsEnabled}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <Button variant=\"outline\" disabled={!settings.smsEnabled}>\r\n                <MessageSquare className=\"h-4 w-4 mr-2\" />\r\n                Test SMS Configuration\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Notification Settings */}\r\n        <TabsContent value=\"notifications\" className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Notification Channels</CardTitle>\r\n              <CardDescription>Choose how you want to receive notifications</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <Label htmlFor=\"enableEmailNotifications\">Email Notifications</Label>\r\n                  <p className=\"text-sm text-gray-500\">Receive notifications via email</p>\r\n                </div>\r\n                <Switch\r\n                  id=\"enableEmailNotifications\"\r\n                  checked={settings.enableEmailNotifications}\r\n                  onCheckedChange={(checked) => updateSetting('enableEmailNotifications', checked)}\r\n                />\r\n              </div>\r\n              <Separator />\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <Label htmlFor=\"enableSMSNotifications\">SMS Notifications</Label>\r\n                  <p className=\"text-sm text-gray-500\">Receive notifications via SMS</p>\r\n                </div>\r\n                <Switch\r\n                  id=\"enableSMSNotifications\"\r\n                  checked={settings.enableSMSNotifications}\r\n                  onCheckedChange={(checked) => updateSetting('enableSMSNotifications', checked)}\r\n                />\r\n              </div>\r\n              <Separator />\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <Label htmlFor=\"enablePushNotifications\">Push Notifications</Label>\r\n                  <p className=\"text-sm text-gray-500\">Receive push notifications in browser</p>\r\n                </div>\r\n                <Switch\r\n                  id=\"enablePushNotifications\"\r\n                  checked={settings.enablePushNotifications}\r\n                  onCheckedChange={(checked) => updateSetting('enablePushNotifications', checked)}\r\n                />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Notification Events</CardTitle>\r\n              <CardDescription>Choose which events trigger notifications</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <Label htmlFor=\"notifyOnNewRegistration\">New Student Registration</Label>\r\n                  <p className=\"text-sm text-gray-500\">Notify when a new student registers</p>\r\n                </div>\r\n                <Switch\r\n                  id=\"notifyOnNewRegistration\"\r\n                  checked={settings.notifyOnNewRegistration}\r\n                  onCheckedChange={(checked) => updateSetting('notifyOnNewRegistration', checked)}\r\n                />\r\n              </div>\r\n              <Separator />\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <Label htmlFor=\"notifyOnPayment\">Fee Payments</Label>\r\n                  <p className=\"text-sm text-gray-500\">Notify when fees are paid</p>\r\n                </div>\r\n                <Switch\r\n                  id=\"notifyOnPayment\"\r\n                  checked={settings.notifyOnPayment}\r\n                  onCheckedChange={(checked) => updateSetting('notifyOnPayment', checked)}\r\n                />\r\n              </div>\r\n              <Separator />\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <Label htmlFor=\"notifyOnAttendance\">Attendance Alerts</Label>\r\n                  <p className=\"text-sm text-gray-500\">Notify on attendance issues</p>\r\n                </div>\r\n                <Switch\r\n                  id=\"notifyOnAttendance\"\r\n                  checked={settings.notifyOnAttendance}\r\n                  onCheckedChange={(checked) => updateSetting('notifyOnAttendance', checked)}\r\n                />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Security Settings */}\r\n        <TabsContent value=\"security\" className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Authentication Security</CardTitle>\r\n              <CardDescription>Configure authentication and access control</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <Label htmlFor=\"enableTwoFactor\">Two-Factor Authentication</Label>\r\n                  <p className=\"text-sm text-gray-500\">Require 2FA for admin accounts</p>\r\n                </div>\r\n                <Switch\r\n                  id=\"enableTwoFactor\"\r\n                  checked={settings.enableTwoFactor}\r\n                  onCheckedChange={(checked) => updateSetting('enableTwoFactor', checked)}\r\n                />\r\n              </div>\r\n              <Separator />\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"sessionTimeout\">Session Timeout (minutes)</Label>\r\n                  <Input\r\n                    id=\"sessionTimeout\"\r\n                    type=\"number\"\r\n                    value={settings.sessionTimeout}\r\n                    onChange={(e) => updateSetting('sessionTimeout', parseInt(e.target.value))}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"maxLoginAttempts\">Max Login Attempts</Label>\r\n                  <Input\r\n                    id=\"maxLoginAttempts\"\r\n                    type=\"number\"\r\n                    value={settings.maxLoginAttempts}\r\n                    onChange={(e) => updateSetting('maxLoginAttempts', parseInt(e.target.value))}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Password Policy</CardTitle>\r\n              <CardDescription>Set password requirements for all users</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"passwordMinLength\">Minimum Password Length</Label>\r\n                <Input\r\n                  id=\"passwordMinLength\"\r\n                  type=\"number\"\r\n                  value={settings.passwordMinLength}\r\n                  onChange={(e) => updateSetting('passwordMinLength', parseInt(e.target.value))}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <Label htmlFor=\"passwordRequireSpecialChar\">Require Special Characters</Label>\r\n                  <p className=\"text-sm text-gray-500\">Password must contain special characters</p>\r\n                </div>\r\n                <Switch\r\n                  id=\"passwordRequireSpecialChar\"\r\n                  checked={settings.passwordRequireSpecialChar}\r\n                  onCheckedChange={(checked) => updateSetting('passwordRequireSpecialChar', checked)}\r\n                />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Backup Settings */}\r\n        <TabsContent value=\"backup\" className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Automated Backups</CardTitle>\r\n              <CardDescription>Configure automatic database backups</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <Label htmlFor=\"autoBackupEnabled\">Enable Automatic Backups</Label>\r\n                  <p className=\"text-sm text-gray-500\">Automatically backup database</p>\r\n                </div>\r\n                <Switch\r\n                  id=\"autoBackupEnabled\"\r\n                  checked={settings.autoBackupEnabled}\r\n                  onCheckedChange={(checked) => updateSetting('autoBackupEnabled', checked)}\r\n                />\r\n              </div>\r\n              <Separator />\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"backupFrequency\">Backup Frequency</Label>\r\n                  <Select \r\n                    value={settings.backupFrequency} \r\n                    onValueChange={(value) => updateSetting('backupFrequency', value)}\r\n                    disabled={!settings.autoBackupEnabled}\r\n                  >\r\n                    <SelectTrigger id=\"backupFrequency\">\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"hourly\">Hourly</SelectItem>\r\n                      <SelectItem value=\"daily\">Daily</SelectItem>\r\n                      <SelectItem value=\"weekly\">Weekly</SelectItem>\r\n                      <SelectItem value=\"monthly\">Monthly</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"backupTime\">Backup Time</Label>\r\n                  <Input\r\n                    id=\"backupTime\"\r\n                    type=\"time\"\r\n                    value={settings.backupTime}\r\n                    onChange={(e) => updateSetting('backupTime', e.target.value)}\r\n                    disabled={!settings.autoBackupEnabled}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"backupRetentionDays\">Retention (days)</Label>\r\n                  <Input\r\n                    id=\"backupRetentionDays\"\r\n                    type=\"number\"\r\n                    value={settings.backupRetentionDays}\r\n                    onChange={(e) => updateSetting('backupRetentionDays', parseInt(e.target.value))}\r\n                    disabled={!settings.autoBackupEnabled}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Manual Backup & Restore</CardTitle>\r\n              <CardDescription>Create or restore backups manually</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-start gap-4 p-4 border rounded-lg bg-amber-50 border-amber-200\">\r\n                <AlertCircle className=\"h-5 w-5 text-amber-600 mt-0.5\" />\r\n                <div className=\"flex-1\">\r\n                  <p className=\"text-sm font-medium text-amber-900\">Important</p>\r\n                  <p className=\"text-sm text-amber-700\">\r\n                    Creating a backup will temporarily lock the database. \r\n                    It's recommended to do this during off-peak hours.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex gap-3\">\r\n                <Button onClick={handleBackupNow} disabled={backupInProgress}>\r\n                  {backupInProgress ? (\r\n                    <>\r\n                      <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                      Creating Backup...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Download className=\"h-4 w-4 mr-2\" />\r\n                      Create Backup Now\r\n                    </>\r\n                  )}\r\n                </Button>\r\n                <Button variant=\"outline\" onClick={handleRestoreBackup}>\r\n                  <Upload className=\"h-4 w-4 mr-2\" />\r\n                  Restore from Backup\r\n                </Button>\r\n              </div>\r\n              <Separator />\r\n              <div>\r\n                <Label className=\"mb-2 block\">Recent Backups</Label>\r\n                <div className=\"space-y-2\">\r\n                  {['backup_2025-11-10_02-00.sql', 'backup_2025-11-09_02-00.sql', 'backup_2025-11-08_02-00.sql'].map((backup, index) => (\r\n                    <div key={index} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <Database className=\"h-4 w-4 text-gray-500\" />\r\n                        <span className=\"text-sm font-medium\">{backup}</span>\r\n                      </div>\r\n                      <div className=\"flex gap-2\">\r\n                        <Button size=\"sm\" variant=\"ghost\">\r\n                          <Download className=\"h-3 w-3\" />\r\n                        </Button>\r\n                        <Button size=\"sm\" variant=\"ghost\">\r\n                          <Upload className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Save Button */}\r\n      <div className=\"flex justify-end sticky bottom-6 z-10\">\r\n        <Button onClick={handleSave} size=\"lg\" disabled={loading} className=\"shadow-lg\">\r\n          {loading ? (\r\n            <>\r\n              <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\r\n              Saving...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Save className=\"h-4 w-4 mr-2\" />\r\n              Save All Settings\r\n            </>\r\n          )}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\UserManagement.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Filter' is defined but never used.","line":7,"column":38,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":44},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchUsers'. Either include it or remove the dependency array.","line":31,"column":6,"nodeType":"ArrayExpression","endLine":31,"endColumn":24,"suggestions":[{"desc":"Update the dependencies array to be: [fetchUsers, page, roleFilter]","fix":{"range":[910,928],"text":"[fetchUsers, page, roleFilter]"}}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":56,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":56,"endColumn":20,"suggestions":[{"fix":{"range":[1603,1649],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":86,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":86,"endColumn":20,"suggestions":[{"fix":{"range":[2362,2399],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Plus, Search, Trash2, Edit, Filter } from 'lucide-react'\r\n\r\ninterface User {\r\n  id: string\r\n  email: string\r\n  firstName: string\r\n  lastName: string\r\n  role: string\r\n  grade?: string | null\r\n  studentId?: string | null\r\n  status: string\r\n  createdAt: string\r\n}\r\n\r\nexport default function UserManagement() {\r\n  const [users, setUsers] = useState<User[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [search, setSearch] = useState('')\r\n  const [roleFilter, setRoleFilter] = useState<string>('')\r\n  const [page, setPage] = useState(1)\r\n  const [totalPages, setTotalPages] = useState(1)\r\n\r\n  useEffect(() => {\r\n    fetchUsers()\r\n  }, [page, roleFilter])\r\n\r\n  const fetchUsers = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const token = localStorage.getItem('accessToken')\r\n      const params = new URLSearchParams({\r\n        page: page.toString(),\r\n        limit: '10',\r\n        ...(roleFilter && { role: roleFilter }),\r\n        ...(search && { search }),\r\n      })\r\n\r\n      const response = await fetch(`/api/admin/users?${params}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      })\r\n\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setUsers(data.users)\r\n        setTotalPages(data.pagination.totalPages)\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch users:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleSearch = () => {\r\n    setPage(1)\r\n    fetchUsers()\r\n  }\r\n\r\n  const handleDelete = async (userId: string) => {\r\n    if (!confirm('Are you sure you want to delete this user?')) return\r\n\r\n    try {\r\n      const token = localStorage.getItem('accessToken')\r\n      const response = await fetch(`/api/admin/users/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      })\r\n\r\n      if (response.ok) {\r\n        fetchUsers()\r\n      } else {\r\n        const data = await response.json()\r\n        alert(data.message || 'Failed to delete user')\r\n      }\r\n    } catch (error) {\r\n      console.error('Delete error:', error)\r\n      alert('Failed to delete user')\r\n    }\r\n  }\r\n\r\n  const getRoleBadgeColor = (role: string) => {\r\n    const colors: Record<string, string> = {\r\n      admin: 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400',\r\n      teacher: 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400',\r\n      student: 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400',\r\n      parent: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400',\r\n    }\r\n    return colors[role] || 'bg-gray-100 text-gray-800'\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <CardTitle>User Management</CardTitle>\r\n              <CardDescription>Manage all users in the system</CardDescription>\r\n            </div>\r\n            <Button className=\"gap-2\">\r\n              <Plus className=\"h-4 w-4\" />\r\n              Add User\r\n            </Button>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {/* Search and Filters */}\r\n          <div className=\"flex gap-4 mb-6\">\r\n            <div className=\"flex-1 flex gap-2\">\r\n              <Input\r\n                placeholder=\"Search by name or email...\"\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                onKeyDown={(e) => e.key === 'Enter' && handleSearch()}\r\n              />\r\n              <Button onClick={handleSearch} variant=\"outline\">\r\n                <Search className=\"h-4 w-4\" />\r\n              </Button>\r\n            </div>\r\n            <select\r\n              value={roleFilter}\r\n              onChange={(e) => {\r\n                setRoleFilter(e.target.value)\r\n                setPage(1)\r\n              }}\r\n              className=\"px-3 py-2 border rounded-md bg-background\"\r\n            >\r\n              <option value=\"\">All Roles</option>\r\n              <option value=\"admin\">Admin</option>\r\n              <option value=\"teacher\">Teacher</option>\r\n              <option value=\"student\">Student</option>\r\n              <option value=\"parent\">Parent</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Users Table */}\r\n          {loading ? (\r\n            <div className=\"text-center py-8\">\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\r\n            </div>\r\n          ) : users.length === 0 ? (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              <p>No users found</p>\r\n              <p className=\"text-sm mt-2\">Try adjusting your filters or create a new user</p>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"border rounded-lg overflow-hidden\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-muted\">\r\n                    <tr>\r\n                      <th className=\"text-left p-3 font-medium\">Name</th>\r\n                      <th className=\"text-left p-3 font-medium\">Email</th>\r\n                      <th className=\"text-left p-3 font-medium\">Role</th>\r\n                      <th className=\"text-left p-3 font-medium\">Status</th>\r\n                      <th className=\"text-left p-3 font-medium\">Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {users.map((user) => (\r\n                      <tr key={user.id} className=\"border-t hover:bg-muted/50\">\r\n                        <td className=\"p-3\">\r\n                          <div>\r\n                            <p className=\"font-medium\">{user.firstName} {user.lastName}</p>\r\n                            {user.studentId && (\r\n                              <p className=\"text-sm text-muted-foreground\">{user.studentId}</p>\r\n                            )}\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"p-3 text-sm\">{user.email}</td>\r\n                        <td className=\"p-3\">\r\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium ${getRoleBadgeColor(user.role)}`}>\r\n                            {user.role}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"p-3\">\r\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium ${user.status === 'active'\r\n                              ? 'bg-green-100 text-green-800 dark:bg-green-900/30'\r\n                              : 'bg-gray-100 text-gray-800 dark:bg-gray-900/30'\r\n                            }`}>\r\n                            {user.status}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"p-3\">\r\n                          <div className=\"flex gap-2\">\r\n                            <Button variant=\"ghost\" size=\"sm\">\r\n                              <Edit className=\"h-4 w-4\" />\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleDelete(user.id)}\r\n                            >\r\n                              <Trash2 className=\"h-4 w-4 text-destructive\" />\r\n                            </Button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              {/* Pagination */}\r\n              {totalPages > 1 && (\r\n                <div className=\"flex justify-center gap-2 mt-4\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    onClick={() => setPage(p => Math.max(1, p - 1))}\r\n                    disabled={page === 1}\r\n                  >\r\n                    Previous\r\n                  </Button>\r\n                  <div className=\"flex items-center gap-2 px-4\">\r\n                    Page {page} of {totalPages}\r\n                  </div>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    onClick={() => setPage(p => Math.min(totalPages, p + 1))}\r\n                    disabled={page === totalPages}\r\n                  >\r\n                    Next\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\shared\\AdminHeader.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronLeft' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\n// AdminHeader Component - Header for admin pages with breadcrumbs\r\nimport { useRouter } from 'next/navigation';\r\nimport { Button } from '@/components/ui/button';\r\nimport { ChevronLeft, Home } from 'lucide-react';\r\n\r\ninterface BreadcrumbItem {\r\n  label: string;\r\n  path?: string;\r\n}\r\n\r\ninterface AdminHeaderProps {\r\n  title: string;\r\n  description?: string;\r\n  breadcrumbs?: BreadcrumbItem[];\r\n  action?: React.ReactNode;\r\n}\r\n\r\nexport function AdminHeader({\r\n  title,\r\n  description,\r\n  breadcrumbs,\r\n  action,\r\n}: AdminHeaderProps) {\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <div className=\"mb-6\">\r\n      {/* Breadcrumbs */}\r\n      {breadcrumbs && breadcrumbs.length > 0 && (\r\n        <div className=\"flex items-center gap-2 text-sm text-gray-500 mb-2\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => router.push('/admin')}\r\n            className=\"h-auto p-0 hover:bg-transparent\"\r\n          >\r\n            <Home className=\"h-4 w-4\" />\r\n          </Button>\r\n          {breadcrumbs.map((item, index) => (\r\n            <div key={index} className=\"flex items-center gap-2\">\r\n              <span>/</span>\r\n              {item.path ? (\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={() => router.push(item.path!)}\r\n                  className=\"h-auto p-0 hover:bg-transparent hover:underline\"\r\n                >\r\n                  {item.label}\r\n                </Button>\r\n              ) : (\r\n                <span className=\"font-medium text-gray-900\">{item.label}</span>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Title and Action */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">{title}</h1>\r\n          {description && (\r\n            <p className=\"text-gray-600 mt-1\">{description}</p>\r\n          )}\r\n        </div>\r\n        {action && <div>{action}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\shared\\ConfirmDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\shared\\DataTable.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DropdownMenu' is defined but never used.","line":21,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DropdownMenuContent' is defined but never used.","line":22,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DropdownMenuItem' is defined but never used.","line":23,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DropdownMenuTrigger' is defined but never used.","line":24,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MoreHorizontal' is defined but never used.","line":33,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":33,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// DataTable Component - Reusable table with sorting, filtering, pagination\r\nimport { useState } from 'react';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu';\r\nimport { Checkbox } from '@/components/ui/checkbox';\r\nimport {\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  ChevronsLeft,\r\n  ChevronsRight,\r\n  Search,\r\n  MoreHorizontal,\r\n  ArrowUpDown,\r\n  ArrowUp,\r\n  ArrowDown,\r\n} from 'lucide-react';\r\n\r\nexport interface Column<T> {\r\n  key: string;\r\n  // allow a string or React node (icons, checkboxes, etc.) in header label\r\n  label: React.ReactNode;\r\n  sortable?: boolean;\r\n  render?: (item: T) => React.ReactNode;\r\n}\r\n\r\nexport interface DataTableProps<T> {\r\n  data: T[];\r\n  columns: Column<T>[];\r\n  searchable?: boolean;\r\n  searchPlaceholder?: string;\r\n  selectable?: boolean;\r\n  onSelectionChange?: (selectedIds: string[]) => void;\r\n  actions?: (item: T) => React.ReactNode;\r\n  itemsPerPage?: number;\r\n  totalItems?: number;\r\n  currentPage?: number;\r\n  onPageChange?: (page: number) => void;\r\n  loading?: boolean;\r\n}\r\n\r\nexport function DataTable<T extends { id: string }>({\r\n  data,\r\n  columns,\r\n  searchable = true,\r\n  searchPlaceholder = 'Search...',\r\n  selectable = false,\r\n  onSelectionChange,\r\n  actions,\r\n  itemsPerPage = 10,\r\n  totalItems,\r\n  currentPage = 1,\r\n  onPageChange,\r\n  loading = false,\r\n}: DataTableProps<T>) {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set());\r\n  const [sortColumn, setSortColumn] = useState<string | null>(null);\r\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\r\n  const [localPage, setLocalPage] = useState(1);\r\n  const [localItemsPerPage, setLocalItemsPerPage] = useState(itemsPerPage);\r\n\r\n  const page = currentPage || localPage;\r\n  const total = totalItems || data.length;\r\n  const totalPages = Math.ceil(total / localItemsPerPage);\r\n\r\n  // Filter data based on search\r\n  const filteredData = searchQuery\r\n    ? data.filter((item) =>\r\n        columns.some((col) => {\r\n          const value = item[col.key as keyof T];\r\n          return value\r\n            ?.toString()\r\n            .toLowerCase()\r\n            .includes(searchQuery.toLowerCase());\r\n        })\r\n      )\r\n    : data;\r\n\r\n  // Sort data\r\n  const sortedData = [...filteredData].sort((a, b) => {\r\n    if (!sortColumn) return 0;\r\n    \r\n    const aValue = a[sortColumn as keyof T];\r\n    const bValue = b[sortColumn as keyof T];\r\n    \r\n    if (aValue === bValue) return 0;\r\n    \r\n    const comparison = aValue > bValue ? 1 : -1;\r\n    return sortDirection === 'asc' ? comparison : -comparison;\r\n  });\r\n\r\n  // Paginate data (only if not server-side pagination)\r\n  const paginatedData = totalItems\r\n    ? sortedData\r\n    : sortedData.slice((page - 1) * localItemsPerPage, page * localItemsPerPage);\r\n\r\n  // Handle selection\r\n  const toggleSelection = (id: string) => {\r\n    const newSelected = new Set(selectedIds);\r\n    if (newSelected.has(id)) {\r\n      newSelected.delete(id);\r\n    } else {\r\n      newSelected.add(id);\r\n    }\r\n    setSelectedIds(newSelected);\r\n    onSelectionChange?.(Array.from(newSelected));\r\n  };\r\n\r\n  const toggleSelectAll = () => {\r\n    if (selectedIds.size === paginatedData.length) {\r\n      setSelectedIds(new Set());\r\n      onSelectionChange?.([]);\r\n    } else {\r\n      const allIds = new Set(paginatedData.map((item) => item.id));\r\n      setSelectedIds(allIds);\r\n      onSelectionChange?.(Array.from(allIds));\r\n    }\r\n  };\r\n\r\n  // Handle sorting\r\n  const handleSort = (column: string) => {\r\n    if (sortColumn === column) {\r\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortColumn(column);\r\n      setSortDirection('asc');\r\n    }\r\n  };\r\n\r\n  // Handle pagination\r\n  const goToPage = (newPage: number) => {\r\n    if (onPageChange) {\r\n      onPageChange(newPage);\r\n    } else {\r\n      setLocalPage(newPage);\r\n    }\r\n  };\r\n\r\n  const SortIcon = ({ column }: { column: string }) => {\r\n    if (sortColumn !== column) return <ArrowUpDown className=\"h-4 w-4 ml-1\" />;\r\n    return sortDirection === 'asc' ? (\r\n      <ArrowUp className=\"h-4 w-4 ml-1\" />\r\n    ) : (\r\n      <ArrowDown className=\"h-4 w-4 ml-1\" />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Search and filters */}\r\n      {searchable && (\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"relative flex-1 max-w-sm\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n            <Input\r\n              placeholder={searchPlaceholder}\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"pl-10\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Table */}\r\n      <div className=\"border rounded-lg\">\r\n        <Table>\r\n          <TableHeader>\r\n            <TableRow>\r\n              {selectable && (\r\n                <TableHead className=\"w-12\">\r\n                  <Checkbox\r\n                    checked={selectedIds.size === paginatedData.length && paginatedData.length > 0}\r\n                    onCheckedChange={toggleSelectAll}\r\n                  />\r\n                </TableHead>\r\n              )}\r\n              {columns.map((column) => (\r\n                <TableHead key={column.key}>\r\n                  {column.sortable ? (\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      onClick={() => handleSort(column.key)}\r\n                      className=\"h-auto p-0 font-semibold hover:bg-transparent\"\r\n                    >\r\n                      {column.label}\r\n                      <SortIcon column={column.key} />\r\n                    </Button>\r\n                  ) : (\r\n                    <span className=\"font-semibold\">{column.label}</span>\r\n                  )}\r\n                </TableHead>\r\n              ))}\r\n              {actions && <TableHead className=\"w-12\">Actions</TableHead>}\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {loading ? (\r\n              <TableRow>\r\n                <TableCell\r\n                  colSpan={columns.length + (selectable ? 1 : 0) + (actions ? 1 : 0)}\r\n                  className=\"text-center py-8 text-gray-500\"\r\n                >\r\n                  Loading...\r\n                </TableCell>\r\n              </TableRow>\r\n            ) : paginatedData.length === 0 ? (\r\n              <TableRow>\r\n                <TableCell\r\n                  colSpan={columns.length + (selectable ? 1 : 0) + (actions ? 1 : 0)}\r\n                  className=\"text-center py-8 text-gray-500\"\r\n                >\r\n                  No data found\r\n                </TableCell>\r\n              </TableRow>\r\n            ) : (\r\n              paginatedData.map((item) => (\r\n                <TableRow key={item.id}>\r\n                  {selectable && (\r\n                    <TableCell>\r\n                      <Checkbox\r\n                        checked={selectedIds.has(item.id)}\r\n                        onCheckedChange={() => toggleSelection(item.id)}\r\n                      />\r\n                    </TableCell>\r\n                  )}\r\n                  {columns.map((column) => (\r\n                    <TableCell key={column.key}>\r\n                      {column.render\r\n                        ? column.render(item)\r\n                        : String(item[column.key as keyof T] || '')}\r\n                    </TableCell>\r\n                  ))}\r\n                  {actions && <TableCell>{actions(item)}</TableCell>}\r\n                </TableRow>\r\n              ))\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n          <span>Rows per page:</span>\r\n          <Select\r\n            value={localItemsPerPage.toString()}\r\n            onValueChange={(value) => setLocalItemsPerPage(Number(value))}\r\n          >\r\n            <SelectTrigger className=\"w-20\">\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"10\">10</SelectItem>\r\n              <SelectItem value=\"25\">25</SelectItem>\r\n              <SelectItem value=\"50\">50</SelectItem>\r\n              <SelectItem value=\"100\">100</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"text-sm text-gray-600\">\r\n            Page {page} of {totalPages} ({total} total)\r\n          </span>\r\n          <div className=\"flex gap-1\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => goToPage(1)}\r\n              disabled={page === 1}\r\n            >\r\n              <ChevronsLeft className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => goToPage(page - 1)}\r\n              disabled={page === 1}\r\n            >\r\n              <ChevronLeft className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => goToPage(page + 1)}\r\n              disabled={page === totalPages}\r\n            >\r\n              <ChevronRight className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => goToPage(totalPages)}\r\n              disabled={page === totalPages}\r\n            >\r\n              <ChevronsRight className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\admin\\shared\\StatsCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\auth\\LoginForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1067,1070],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1067,1070],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { useAuth } from '@/contexts/AuthContext'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\n\r\nexport default function LoginForm() {\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const { login } = useAuth()\r\n    const router = useRouter()\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setError('')\r\n        setLoading(true)\r\n\r\n        try {\r\n            await login(email, password)\r\n            // Redirect based on role will be handled by useEffect in the calling page\r\n            router.push('/dashboard')\r\n        } catch (err: any) {\r\n            setError(err.message || 'Login failed. Please try again.')\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card className=\"w-full max-w-md\">\r\n            <CardHeader>\r\n                <CardTitle className=\"text-2xl\">Welcome Back</CardTitle>\r\n                <CardDescription>\r\n                    Sign in to your Regisbridge account\r\n                </CardDescription>\r\n            </CardHeader>\r\n            <form onSubmit={handleSubmit}>\r\n                <CardContent className=\"space-y-4\">\r\n                    {error && (\r\n                        <div className=\"p-3 text-sm text-destructive bg-destructive/10 border border-destructive/20 rounded-md\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"email\">Email</Label>\r\n                        <Input\r\n                            id=\"email\"\r\n                            type=\"email\"\r\n                            placeholder=\"name@regisbridge.edu\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            required\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"password\">Password</Label>\r\n                        <Input\r\n                            id=\"password\"\r\n                            type=\"password\"\r\n                            placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            required\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                        <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                            <input type=\"checkbox\" className=\"rounded\" />\r\n                            <span>Remember me</span>\r\n                        </label>\r\n                        <Link href=\"/forgot-password\" className=\"text-primary hover:underline\">\r\n                            Forgot password?\r\n                        </Link>\r\n                    </div>\r\n                </CardContent>\r\n\r\n                <CardFooter className=\"flex flex-col space-y-4\">\r\n                    <Button type=\"submit\" className=\"w-full\" disabled={loading}>\r\n                        {loading ? 'Signing in...' : 'Sign In'}\r\n                    </Button>\r\n\r\n                    <p className=\"text-sm text-center text-muted-foreground\">\r\n                        Don't have an account?{' '}\r\n                        <Link href=\"/register\" className=\"text-primary hover:underline\">\r\n                            Sign up\r\n                        </Link>\r\n                    </p>\r\n                </CardFooter>\r\n            </form>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\auth\\ProtectedRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\auth\\RegisterForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'confirmPassword' is assigned a value but never used.","line":55,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":55,"endColumn":36},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":58,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1858,1861],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1858,1861],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { useAuth } from '@/contexts/AuthContext'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\n\r\nexport default function RegisterForm() {\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        role: 'student' as 'admin' | 'teacher' | 'student' | 'parent',\r\n        grade: '',\r\n        studentId: '',\r\n        phoneNumber: '',\r\n    })\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const { register } = useAuth()\r\n    const router = useRouter()\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [e.target.name]: e.target.value\r\n        }))\r\n    }\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setError('')\r\n\r\n        // Validate passwords match\r\n        if (formData.password !== formData.confirmPassword) {\r\n            setError('Passwords do not match')\r\n            return\r\n        }\r\n\r\n        // Validate password strength\r\n        if (formData.password.length < 8) {\r\n            setError('Password must be at least 8 characters long')\r\n            return\r\n        }\r\n\r\n        setLoading(true)\r\n\r\n        try {\r\n            const { confirmPassword, ...registerData } = formData\r\n            await register(registerData)\r\n            router.push('/dashboard')\r\n        } catch (err: any) {\r\n            setError(err.message || 'Registration failed. Please try again.')\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card className=\"w-full max-w-md\">\r\n            <CardHeader>\r\n                <CardTitle className=\"text-2xl\">Create Account</CardTitle>\r\n                <CardDescription>\r\n                    Join Regisbridge School Management System\r\n                </CardDescription>\r\n            </CardHeader>\r\n            <form onSubmit={handleSubmit}>\r\n                <CardContent className=\"space-y-4\">\r\n                    {error && (\r\n                        <div className=\"p-3 text-sm text-destructive bg-destructive/10 border border-destructive/20 rounded-md\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"firstName\">First Name</Label>\r\n                            <Input\r\n                                id=\"firstName\"\r\n                                name=\"firstName\"\r\n                                value={formData.firstName}\r\n                                onChange={handleChange}\r\n                                required\r\n                                disabled={loading}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"lastName\">Last Name</Label>\r\n                            <Input\r\n                                id=\"lastName\"\r\n                                name=\"lastName\"\r\n                                value={formData.lastName}\r\n                                onChange={handleChange}\r\n                                required\r\n                                disabled={loading}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"email\">Email</Label>\r\n                        <Input\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            type=\"email\"\r\n                            placeholder=\"name@regisbridge.edu\"\r\n                            value={formData.email}\r\n                            onChange={handleChange}\r\n                            required\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"role\">Role</Label>\r\n                        <select\r\n                            id=\"role\"\r\n                            name=\"role\"\r\n                            value={formData.role}\r\n                            onChange={handleChange}\r\n                            className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\"\r\n                            disabled={loading}\r\n                        >\r\n                            <option value=\"student\">Student</option>\r\n                            <option value=\"teacher\">Teacher</option>\r\n                            <option value=\"parent\">Parent</option>\r\n                            <option value=\"admin\">Administrator</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    {formData.role === 'student' && (\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <Label htmlFor=\"grade\">Grade</Label>\r\n                                <Input\r\n                                    id=\"grade\"\r\n                                    name=\"grade\"\r\n                                    value={formData.grade}\r\n                                    onChange={handleChange}\r\n                                    disabled={loading}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                <Label htmlFor=\"studentId\">Student ID</Label>\r\n                                <Input\r\n                                    id=\"studentId\"\r\n                                    name=\"studentId\"\r\n                                    value={formData.studentId}\r\n                                    onChange={handleChange}\r\n                                    disabled={loading}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"phoneNumber\">Phone Number (Optional)</Label>\r\n                        <Input\r\n                            id=\"phoneNumber\"\r\n                            name=\"phoneNumber\"\r\n                            type=\"tel\"\r\n                            value={formData.phoneNumber}\r\n                            onChange={handleChange}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"password\">Password</Label>\r\n                        <Input\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            type=\"password\"\r\n                            placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                            value={formData.password}\r\n                            onChange={handleChange}\r\n                            required\r\n                            disabled={loading}\r\n                        />\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            Must be at least 8 characters long\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"confirmPassword\">Confirm Password</Label>\r\n                        <Input\r\n                            id=\"confirmPassword\"\r\n                            name=\"confirmPassword\"\r\n                            type=\"password\"\r\n                            placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                            value={formData.confirmPassword}\r\n                            onChange={handleChange}\r\n                            required\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                </CardContent>\r\n\r\n                <CardFooter className=\"flex flex-col space-y-4\">\r\n                    <Button type=\"submit\" className=\"w-full\" disabled={loading}>\r\n                        {loading ? 'Creating account...' : 'Create Account'}\r\n                    </Button>\r\n\r\n                    <p className=\"text-sm text-center text-muted-foreground\">\r\n                        Already have an account?{' '}\r\n                        <Link href=\"/login\" className=\"text-primary hover:underline\">\r\n                            Sign in\r\n                        </Link>\r\n                    </p>\r\n                </CardFooter>\r\n            </form>\r\n        </Card>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\forms\\LoginForm.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":62,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":62,"endColumn":20,"suggestions":[{"fix":{"range":[1946,1982],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Alert, AlertDescription } from '@/components/ui/alert';\r\nimport { Loader2, Mail, Lock, Eye, EyeOff } from 'lucide-react';\r\n\r\nexport function LoginForm() {\r\n  const router = useRouter();\r\n  const { login, isLoading, error, clearError } = useAuth();\r\n  \r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  \r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [localError, setLocalError] = useState<string | null>(null);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n    \r\n    // Clear errors when user starts typing\r\n    if (error) clearError();\r\n    if (localError) setLocalError(null);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLocalError(null);\r\n\r\n    // Validation\r\n    if (!formData.email || !formData.password) {\r\n      setLocalError('Please fill in all fields');\r\n      return;\r\n    }\r\n\r\n    if (!formData.email.includes('@')) {\r\n      setLocalError('Please enter a valid email address');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const user = await login(formData.email, formData.password);\r\n      // Redirect based on user role\r\n      if (user.role === 'admin' || user.role === 'superadmin') {\r\n        router.push('/admin');\r\n      } else {\r\n        router.push('/portal');\r\n      }\r\n    } catch (err) {\r\n      // Error is handled by AuthContext\r\n      console.error('Login failed:', err);\r\n    }\r\n  };\r\n\r\n  const displayError = error || localError;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 px-4 py-8\">\r\n      <Card className=\"w-full max-w-md\">\r\n        <CardHeader className=\"space-y-1\">\r\n          <CardTitle className=\"text-2xl font-bold text-center\">Welcome Back</CardTitle>\r\n          <CardDescription className=\"text-center\">\r\n            Sign in to access your Regisbridge portal\r\n          </CardDescription>\r\n        </CardHeader>\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n          <CardContent className=\"space-y-4\">\r\n            {displayError && (\r\n              <Alert variant=\"destructive\">\r\n                <AlertDescription>{displayError}</AlertDescription>\r\n              </Alert>\r\n            )}\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"email\">Email</Label>\r\n              <div className=\"relative\">\r\n                <Mail className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  placeholder=\"student@regisbridge.ac.zw\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  disabled={isLoading}\r\n                  className=\"pl-10\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label htmlFor=\"password\">Password</Label>\r\n                <Link \r\n                  href=\"/forgot-password\" \r\n                  className=\"text-sm text-primary hover:underline\"\r\n                  tabIndex={-1}\r\n                >\r\n                  Forgot password?\r\n                </Link>\r\n              </div>\r\n              <div className=\"relative\">\r\n                <Lock className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  placeholder=\"Enter your password\"\r\n                  value={formData.password}\r\n                  onChange={handleChange}\r\n                  disabled={isLoading}\r\n                  className=\"pl-10 pr-10\"\r\n                  autoComplete=\"current-password\"\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute right-3 top-3 text-muted-foreground hover:text-foreground\"\r\n                  tabIndex={-1}\r\n                  aria-label={showPassword ? \"Hide password\" : \"Show password\"}\r\n                >\r\n                  {showPassword ? (\r\n                    <EyeOff className=\"h-4 w-4\" />\r\n                  ) : (\r\n                    <Eye className=\"h-4 w-4\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <Button \r\n              type=\"submit\" \r\n              className=\"w-full\" \r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? (\r\n                <>\r\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                  Signing in...\r\n                </>\r\n              ) : (\r\n                'Sign In'\r\n              )}\r\n            </Button>\r\n          </CardContent>\r\n        </form>\r\n\r\n        <CardFooter className=\"flex flex-col space-y-4\">\r\n          <div className=\"text-sm text-center text-muted-foreground\">\r\n            Don't have an account?{' '}\r\n            <Link href=\"/register\" className=\"text-primary hover:underline font-medium\">\r\n              Register here\r\n            </Link>\r\n          </div>\r\n          \r\n          <div className=\"text-xs text-center text-muted-foreground\">\r\n            By signing in, you agree to our{' '}\r\n            <Link href=\"/terms\" className=\"text-primary hover:underline\">\r\n              Terms of Service\r\n            </Link>{' '}\r\n            and{' '}\r\n            <Link href=\"/privacy\" className=\"text-primary hover:underline\">\r\n              Privacy Policy\r\n            </Link>\r\n          </div>\r\n        </CardFooter>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\forms\\OnlineApplication.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Mail' is defined but never used.","line":2,"column":60,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":64},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Phone' is defined but never used.","line":2,"column":66,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":71},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MapPin' is defined but never used.","line":2,"column":73,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":79}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { Upload, CheckCircle, AlertCircle, FileText, User, Mail, Phone, MapPin } from 'lucide-react';\r\n\r\nexport default function OnlineApplication() {\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [formData, setFormData] = useState({\r\n    // Personal Information\r\n    firstName: '',\r\n    lastName: '',\r\n    dateOfBirth: '',\r\n    gender: '',\r\n    nationality: '',\r\n    address: '',\r\n    phone: '',\r\n    email: '',\r\n\r\n    // Parent/Guardian Information\r\n    parentName: '',\r\n    parentPhone: '',\r\n    parentEmail: '',\r\n    parentOccupation: '',\r\n\r\n    // Academic Information\r\n    currentSchool: '',\r\n    gradeApplying: '',\r\n    previousResults: '',\r\n\r\n    // Documents\r\n    birthCertificate: null,\r\n    schoolReports: null,\r\n    medicalReport: null,\r\n    passportPhoto: null,\r\n  });\r\n\r\n  const [uploadedFiles, setUploadedFiles] = useState({\r\n    birthCertificate: null,\r\n    schoolReports: null,\r\n    medicalReport: null,\r\n    passportPhoto: null,\r\n  });\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [submitSuccess, setSubmitSuccess] = useState(false);\r\n\r\n  const steps = [\r\n    { id: 1, title: 'Personal Info', icon: User },\r\n    { id: 2, title: 'Parent Info', icon: User },\r\n    { id: 3, title: 'Academic Info', icon: FileText },\r\n    { id: 4, title: 'Documents', icon: Upload },\r\n    { id: 5, title: 'Review', icon: CheckCircle },\r\n  ];\r\n\r\n  const handleFileUpload = (field: string, file: File) => {\r\n    setUploadedFiles(prev => ({\r\n      ...prev,\r\n      [field]: file\r\n    }));\r\n  };\r\n\r\n  const handleInputChange = (field: string, value: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const nextStep = () => {\r\n    if (currentStep < steps.length) {\r\n      setCurrentStep(currentStep + 1);\r\n    }\r\n  };\r\n\r\n  const prevStep = () => {\r\n    if (currentStep > 1) {\r\n      setCurrentStep(currentStep - 1);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setIsSubmitting(true);\r\n    // Simulate API submission\r\n    await new Promise(resolve => setTimeout(resolve, 3000));\r\n    setSubmitSuccess(true);\r\n    setIsSubmitting(false);\r\n  };\r\n\r\n  const renderStepContent = () => {\r\n    switch (currentStep) {\r\n      case 1:\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-[#1C1A75] mb-6\">Personal Information</h3>\r\n            <div className=\"grid md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\">First Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  value={formData.firstName}\r\n                  onChange={(e) => handleInputChange('firstName', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\">Last Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  value={formData.lastName}\r\n                  onChange={(e) => handleInputChange('lastName', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\">Date of Birth *</label>\r\n                <input\r\n                  type=\"date\"\r\n                  required\r\n                  value={formData.dateOfBirth}\r\n                  onChange={(e) => handleInputChange('dateOfBirth', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\">Gender *</label>\r\n                <select\r\n                  required\r\n                  value={formData.gender}\r\n                  onChange={(e) => handleInputChange('gender', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                >\r\n                  <option value=\"\">Select Gender</option>\r\n                  <option value=\"male\">Male</option>\r\n                  <option value=\"female\">Female</option>\r\n                  <option value=\"other\">Other</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\">Nationality *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  value={formData.nationality}\r\n                  onChange={(e) => handleInputChange('nationality', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\">Phone Number *</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  required\r\n                  value={formData.phone}\r\n                  onChange={(e) => handleInputChange('phone', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-gray-700 mb-2\">Email Address *</label>\r\n                <input\r\n                  type=\"email\"\r\n                  required\r\n                  value={formData.email}\r\n                  onChange={(e) => handleInputChange('email', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-gray-700 mb-2\">Home Address *</label>\r\n                <textarea\r\n                  required\r\n                  value={formData.address}\r\n                  onChange={(e) => handleInputChange('address', e.target.value)}\r\n                  rows={3}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-[#1C1A75] mb-6\">Parent/Guardian Information</h3>\r\n            <div className=\"grid md:grid-cols-2 gap-4\">\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-gray-700 mb-2\">Full Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  value={formData.parentName}\r\n                  onChange={(e) => handleInputChange('parentName', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\">Phone Number *</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  required\r\n                  value={formData.parentPhone}\r\n                  onChange={(e) => handleInputChange('parentPhone', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\">Email Address *</label>\r\n                <input\r\n                  type=\"email\"\r\n                  required\r\n                  value={formData.parentEmail}\r\n                  onChange={(e) => handleInputChange('parentEmail', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-gray-700 mb-2\">Occupation</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.parentOccupation}\r\n                  onChange={(e) => handleInputChange('parentOccupation', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 3:\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-[#1C1A75] mb-6\">Academic Information</h3>\r\n            <div className=\"grid md:grid-cols-2 gap-4\">\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-gray-700 mb-2\">Current School *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  value={formData.currentSchool}\r\n                  onChange={(e) => handleInputChange('currentSchool', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700 mb-2\">Grade Applying For *</label>\r\n                <select\r\n                  required\r\n                  value={formData.gradeApplying}\r\n                  onChange={(e) => handleInputChange('gradeApplying', e.target.value)}\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                >\r\n                  <option value=\"\">Select Grade</option>\r\n                  <option value=\"1\">Grade 1</option>\r\n                  <option value=\"2\">Grade 2</option>\r\n                  <option value=\"3\">Grade 3</option>\r\n                  <option value=\"4\">Grade 4</option>\r\n                  <option value=\"5\">Grade 5</option>\r\n                  <option value=\"6\">Grade 6</option>\r\n                  <option value=\"7\">Grade 7</option>\r\n                  <option value=\"form1\">Form 1</option>\r\n                  <option value=\"form2\">Form 2</option>\r\n                  <option value=\"form3\">Form 3</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-gray-700 mb-2\">Previous Academic Results</label>\r\n                <textarea\r\n                  value={formData.previousResults}\r\n                  onChange={(e) => handleInputChange('previousResults', e.target.value)}\r\n                  rows={4}\r\n                  placeholder=\"Please provide details of your previous academic performance...\"\r\n                  className=\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1C1A75]\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 4:\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <h3 className=\"text-xl font-bold text-[#1C1A75] mb-6\">Required Documents</h3>\r\n            <div className=\"space-y-4\">\r\n              {[\r\n                { key: 'birthCertificate', label: 'Birth Certificate', required: true },\r\n                { key: 'schoolReports', label: 'School Reports (Last 2 years)', required: true },\r\n                { key: 'medicalReport', label: 'Medical Report', required: false },\r\n                { key: 'passportPhoto', label: 'Passport Size Photo', required: true },\r\n              ].map((doc) => (\r\n                <div key={doc.key} className=\"border-2 border-dashed border-gray-300 rounded-lg p-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <h4 className=\"font-semibold text-[#1C1A75]\">{doc.label}</h4>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        {doc.required ? 'Required' : 'Optional'} â€¢ PDF, JPG, PNG (Max 5MB)\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      {uploadedFiles[doc.key] ? (\r\n                        <div className=\"flex items-center text-green-600\">\r\n                          <CheckCircle size={20} className=\"mr-2\" />\r\n                          <span className=\"text-sm\">Uploaded</span>\r\n                        </div>\r\n                      ) : (\r\n                        <label className=\"cursor-pointer bg-[#1C1A75] text-white px-4 py-2 rounded-lg hover:bg-[#D4AF37] transition-colors\">\r\n                          <Upload size={16} className=\"inline mr-2\" />\r\n                          Upload\r\n                          <input\r\n                            type=\"file\"\r\n                            accept=\".pdf,.jpg,.jpeg,.png\"\r\n                            onChange={(e) => {\r\n                              const file = e.target.files?.[0];\r\n                              if (file) handleFileUpload(doc.key, file);\r\n                            }}\r\n                            className=\"hidden\"\r\n                          />\r\n                        </label>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  {uploadedFiles[doc.key] && (\r\n                    <p className=\"text-sm text-gray-600 mt-2\">\r\n                      File: {uploadedFiles[doc.key].name}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 5:\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <h3 className=\"text-xl font-bold text-[#1C1A75] mb-6\">Review Your Application</h3>\r\n            <div className=\"bg-gray-50 p-6 rounded-lg space-y-4\">\r\n              <div>\r\n                <h4 className=\"font-semibold text-[#1C1A75] mb-2\">Personal Information</h4>\r\n                <p className=\"text-sm text-gray-600\">{formData.firstName} {formData.lastName}</p>\r\n                <p className=\"text-sm text-gray-600\">DOB: {formData.dateOfBirth}</p>\r\n                <p className=\"text-sm text-gray-600\">Email: {formData.email}</p>\r\n              </div>\r\n              <div>\r\n                <h4 className=\"font-semibold text-[#1C1A75] mb-2\">Academic Information</h4>\r\n                <p className=\"text-sm text-gray-600\">Applying for: Grade {formData.gradeApplying}</p>\r\n                <p className=\"text-sm text-gray-600\">Current School: {formData.currentSchool}</p>\r\n              </div>\r\n              <div>\r\n                <h4 className=\"font-semibold text-[#1C1A75] mb-2\">Documents Status</h4>\r\n                <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                  {Object.entries(uploadedFiles).map(([key, file]) => (\r\n                    <div key={key} className=\"flex items-center\">\r\n                      {file ? (\r\n                        <CheckCircle size={16} className=\"text-green-600 mr-2\" />\r\n                      ) : (\r\n                        <AlertCircle size={16} className=\"text-red-600 mr-2\" />\r\n                      )}\r\n                      <span className=\"capitalize\">{key.replace(/([A-Z])/g, ' $1')}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n              <p className=\"text-sm text-yellow-800\">\r\n                By submitting this application, you agree to our terms and conditions.\r\n                Application processing may take 2-4 weeks.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  if (submitSuccess) {\r\n    return (\r\n      <section id=\"application\" className=\"py-16 bg-gray-50\">\r\n        <div className=\"container mx-auto px-4\">\r\n          <div className=\"max-w-2xl mx-auto text-center\">\r\n            <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n              <CheckCircle size={40} className=\"text-green-600\" />\r\n            </div>\r\n            <h2 className=\"text-3xl font-bold text-[#1C1A75] mb-4\">Application Submitted!</h2>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              Thank you for your interest in Regisbridge Private School.\r\n              Your application has been successfully submitted and will be reviewed by our admissions team.\r\n            </p>\r\n            <div className=\"bg-white p-6 rounded-lg shadow-lg\">\r\n              <h3 className=\"font-semibold text-[#1C1A75] mb-4\">What happens next?</h3>\r\n              <div className=\"text-left space-y-2 text-sm text-gray-600\">\r\n                <p>â€¢ Application review: 2-4 weeks</p>\r\n                <p>â€¢ Assessment scheduling: Within 1 week of approval</p>\r\n                <p>â€¢ Interview and testing: 1-2 weeks after assessment</p>\r\n                <p>â€¢ Final decision: Within 1 week of interview</p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={() => window.location.reload()}\r\n              className=\"mt-6 bg-[#1C1A75] text-white px-6 py-3 rounded-lg font-semibold hover:bg-[#D4AF37] transition-colors\"\r\n            >\r\n              Submit Another Application\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section id=\"application\" className=\"py-16 bg-gray-50\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"text-center mb-8\">\r\n            <h2 className=\"text-4xl font-serif font-bold text-[#1C1A75] mb-4\">\r\n              Online Application\r\n            </h2>\r\n            <div className=\"w-24 h-1 bg-[#D4AF37] mx-auto mb-6\"></div>\r\n            <p className=\"text-gray-600 max-w-2xl mx-auto\">\r\n              Join the Regisbridge community. Complete your application online and take the first step towards an exceptional education.\r\n            </p>\r\n          </div>\r\n\r\n          {/* Progress Steps */}\r\n          <div className=\"mb-8\">\r\n            <div className=\"flex justify-between items-center\">\r\n              {steps.map((step, index) => (\r\n                <div key={step.id} className=\"flex items-center\">\r\n                  <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                    step.id <= currentStep ? 'bg-[#D4AF37] text-white' : 'bg-gray-200 text-gray-600'\r\n                  }`}>\r\n                    <step.icon size={18} />\r\n                  </div>\r\n                  <span className={`ml-2 text-sm font-semibold ${\r\n                    step.id <= currentStep ? 'text-[#1C1A75]' : 'text-gray-400'\r\n                  }`}>\r\n                    {step.title}\r\n                  </span>\r\n                  {index < steps.length - 1 && (\r\n                    <div className={`flex-1 h-0.5 mx-4 ${\r\n                      step.id < currentStep ? 'bg-[#D4AF37]' : 'bg-gray-200'\r\n                    }`}></div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Form Content */}\r\n          <div className=\"bg-white rounded-lg shadow-lg p-8\">\r\n            {renderStepContent()}\r\n\r\n            {/* Navigation Buttons */}\r\n            <div className=\"flex justify-between mt-8\">\r\n              <button\r\n                onClick={prevStep}\r\n                disabled={currentStep === 1}\r\n                className=\"px-6 py-3 border border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              >\r\n                Previous\r\n              </button>\r\n\r\n              {currentStep < steps.length ? (\r\n                <button\r\n                  onClick={nextStep}\r\n                  className=\"px-6 py-3 bg-[#1C1A75] text-white rounded-lg font-semibold hover:bg-[#D4AF37] transition-colors\"\r\n                >\r\n                  Next\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={handleSubmit}\r\n                  disabled={isSubmitting}\r\n                  className=\"px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center\"\r\n                >\r\n                  {isSubmitting ? (\r\n                    <>\r\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2\"></div>\r\n                      Submitting...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <CheckCircle size={18} className=\"mr-2\" />\r\n                      Submit Application\r\n                    </>\r\n                  )}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\forms\\RegisterForm.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":98,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":98,"endColumn":20,"suggestions":[{"fix":{"range":[3226,3269],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport type { RegisterData } from '@/services/authService';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Alert, AlertDescription } from '@/components/ui/alert';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Loader2, Mail, Lock, User, Eye, EyeOff, Check, X } from 'lucide-react';\r\n\r\nexport function RegisterForm() {\r\n  const router = useRouter();\r\n  const { register, isLoading, error, clearError } = useAuth();\r\n  \r\n  // Registration form is for students only\r\n  const [formData, setFormData] = useState<RegisterData>({\r\n    email: '',\r\n    password: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    role: 'student', // Fixed as student\r\n    grade: '',\r\n    studentId: '', // Will be auto-generated as application ID\r\n  });\r\n  \r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [localError, setLocalError] = useState<string | null>(null);\r\n\r\n  // Password strength validation\r\n  const passwordRequirements = {\r\n    minLength: formData.password.length >= 8,\r\n    hasUpperCase: /[A-Z]/.test(formData.password),\r\n    hasLowerCase: /[a-z]/.test(formData.password),\r\n    hasNumber: /[0-9]/.test(formData.password),\r\n  };\r\n\r\n  const isPasswordStrong = Object.values(passwordRequirements).every(Boolean);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n    \r\n    // Clear errors when user starts typing\r\n    if (error) clearError();\r\n    if (localError) setLocalError(null);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLocalError(null);\r\n\r\n    // Validation\r\n    if (!formData.email || !formData.password || !formData.firstName || !formData.lastName) {\r\n      setLocalError('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    if (!formData.email.includes('@')) {\r\n      setLocalError('Please enter a valid email address');\r\n      return;\r\n    }\r\n\r\n    if (formData.password.length < 8) {\r\n      setLocalError('Password must be at least 8 characters long');\r\n      return;\r\n    }\r\n\r\n    if (!isPasswordStrong) {\r\n      setLocalError('Password must meet all requirements');\r\n      return;\r\n    }\r\n\r\n    if (formData.password !== confirmPassword) {\r\n      setLocalError('Passwords do not match');\r\n      return;\r\n    }\r\n\r\n    if (!formData.grade) {\r\n      setLocalError('Grade is required');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await register(formData);\r\n      // Registration successful, navigate to portal\r\n      router.push('/portal');\r\n    } catch (err) {\r\n      // Error is handled by AuthContext\r\n      console.error('Registration failed:', err);\r\n    }\r\n  };\r\n\r\n  const displayError = error || localError;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 px-4 py-8\">\r\n      <Card className=\"w-full max-w-2xl\">\r\n        <CardHeader className=\"space-y-1\">\r\n          <CardTitle className=\"text-2xl font-bold text-center\">Student Application</CardTitle>\r\n          <CardDescription className=\"text-center\">\r\n            Apply to join Regisbridge Academy\r\n          </CardDescription>\r\n        </CardHeader>\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n          <CardContent className=\"space-y-4\">\r\n            {displayError && (\r\n              <Alert variant=\"destructive\">\r\n                <AlertDescription>{displayError}</AlertDescription>\r\n              </Alert>\r\n            )}\r\n\r\n            {/* Name Fields */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"firstName\">First Name *</Label>\r\n                <div className=\"relative\">\r\n                  <User className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    id=\"firstName\"\r\n                    name=\"firstName\"\r\n                    type=\"text\"\r\n                    placeholder=\"John\"\r\n                    value={formData.firstName}\r\n                    onChange={handleChange}\r\n                    disabled={isLoading}\r\n                    className=\"pl-10\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"lastName\">Last Name *</Label>\r\n                <div className=\"relative\">\r\n                  <User className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    id=\"lastName\"\r\n                    name=\"lastName\"\r\n                    type=\"text\"\r\n                    placeholder=\"Doe\"\r\n                    value={formData.lastName}\r\n                    onChange={handleChange}\r\n                    disabled={isLoading}\r\n                    className=\"pl-10\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Email */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"email\">Email *</Label>\r\n              <div className=\"relative\">\r\n                <Mail className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  placeholder=\"student@regisbridge.ac.zw\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  disabled={isLoading}\r\n                  className=\"pl-10\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Grade Selection */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"grade\">Grade *</Label>\r\n              <Select\r\n                value={formData.grade}\r\n                onValueChange={(value) => setFormData(prev => ({ ...prev, grade: value }))}\r\n                disabled={isLoading}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select your grade\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"Form 1A\">Form 1A</SelectItem>\r\n                  <SelectItem value=\"Form 1B\">Form 1B</SelectItem>\r\n                  <SelectItem value=\"Form 2A\">Form 2A</SelectItem>\r\n                  <SelectItem value=\"Form 2B\">Form 2B</SelectItem>\r\n                  <SelectItem value=\"Form 3A\">Form 3A</SelectItem>\r\n                  <SelectItem value=\"Form 3B\">Form 3B</SelectItem>\r\n                  <SelectItem value=\"Form 4A\">Form 4A</SelectItem>\r\n                  <SelectItem value=\"Form 4B\">Form 4B</SelectItem>\r\n                  <SelectItem value=\"Lower 6\">Lower 6</SelectItem>\r\n                  <SelectItem value=\"Upper 6\">Upper 6</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                You will receive an application ID upon registration. Your official registration number will be assigned after admission approval.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Password */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"password\">Password *</Label>\r\n              <div className=\"relative\">\r\n                <Lock className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  placeholder=\"Create a strong password\"\r\n                  value={formData.password}\r\n                  onChange={handleChange}\r\n                  disabled={isLoading}\r\n                  className=\"pl-10 pr-10\"\r\n                  autoComplete=\"new-password\"\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute right-3 top-3 text-muted-foreground hover:text-foreground\"\r\n                  tabIndex={-1}\r\n                  aria-label={showPassword ? \"Hide password\" : \"Show password\"}\r\n                >\r\n                  {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                </button>\r\n              </div>\r\n\r\n              {/* Password Requirements */}\r\n              {formData.password && (\r\n                <div className=\"text-xs space-y-1 mt-2\">\r\n                  <div className={`flex items-center gap-2 ${passwordRequirements.minLength ? 'text-green-600' : 'text-muted-foreground'}`}>\r\n                    {passwordRequirements.minLength ? <Check className=\"h-3 w-3\" /> : <X className=\"h-3 w-3\" />}\r\n                    At least 8 characters\r\n                  </div>\r\n                  <div className={`flex items-center gap-2 ${passwordRequirements.hasUpperCase ? 'text-green-600' : 'text-muted-foreground'}`}>\r\n                    {passwordRequirements.hasUpperCase ? <Check className=\"h-3 w-3\" /> : <X className=\"h-3 w-3\" />}\r\n                    One uppercase letter\r\n                  </div>\r\n                  <div className={`flex items-center gap-2 ${passwordRequirements.hasLowerCase ? 'text-green-600' : 'text-muted-foreground'}`}>\r\n                    {passwordRequirements.hasLowerCase ? <Check className=\"h-3 w-3\" /> : <X className=\"h-3 w-3\" />}\r\n                    One lowercase letter\r\n                  </div>\r\n                  <div className={`flex items-center gap-2 ${passwordRequirements.hasNumber ? 'text-green-600' : 'text-muted-foreground'}`}>\r\n                    {passwordRequirements.hasNumber ? <Check className=\"h-3 w-3\" /> : <X className=\"h-3 w-3\" />}\r\n                    One number\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Confirm Password */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"confirmPassword\">Confirm Password *</Label>\r\n              <div className=\"relative\">\r\n                <Lock className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  id=\"confirmPassword\"\r\n                  name=\"confirmPassword\"\r\n                  type={showConfirmPassword ? 'text' : 'password'}\r\n                  placeholder=\"Confirm your password\"\r\n                  value={confirmPassword}\r\n                  onChange={(e) => setConfirmPassword(e.target.value)}\r\n                  disabled={isLoading}\r\n                  className=\"pl-10 pr-10\"\r\n                  autoComplete=\"new-password\"\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                  className=\"absolute right-3 top-3 text-muted-foreground hover:text-foreground\"\r\n                  tabIndex={-1}\r\n                  aria-label={showConfirmPassword ? \"Hide confirm password\" : \"Show confirm password\"}\r\n                >\r\n                  {showConfirmPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                </button>\r\n              </div>\r\n              {confirmPassword && formData.password !== confirmPassword && (\r\n                <p className=\"text-xs text-destructive\">Passwords do not match</p>\r\n              )}\r\n            </div>\r\n\r\n            <Button \r\n              type=\"submit\" \r\n              className=\"w-full\" \r\n              disabled={isLoading || !isPasswordStrong}\r\n            >\r\n              {isLoading ? (\r\n                <>\r\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                  Creating account...\r\n                </>\r\n              ) : (\r\n                'Create Account'\r\n              )}\r\n            </Button>\r\n          </CardContent>\r\n        </form>\r\n\r\n        <CardFooter className=\"flex flex-col space-y-4\">\r\n          <div className=\"text-sm text-center text-muted-foreground\">\r\n            Already have an account?{' '}\r\n            <Link href=\"/login\" className=\"text-primary hover:underline font-medium\">\r\n              Sign in here\r\n            </Link>\r\n          </div>\r\n        </CardFooter>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\forms\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\home\\EventsCalendar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\home\\FAQSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\home\\FeeCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\home\\HeroVideo.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[754,757],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[754,757],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport Image from 'next/image';\r\n\r\ninterface HeroVideoProps {\r\n  videoUrl: string;\r\n  posterImage: string;\r\n  posterAlt: string;\r\n  children: React.ReactNode;\r\n  enabled?: boolean;\r\n}\r\n\r\nexport default function HeroVideo({\r\n  videoUrl,\r\n  posterImage,\r\n  posterAlt,\r\n  children,\r\n  enabled = false,\r\n}: HeroVideoProps) {\r\n  const [isVideoLoaded, setIsVideoLoaded] = useState(false);\r\n  const [shouldPlayVideo, setShouldPlayVideo] = useState(false);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n\r\n  useEffect(() => {\r\n    // Only load video on desktop with good connection\r\n    const mediaQuery = window.matchMedia('(min-width: 768px)');\r\n    const connection = (navigator as any).connection;\r\n    const shouldLoad = enabled && mediaQuery.matches && (!connection || connection.effectiveType === '4g');\r\n    \r\n    setShouldPlayVideo(shouldLoad);\r\n\r\n    if (shouldLoad && videoRef.current) {\r\n      videoRef.current.play().catch(() => {\r\n        // Autoplay failed, fallback to image\r\n        setShouldPlayVideo(false);\r\n      });\r\n    }\r\n  }, [enabled]);\r\n\r\n  return (\r\n    <section aria-label=\"Hero\" className=\"relative w-full\">\r\n      <div className=\"absolute inset-0 z-0\">\r\n        {/* Video Background (Optional) */}\r\n        {shouldPlayVideo && (\r\n          <video\r\n            ref={videoRef}\r\n            className={`absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ${\r\n              isVideoLoaded ? 'opacity-100' : 'opacity-0'\r\n            }`}\r\n            autoPlay\r\n            muted\r\n            loop\r\n            playsInline\r\n            poster={posterImage}\r\n            onLoadedData={() => setIsVideoLoaded(true)}\r\n          >\r\n            <source src={videoUrl} type=\"video/mp4\" />\r\n          </video>\r\n        )}\r\n\r\n        {/* Fallback Image */}\r\n        <Image\r\n          src={posterImage}\r\n          alt={posterAlt}\r\n          fill\r\n          priority\r\n          placeholder=\"blur\"\r\n          blurDataURL=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAIAAoDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=\"\r\n          className={`object-cover ${shouldPlayVideo && isVideoLoaded ? 'opacity-0' : 'opacity-100'} transition-opacity duration-1000`}\r\n          sizes=\"100vw\"\r\n        />\r\n        \r\n        {/* Gradient Overlay */}\r\n        <div className=\"absolute inset-0 bg-gradient-to-b from-black/40 to-black/60\" />\r\n      </div>\r\n\r\n      {/* Hero Content */}\r\n      {children}\r\n    </section>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\home\\NewsCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\home\\NewsCarousel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\home\\NewsletterSignup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\home\\PathwayCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\home\\StatCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\home\\TestimonialCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\home\\VirtualTour.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\layout\\PremiumFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\layout\\PremiumHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\layout\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\optimized\\HomePage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\providers\\QueryProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\providers\\ThemeProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\providers\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\sections\\CardGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\sections\\PageHero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\sections\\Section.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\sections\\StatCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\theme-provider.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_theme' is defined but never used.","line":17,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport * as React from 'react'\r\n\r\n//Dark mode disabled - light mode only\r\n// Stub to prevent import errors\r\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  return <>{children}</>\r\n}\r\n\r\n// Proper hook implementation to prevent errors in components that reference it\r\nexport function useTheme() {\r\n  const [theme] = React.useState('light' as const);\r\n  \r\n  return {\r\n    theme,\r\n    setTheme: (_theme: string) => {},\r\n    themes: ['light'] as const\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\AIInsightsDashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BarChart3' is defined but never used.","line":2,"column":84,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":93},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'PieChart' is defined but never used.","line":2,"column":95,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":103},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'BarChart' is defined but never used.","line":16,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Bar' is defined but never used.","line":17,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":6},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Legend' is defined but never used.","line":25,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":9},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadAIData'. Either include it or remove the dependency array.","line":84,"column":6,"nodeType":"ArrayExpression","endLine":84,"endColumn":55,"suggestions":[{"desc":"Update the dependencies array to be: [userRole, studentId, classId, selectedTimeframe, loadAIData]","fix":{"range":[2519,2568],"text":"[userRole, studentId, classId, selectedTimeframe, loadAIData]"}}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":204,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":204,"endColumn":20,"suggestions":[{"fix":{"range":[6571,6618],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Brain, TrendingUp, TrendingDown, AlertTriangle, CheckCircle, Target, Zap, BarChart3, PieChart, Activity, Users } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  AreaChart,\r\n  Area,\r\n  BarChart,\r\n  Bar,\r\n  PieChart as RechartsPieChart,\r\n  Pie,\r\n  Cell,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  ScatterChart,\r\n  Scatter\r\n} from 'recharts';\r\n\r\ninterface StudentInsight {\r\n  studentId: string;\r\n  studentName: string;\r\n  riskLevel: 'low' | 'medium' | 'high';\r\n  predictedGrade: string;\r\n  confidence: number;\r\n  strengths: string[];\r\n  weaknesses: string[];\r\n  recommendations: string[];\r\n  engagementScore: number;\r\n  lastAssessment: Date;\r\n}\r\n\r\ninterface ClassAnalytics {\r\n  classId: string;\r\n  className: string;\r\n  averagePerformance: number;\r\n  attendanceRate: number;\r\n  engagementTrend: 'up' | 'down' | 'stable';\r\n  atRiskStudents: number;\r\n  topPerformers: number;\r\n  improvementAreas: string[];\r\n}\r\n\r\ninterface AIPrediction {\r\n  type: 'grade' | 'engagement' | 'risk' | 'recommendation';\r\n  prediction: string;\r\n  confidence: number;\r\n  timeframe: string;\r\n  actionable: boolean;\r\n}\r\n\r\ninterface AIInsightsDashboardProps {\r\n  userRole?: 'student' | 'parent' | 'teacher' | 'admin';\r\n  studentId?: string;\r\n  classId?: string;\r\n}\r\n\r\nexport function AIInsightsDashboard({\r\n  userRole = 'teacher',\r\n  studentId,\r\n  classId\r\n}: AIInsightsDashboardProps) {\r\n  const [insights, setInsights] = useState<StudentInsight[]>([]);\r\n  const [classAnalytics, setClassAnalytics] = useState<ClassAnalytics[]>([]);\r\n  const [predictions, setPredictions] = useState<AIPrediction[]>([]);\r\n  const [selectedTimeframe, setSelectedTimeframe] = useState('30days');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const { toast } = useToast();\r\n\r\n  useEffect(() => {\r\n    loadAIData();\r\n  }, [userRole, studentId, classId, selectedTimeframe]);\r\n\r\n  const loadAIData = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Simulate AI processing delay\r\n      await new Promise(resolve => setTimeout(resolve, 1500));\r\n\r\n      // Mock AI-generated insights\r\n      const mockInsights: StudentInsight[] = [\r\n        {\r\n          studentId: '1',\r\n          studentName: 'John Smith',\r\n          riskLevel: 'low',\r\n          predictedGrade: 'A-',\r\n          confidence: 87,\r\n          strengths: ['Mathematics', 'Problem Solving', 'Critical Thinking'],\r\n          weaknesses: ['Reading Comprehension', 'Time Management'],\r\n          recommendations: [\r\n            'Focus on reading comprehension exercises',\r\n            'Practice time management techniques',\r\n            'Continue strong performance in mathematics'\r\n          ],\r\n          engagementScore: 85,\r\n          lastAssessment: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),\r\n        },\r\n        {\r\n          studentId: '2',\r\n          studentName: 'Mary Johnson',\r\n          riskLevel: 'medium',\r\n          predictedGrade: 'B',\r\n          confidence: 72,\r\n          strengths: ['Creative Writing', 'Art', 'Social Studies'],\r\n          weaknesses: ['Mathematics', 'Science', 'Test Anxiety'],\r\n          recommendations: [\r\n            'Additional support in mathematics',\r\n            'Stress management techniques',\r\n            'Peer tutoring for science concepts'\r\n          ],\r\n          engagementScore: 68,\r\n          lastAssessment: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),\r\n        },\r\n        {\r\n          studentId: '3',\r\n          studentName: 'David Brown',\r\n          riskLevel: 'high',\r\n          predictedGrade: 'C+',\r\n          confidence: 91,\r\n          strengths: ['Physical Education', 'Team Sports'],\r\n          weaknesses: ['Academic Subjects', 'Study Skills', 'Attendance'],\r\n          recommendations: [\r\n            'Immediate intervention required',\r\n            'Study skills training program',\r\n            'Attendance monitoring and support',\r\n            'Parental involvement increase'\r\n          ],\r\n          engagementScore: 45,\r\n          lastAssessment: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),\r\n        }\r\n      ];\r\n\r\n      const mockClassAnalytics: ClassAnalytics[] = [\r\n        {\r\n          classId: 'grade-7',\r\n          className: 'Grade 7',\r\n          averagePerformance: 78,\r\n          attendanceRate: 94,\r\n          engagementTrend: 'up',\r\n          atRiskStudents: 3,\r\n          topPerformers: 8,\r\n          improvementAreas: ['Mathematics', 'Reading Comprehension'],\r\n        },\r\n        {\r\n          classId: 'grade-6',\r\n          className: 'Grade 6',\r\n          averagePerformance: 82,\r\n          attendanceRate: 96,\r\n          engagementTrend: 'stable',\r\n          atRiskStudents: 1,\r\n          topPerformers: 12,\r\n          improvementAreas: ['Science Projects'],\r\n        }\r\n      ];\r\n\r\n      const mockPredictions: AIPrediction[] = [\r\n        {\r\n          type: 'grade',\r\n          prediction: 'Overall class performance expected to improve by 8% next term',\r\n          confidence: 85,\r\n          timeframe: '3 months',\r\n          actionable: true,\r\n        },\r\n        {\r\n          type: 'engagement',\r\n          prediction: 'Student engagement will increase with new interactive learning methods',\r\n          confidence: 78,\r\n          timeframe: '6 weeks',\r\n          actionable: true,\r\n        },\r\n        {\r\n          type: 'risk',\r\n          prediction: '3 students identified as at-risk for academic challenges',\r\n          confidence: 92,\r\n          timeframe: 'immediate',\r\n          actionable: true,\r\n        },\r\n        {\r\n          type: 'recommendation',\r\n          prediction: 'Implement peer tutoring program for better outcomes',\r\n          confidence: 88,\r\n          timeframe: 'next month',\r\n          actionable: true,\r\n        }\r\n      ];\r\n\r\n      setInsights(mockInsights);\r\n      setClassAnalytics(mockClassAnalytics);\r\n      setPredictions(mockPredictions);\r\n\r\n    } catch (error) {\r\n      console.error('Error loading AI data:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load AI insights.\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const getRiskColor = (risk: string) => {\r\n    switch (risk) {\r\n      case 'low': return 'bg-green-100 text-green-800';\r\n      case 'medium': return 'bg-yellow-100 text-yellow-800';\r\n      case 'high': return 'bg-red-100 text-red-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getTrendIcon = (trend: string) => {\r\n    switch (trend) {\r\n      case 'up': return <TrendingUp className=\"h-4 w-4 text-green-500\" />;\r\n      case 'down': return <TrendingDown className=\"h-4 w-4 text-red-500\" />;\r\n      default: return <Activity className=\"h-4 w-4 text-gray-500\" />;\r\n    }\r\n  };\r\n\r\n  // Prepare chart data\r\n  const performanceData = insights.map(insight => ({\r\n    name: insight.studentName.split(' ')[0],\r\n    performance: insight.engagementScore,\r\n    predicted: parseFloat(insight.predictedGrade.charAt(0)) * 20 + 60, // Convert grade to percentage\r\n    risk: insight.riskLevel === 'high' ? 3 : insight.riskLevel === 'medium' ? 2 : 1,\r\n  }));\r\n\r\n  const riskDistribution = [\r\n    { name: 'Low Risk', value: insights.filter(i => i.riskLevel === 'low').length, color: '#10B981' },\r\n    { name: 'Medium Risk', value: insights.filter(i => i.riskLevel === 'medium').length, color: '#F59E0B' },\r\n    { name: 'High Risk', value: insights.filter(i => i.riskLevel === 'high').length, color: '#EF4444' },\r\n  ];\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1C1A75]\"></div>\r\n        <span className=\"ml-2\">Analyzing data with AI...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-[#1C1A75] flex items-center gap-2\">\r\n            <Brain className=\"h-6 w-6\" />\r\n            AI Insights Dashboard\r\n          </h2>\r\n          <p className=\"text-gray-600\">Machine learning-powered analytics and predictions</p>\r\n        </div>\r\n        <div className=\"flex items-center gap-4\">\r\n          <Select value={selectedTimeframe} onValueChange={setSelectedTimeframe}>\r\n            <SelectTrigger className=\"w-32\">\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"7days\">7 Days</SelectItem>\r\n              <SelectItem value=\"30days\">30 Days</SelectItem>\r\n              <SelectItem value=\"90days\">90 Days</SelectItem>\r\n              <SelectItem value=\"1year\">1 Year</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n          <Button className=\"bg-[#1C1A75] hover:bg-[#1C1A75]/90\">\r\n            <Zap className=\"mr-2 h-4 w-4\" />\r\n            Run Analysis\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* AI Predictions Alert */}\r\n      <div className=\"grid gap-4 md:grid-cols-2\">\r\n        {predictions.slice(0, 2).map((prediction, index) => (\r\n          <Alert key={index} className={`${\r\n            prediction.type === 'risk' ? 'border-red-200 bg-red-50' :\r\n            prediction.type === 'recommendation' ? 'border-blue-200 bg-blue-50' :\r\n            'border-green-200 bg-green-50'\r\n          }`}>\r\n            <Target className=\"h-4 w-4\" />\r\n            <AlertTitle>AI Prediction</AlertTitle>\r\n            <AlertDescription>\r\n              <p className=\"font-medium\">{prediction.prediction}</p>\r\n              <div className=\"flex items-center gap-2 mt-2\">\r\n                <Badge variant=\"outline\">{prediction.confidence}% confidence</Badge>\r\n                <span className=\"text-sm text-gray-600\">â€¢ {prediction.timeframe}</span>\r\n              </div>\r\n            </AlertDescription>\r\n          </Alert>\r\n        ))}\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n        <TabsList className=\"grid w-full grid-cols-4\">\r\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n          <TabsTrigger value=\"students\">Student Insights</TabsTrigger>\r\n          <TabsTrigger value=\"analytics\">Analytics</TabsTrigger>\r\n          <TabsTrigger value=\"predictions\">Predictions</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"overview\" className=\"space-y-4\">\r\n          <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">Students Analyzed</CardTitle>\r\n                <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold\">{insights.length}</div>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  AI-powered insights generated\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">At-Risk Students</CardTitle>\r\n                <AlertTriangle className=\"h-4 w-4 text-muted-foreground\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-red-600\">\r\n                  {insights.filter(i => i.riskLevel === 'high').length}\r\n                </div>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Require immediate attention\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">Avg Engagement</CardTitle>\r\n                <Activity className=\"h-4 w-4 text-muted-foreground\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold\">\r\n                  {Math.round(insights.reduce((acc, i) => acc + i.engagementScore, 0) / insights.length)}%\r\n                </div>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Student engagement score\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">AI Accuracy</CardTitle>\r\n                <CheckCircle className=\"h-4 w-4 text-muted-foreground\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-green-600\">94%</div>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Prediction accuracy rate\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          <div className=\"grid gap-6 md:grid-cols-2\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Performance vs Engagement</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ResponsiveContainer width=\"100%\" height={300}>\r\n                  <ScatterChart data={performanceData}>\r\n                    <CartesianGrid />\r\n                    <XAxis dataKey=\"performance\" name=\"Engagement\" />\r\n                    <YAxis dataKey=\"predicted\" name=\"Predicted Grade %\" />\r\n                    <Tooltip cursor={{ strokeDasharray: '3 3' }} />\r\n                    <Scatter name=\"Students\" dataKey=\"predicted\" fill=\"#1C1A75\" />\r\n                  </ScatterChart>\r\n                </ResponsiveContainer>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Risk Level Distribution</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ResponsiveContainer width=\"100%\" height={300}>\r\n                  <RechartsPieChart>\r\n                    <Pie\r\n                      data={riskDistribution}\r\n                      cx=\"50%\"\r\n                      cy=\"50%\"\r\n                      outerRadius={80}\r\n                      fill=\"#8884d8\"\r\n                      dataKey=\"value\"\r\n                      label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\r\n                    >\r\n                      {riskDistribution.map((entry, index) => (\r\n                        <Cell key={`cell-${index}`} fill={entry.color} />\r\n                      ))}\r\n                    </Pie>\r\n                    <Tooltip />\r\n                  </RechartsPieChart>\r\n                </ResponsiveContainer>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"students\" className=\"space-y-4\">\r\n          <div className=\"grid gap-4\">\r\n            {insights.map((insight) => (\r\n              <Card key={insight.studentId}>\r\n                <CardHeader>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"w-10 h-10 bg-[#1C1A75] rounded-full flex items-center justify-center text-white font-bold\">\r\n                        {insight.studentName.charAt(0)}\r\n                      </div>\r\n                      <div>\r\n                        <CardTitle className=\"text-lg\">{insight.studentName}</CardTitle>\r\n                        <CardDescription>\r\n                          Last assessment: {insight.lastAssessment.toLocaleDateString()}\r\n                        </CardDescription>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Badge className={getRiskColor(insight.riskLevel)}>\r\n                        {insight.riskLevel.toUpperCase()} RISK\r\n                      </Badge>\r\n                      <Badge variant=\"outline\">\r\n                        Predicted: {insight.predictedGrade}\r\n                      </Badge>\r\n                    </div>\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"grid gap-4 md:grid-cols-2\">\r\n                    <div>\r\n                      <h4 className=\"font-medium mb-2 flex items-center gap-2\">\r\n                        <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n                        Strengths\r\n                      </h4>\r\n                      <div className=\"flex flex-wrap gap-1\">\r\n                        {insight.strengths.map((strength, index) => (\r\n                          <Badge key={index} variant=\"secondary\" className=\"text-xs\">\r\n                            {strength}\r\n                          </Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <h4 className=\"font-medium mb-2 flex items-center gap-2\">\r\n                        <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\r\n                        Areas for Improvement\r\n                      </h4>\r\n                      <div className=\"flex flex-wrap gap-1\">\r\n                        {insight.weaknesses.map((weakness, index) => (\r\n                          <Badge key={index} variant=\"outline\" className=\"text-xs\">\r\n                            {weakness}\r\n                          </Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mt-4\">\r\n                    <h4 className=\"font-medium mb-2\">AI Recommendations</h4>\r\n                    <div className=\"space-y-2\">\r\n                      {insight.recommendations.map((rec, index) => (\r\n                        <div key={index} className=\"flex items-start gap-2\">\r\n                          <Target className=\"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0\" />\r\n                          <p className=\"text-sm\">{rec}</p>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mt-4 pt-4 border-t\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"text-sm font-medium\">Engagement Score</p>\r\n                        <p className=\"text-xs text-gray-600\">Based on participation and activity</p>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <p className=\"text-lg font-bold\">{insight.engagementScore}%</p>\r\n                        <Progress value={insight.engagementScore} className=\"w-20 h-2\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"analytics\" className=\"space-y-4\">\r\n          <div className=\"grid gap-6 md:grid-cols-2\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Student Performance Trends</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ResponsiveContainer width=\"100%\" height={300}>\r\n                  <LineChart data={performanceData}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" />\r\n                    <XAxis dataKey=\"name\" />\r\n                    <YAxis domain={[0, 100]} />\r\n                    <Tooltip />\r\n                    <Line type=\"monotone\" dataKey=\"performance\" stroke=\"#1C1A75\" strokeWidth={2} />\r\n                    <Line type=\"monotone\" dataKey=\"predicted\" stroke=\"#D4AF37\" strokeWidth={2} strokeDasharray=\"5 5\" />\r\n                  </LineChart>\r\n                </ResponsiveContainer>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Engagement vs Performance</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ResponsiveContainer width=\"100%\" height={300}>\r\n                  <AreaChart data={performanceData}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" />\r\n                    <XAxis dataKey=\"name\" />\r\n                    <YAxis domain={[0, 100]} />\r\n                    <Tooltip />\r\n                    <Area type=\"monotone\" dataKey=\"performance\" stackId=\"1\" stroke=\"#1C1A75\" fill=\"#1C1A75\" />\r\n                    <Area type=\"monotone\" dataKey=\"predicted\" stackId=\"2\" stroke=\"#D4AF37\" fill=\"#D4AF37\" />\r\n                  </AreaChart>\r\n                </ResponsiveContainer>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Class Performance Analytics</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"grid gap-4 md:grid-cols-3\">\r\n                {classAnalytics.map((analytics) => (\r\n                  <div key={analytics.classId} className=\"p-4 border rounded-lg\">\r\n                    <h3 className=\"font-medium mb-2\">{analytics.className}</h3>\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-sm\">Avg Performance</span>\r\n                        <span className=\"font-medium\">{analytics.averagePerformance}%</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-sm\">Attendance</span>\r\n                        <span className=\"font-medium\">{analytics.attendanceRate}%</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-sm\">At-Risk Students</span>\r\n                        <span className=\"font-medium text-red-600\">{analytics.atRiskStudents}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2 mt-2\">\r\n                        {getTrendIcon(analytics.engagementTrend)}\r\n                        <span className=\"text-sm capitalize\">{analytics.engagementTrend} trend</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"predictions\" className=\"space-y-4\">\r\n          <div className=\"grid gap-4\">\r\n            {predictions.map((prediction, index) => (\r\n              <Card key={index}>\r\n                <CardHeader>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                      {prediction.type === 'risk' && <AlertTriangle className=\"h-5 w-5 text-red-500\" />}\r\n                      {prediction.type === 'grade' && <TrendingUp className=\"h-5 w-5 text-green-500\" />}\r\n                      {prediction.type === 'engagement' && <Activity className=\"h-5 w-5 text-blue-500\" />}\r\n                      {prediction.type === 'recommendation' && <Target className=\"h-5 w-5 text-purple-500\" />}\r\n                      {prediction.type.charAt(0).toUpperCase() + prediction.type.slice(1)} Prediction\r\n                    </CardTitle>\r\n                    <Badge variant={prediction.confidence > 80 ? \"default\" : \"secondary\"}>\r\n                      {prediction.confidence}% confidence\r\n                    </Badge>\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-sm mb-3\">{prediction.prediction}</p>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Badge variant=\"outline\">{prediction.timeframe}</Badge>\r\n                      {prediction.actionable && (\r\n                        <Badge className=\"bg-green-100 text-green-800\">Actionable</Badge>\r\n                      )}\r\n                    </div>\r\n                    <Button size=\"sm\" variant=\"outline\">\r\n                      View Details\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\AssignmentSubmission.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FileText' is defined but never used.","line":2,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Badge' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'studentName' is defined but never used.","line":33,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":33,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":173,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":173,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useRef } from 'react';\r\nimport { Upload, FileText, X, CheckCircle, AlertCircle, Loader2 } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport lmsService from '@/services/lmsService';\r\n\r\ninterface AssignmentSubmissionProps {\r\n  assignmentId: string;\r\n  assignmentTitle: string;\r\n  studentId: string;\r\n  studentName: string;\r\n  onSubmissionComplete?: () => void;\r\n  onClose?: () => void;\r\n}\r\n\r\ninterface UploadedFile {\r\n  id: string;\r\n  name: string;\r\n  size: number;\r\n  type: string;\r\n  uploadProgress: number;\r\n  status: 'uploading' | 'completed' | 'error';\r\n  file: File;\r\n}\r\n\r\nexport function AssignmentSubmission({\r\n  assignmentId,\r\n  assignmentTitle,\r\n  studentId,\r\n  studentName,\r\n  onSubmissionComplete,\r\n  onClose\r\n}: AssignmentSubmissionProps) {\r\n  const [uploadedFiles, setUploadedFiles] = useState<UploadedFile[]>([]);\r\n  const [isDragOver, setIsDragOver] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [submissionNotes, setSubmissionNotes] = useState('');\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const { toast } = useToast();\r\n\r\n  const allowedFileTypes = [\r\n    'application/pdf',\r\n    'application/msword',\r\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n    'text/plain',\r\n    'image/jpeg',\r\n    'image/png',\r\n    'image/gif',\r\n    'application/zip',\r\n    'application/x-rar-compressed'\r\n  ];\r\n\r\n  const maxFileSize = 10 * 1024 * 1024; // 10MB\r\n\r\n  const formatFileSize = (bytes: number): string => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const validateFile = (file: File): string | null => {\r\n    if (!allowedFileTypes.includes(file.type)) {\r\n      return `File type ${file.type} is not allowed. Please upload PDF, Word documents, text files, or images.`;\r\n    }\r\n\r\n    if (file.size > maxFileSize) {\r\n      return `File size ${formatFileSize(file.size)} exceeds the maximum limit of ${formatFileSize(maxFileSize)}.`;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const handleFileSelect = (files: FileList | null) => {\r\n    if (!files) return;\r\n\r\n    const newFiles: UploadedFile[] = [];\r\n\r\n    for (let i = 0; i < files.length; i++) {\r\n      const file = files[i];\r\n      const validationError = validateFile(file);\r\n\r\n      if (validationError) {\r\n        toast({\r\n          title: \"Invalid File\",\r\n          description: validationError,\r\n          variant: \"destructive\",\r\n        });\r\n        continue;\r\n      }\r\n\r\n      const uploadedFile: UploadedFile = {\r\n        id: Date.now().toString() + Math.random(),\r\n        name: file.name,\r\n        size: file.size,\r\n        type: file.type,\r\n        uploadProgress: 0,\r\n        status: 'uploading',\r\n        file,\r\n      };\r\n\r\n      newFiles.push(uploadedFile);\r\n\r\n      // Simulate upload progress\r\n      simulateUpload(uploadedFile.id);\r\n    }\r\n\r\n    setUploadedFiles(prev => [...prev, ...newFiles]);\r\n  };\r\n\r\n  const simulateUpload = (fileId: string) => {\r\n    let progress = 0;\r\n    const interval = setInterval(() => {\r\n      progress += Math.random() * 30;\r\n      if (progress >= 100) {\r\n        progress = 100;\r\n        clearInterval(interval);\r\n\r\n        setUploadedFiles(prev =>\r\n          prev.map(f =>\r\n            f.id === fileId\r\n              ? { ...f, uploadProgress: 100, status: 'completed' as const }\r\n              : f\r\n          )\r\n        );\r\n      } else {\r\n        setUploadedFiles(prev =>\r\n          prev.map(f =>\r\n            f.id === fileId\r\n              ? { ...f, uploadProgress: progress }\r\n              : f\r\n          )\r\n        );\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  const removeFile = (fileId: string) => {\r\n    setUploadedFiles(prev => prev.filter(f => f.id !== fileId));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const completedFiles = uploadedFiles.filter(f => f.status === 'completed');\r\n\r\n    if (completedFiles.length === 0) {\r\n      toast({\r\n        title: \"No Files to Submit\",\r\n        description: \"Please upload and wait for files to finish uploading before submitting.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      // Submit each file\r\n      for (const file of completedFiles) {\r\n        await lmsService.submitAssignment(assignmentId, file.file, studentId);\r\n      }\r\n\r\n      toast({\r\n        title: \"Assignment Submitted\",\r\n        description: `Successfully submitted ${completedFiles.length} file(s) for \"${assignmentTitle}\".`,\r\n      });\r\n\r\n      onSubmissionComplete?.();\r\n      onClose?.();\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Submission Failed\",\r\n        description: \"Failed to submit assignment. Please try again.\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(true);\r\n  };\r\n\r\n  const handleDragLeave = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(false);\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(false);\r\n    handleFileSelect(e.dataTransfer.files);\r\n  };\r\n\r\n  const getFileIcon = (fileType: string) => {\r\n    if (fileType.startsWith('image/')) return 'ðŸ–¼ï¸';\r\n    if (fileType === 'application/pdf') return 'ðŸ“„';\r\n    if (fileType.includes('word')) return 'ðŸ“';\r\n    if (fileType === 'text/plain') return 'ðŸ“ƒ';\r\n    if (fileType.includes('zip') || fileType.includes('rar')) return 'ðŸ“¦';\r\n    return 'ðŸ“„';\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"text-center\">\r\n        <h2 className=\"text-2xl font-bold text-[#1C1A75] mb-2\">Submit Assignment</h2>\r\n        <p className=\"text-gray-600\">\r\n          Upload your completed assignment for <strong>{assignmentTitle}</strong>\r\n        </p>\r\n      </div>\r\n\r\n      {/* File Upload Area */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Upload className=\"h-5 w-5\" />\r\n            Upload Files\r\n          </CardTitle>\r\n          <CardDescription>\r\n            Drag and drop files here or click to browse. Maximum file size: 10MB per file.\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div\r\n            className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\r\n              isDragOver\r\n                ? 'border-[#1C1A75] bg-blue-50'\r\n                : 'border-gray-300 hover:border-gray-400'\r\n            }`}\r\n            onDragOver={handleDragOver}\r\n            onDragLeave={handleDragLeave}\r\n            onDrop={handleDrop}\r\n          >\r\n            <Upload className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n            <p className=\"text-lg font-medium text-gray-900 mb-2\">\r\n              Drop files here or click to browse\r\n            </p>\r\n            <p className=\"text-sm text-gray-600 mb-4\">\r\n              Supported formats: PDF, Word, Text, Images, ZIP\r\n            </p>\r\n            <Button\r\n              onClick={() => fileInputRef.current?.click()}\r\n              className=\"bg-[#1C1A75] hover:bg-[#1C1A75]/90\"\r\n            >\r\n              Choose Files\r\n            </Button>\r\n            <input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              multiple\r\n              accept=\".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.zip,.rar\"\r\n              onChange={(e) => handleFileSelect(e.target.files)}\r\n              className=\"hidden\"\r\n            />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Uploaded Files */}\r\n      {uploadedFiles.length > 0 && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Uploaded Files</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-3\">\r\n              {uploadedFiles.map((file) => (\r\n                <div key={file.id} className=\"flex items-center gap-3 p-3 border rounded-lg\">\r\n                  <div className=\"text-2xl\">{getFileIcon(file.type)}</div>\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"font-medium text-sm\">{file.name}</p>\r\n                    <p className=\"text-xs text-gray-600\">{formatFileSize(file.size)}</p>\r\n                    {file.status === 'uploading' && (\r\n                      <div className=\"mt-2\">\r\n                        <Progress value={file.uploadProgress} className=\"h-1\" />\r\n                        <p className=\"text-xs text-gray-500 mt-1\">\r\n                          Uploading... {Math.round(file.uploadProgress)}%\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {file.status === 'completed' && (\r\n                      <CheckCircle className=\"h-5 w-5 text-green-500\" />\r\n                    )}\r\n                    {file.status === 'error' && (\r\n                      <AlertCircle className=\"h-5 w-5 text-red-500\" />\r\n                    )}\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"ghost\"\r\n                      onClick={() => removeFile(file.id)}\r\n                      className=\"text-red-600 hover:text-red-700\"\r\n                    >\r\n                      <X className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Submission Notes */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Additional Notes (Optional)</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <textarea\r\n            value={submissionNotes}\r\n            onChange={(e) => setSubmissionNotes(e.target.value)}\r\n            placeholder=\"Add any notes or comments about your submission...\"\r\n            className=\"w-full p-3 border rounded-lg resize-none\"\r\n            rows={4}\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"flex gap-3 justify-end\">\r\n        <Button variant=\"outline\" onClick={onClose}>\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={handleSubmit}\r\n          disabled={uploadedFiles.filter(f => f.status === 'completed').length === 0 || isSubmitting}\r\n          className=\"bg-[#1C1A75] hover:bg-[#1C1A75]/90\"\r\n        >\r\n          {isSubmitting ? (\r\n            <>\r\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n              Submitting...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <CheckCircle className=\"mr-2 h-4 w-4\" />\r\n              Submit Assignment\r\n            </>\r\n          )}\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Submission Guidelines */}\r\n      <Card className=\"bg-blue-50 border-blue-200\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-blue-900\">Submission Guidelines</CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"text-blue-800\">\r\n          <ul className=\"space-y-2 text-sm\">\r\n            <li>â€¢ Ensure all files are properly named and organized</li>\r\n            <li>â€¢ Check that your work is complete before submitting</li>\r\n            <li>â€¢ You can submit multiple files if needed</li>\r\n            <li>â€¢ Supported formats: PDF, Word documents, text files, images</li>\r\n            <li>â€¢ Maximum file size: 10MB per file</li>\r\n            <li>â€¢ You cannot modify your submission after it's submitted</li>\r\n          </ul>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\ChatWidget.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Paperclip' is defined but never used.","line":4,"column":56,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":65},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userName' is assigned a value but never used.","line":33,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":33,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userAvatar' is defined but never used.","line":34,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":34,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { MessageCircle, Send, X, Minimize2, Maximize2, Paperclip } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport socketService from '@/services/socket';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\ninterface Message {\r\n  id: string;\r\n  userId: string;\r\n  userName: string;\r\n  userAvatar?: string;\r\n  message: string;\r\n  timestamp: Date;\r\n  messageType: 'text' | 'image' | 'file';\r\n}\r\n\r\ninterface ChatWidgetProps {\r\n  userId?: string;\r\n  userName?: string;\r\n  userAvatar?: string;\r\n  roomId?: string;\r\n}\r\n\r\nexport function ChatWidget({\r\n  userId = 'anonymous',\r\n  userName = 'Anonymous User',\r\n  userAvatar,\r\n  roomId = 'general'\r\n}: ChatWidgetProps) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isMinimized, setIsMinimized] = useState(false);\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [onlineUsers, setOnlineUsers] = useState<string[]>([]);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const typingTimeoutRef = useRef<NodeJS.Timeout>();\r\n  const { toast } = useToast();\r\n\r\n  useEffect(() => {\r\n    if (isOpen && !isMinimized) {\r\n      // Connect to socket when chat is opened\r\n      socketService.connect(userId);\r\n\r\n      // Join the general room\r\n      socketService.joinRoom(roomId);\r\n\r\n      // Set up event listeners\r\n      socketService.onMessage((data) => {\r\n        const message: Message = {\r\n          id: data.id || Date.now().toString(),\r\n          userId: data.userId,\r\n          userName: data.userName,\r\n          userAvatar: data.userAvatar,\r\n          message: data.message,\r\n          timestamp: new Date(data.timestamp),\r\n          messageType: data.messageType || 'text',\r\n        };\r\n        setMessages(prev => [...prev, message]);\r\n      });\r\n\r\n      socketService.onUserJoined((data) => {\r\n        setOnlineUsers(prev => [...prev, data.userId]);\r\n        toast({\r\n          title: \"User joined\",\r\n          description: `${data.userName} joined the chat`,\r\n        });\r\n      });\r\n\r\n      socketService.onUserLeft((data) => {\r\n        setOnlineUsers(prev => prev.filter(id => id !== data.userId));\r\n      });\r\n\r\n      socketService.onTyping((data) => {\r\n        if (data.userId !== userId) {\r\n          setIsTyping(true);\r\n        }\r\n      });\r\n\r\n      socketService.onStopTyping(() => {\r\n        setIsTyping(false);\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      if (!isOpen) {\r\n        socketService.disconnect();\r\n      }\r\n    };\r\n  }, [isOpen, isMinimized, userId, roomId, toast]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const handleSendMessage = () => {\r\n    if (newMessage.trim()) {\r\n      socketService.sendMessage(roomId, newMessage.trim());\r\n      setNewMessage('');\r\n\r\n      // Stop typing indicator\r\n      socketService.stopTyping(roomId);\r\n      if (typingTimeoutRef.current) {\r\n        clearTimeout(typingTimeoutRef.current);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setNewMessage(e.target.value);\r\n\r\n    // Handle typing indicator\r\n    socketService.startTyping(roomId);\r\n\r\n    // Clear previous timeout\r\n    if (typingTimeoutRef.current) {\r\n      clearTimeout(typingTimeoutRef.current);\r\n    }\r\n\r\n    // Set new timeout to stop typing\r\n    typingTimeoutRef.current = setTimeout(() => {\r\n      socketService.stopTyping(roomId);\r\n    }, 1000);\r\n  };\r\n\r\n  const formatTime = (date: Date) => {\r\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  if (!isOpen) {\r\n    return (\r\n      <div className=\"fixed bottom-4 right-4 z-50\">\r\n        <Button\r\n          onClick={() => setIsOpen(true)}\r\n          className=\"rounded-full w-14 h-14 bg-[#1C1A75] hover:bg-[#1C1A75]/90 shadow-lg\"\r\n          size=\"lg\"\r\n        >\r\n          <MessageCircle className=\"h-6 w-6\" />\r\n        </Button>\r\n        {onlineUsers.length > 0 && (\r\n          <Badge className=\"absolute -top-2 -right-2 bg-green-500 text-white\">\r\n            {onlineUsers.length}\r\n          </Badge>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed bottom-4 right-4 z-50\">\r\n      <Card className={`w-80 ${isMinimized ? 'h-14' : 'h-96'} shadow-xl border-2 border-[#D4AF37]`}>\r\n        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n          <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n            <MessageCircle className=\"h-4 w-4\" />\r\n            School Chat\r\n            {onlineUsers.length > 0 && (\r\n              <Badge variant=\"secondary\" className=\"text-xs\">\r\n                {onlineUsers.length} online\r\n              </Badge>\r\n            )}\r\n          </CardTitle>\r\n          <div className=\"flex items-center gap-1\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => setIsMinimized(!isMinimized)}\r\n              className=\"h-6 w-6 p-0\"\r\n            >\r\n              {isMinimized ? <Maximize2 className=\"h-3 w-3\" /> : <Minimize2 className=\"h-3 w-3\" />}\r\n            </Button>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => setIsOpen(false)}\r\n              className=\"h-6 w-6 p-0\"\r\n            >\r\n              <X className=\"h-3 w-3\" />\r\n            </Button>\r\n          </div>\r\n        </CardHeader>\r\n\r\n        {!isMinimized && (\r\n          <CardContent className=\"flex flex-col h-full p-0\">\r\n            <ScrollArea className=\"flex-1 p-4\">\r\n              <div className=\"space-y-3\">\r\n                {messages.length === 0 ? (\r\n                  <div className=\"text-center text-gray-500 text-sm py-4\">\r\n                    No messages yet. Start the conversation!\r\n                  </div>\r\n                ) : (\r\n                  messages.map((message) => (\r\n                    <div\r\n                      key={message.id}\r\n                      className={`flex gap-2 ${message.userId === userId ? 'justify-end' : 'justify-start'}`}\r\n                    >\r\n                      {message.userId !== userId && (\r\n                        <Avatar className=\"w-6 h-6\">\r\n                          <AvatarImage src={message.userAvatar} />\r\n                          <AvatarFallback className=\"text-xs\">\r\n                            {message.userName.charAt(0).toUpperCase()}\r\n                          </AvatarFallback>\r\n                        </Avatar>\r\n                      )}\r\n                      <div\r\n                        className={`max-w-[70%] rounded-lg px-3 py-2 text-sm ${\r\n                          message.userId === userId\r\n                            ? 'bg-[#1C1A75] text-white'\r\n                            : 'bg-gray-100 text-gray-900'\r\n                        }`}\r\n                      >\r\n                        {message.userId !== userId && (\r\n                          <div className=\"font-medium text-xs mb-1\">\r\n                            {message.userName}\r\n                          </div>\r\n                        )}\r\n                        <div>{message.message}</div>\r\n                        <div className={`text-xs mt-1 ${\r\n                          message.userId === userId ? 'text-blue-100' : 'text-gray-500'\r\n                        }`}>\r\n                          {formatTime(message.timestamp)}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n                {isTyping && (\r\n                  <div className=\"flex gap-2 justify-start\">\r\n                    <Avatar className=\"w-6 h-6\">\r\n                      <AvatarFallback className=\"text-xs\">?</AvatarFallback>\r\n                    </Avatar>\r\n                    <div className=\"bg-gray-100 rounded-lg px-3 py-2\">\r\n                      <div className=\"flex space-x-1\">\r\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\r\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n            </ScrollArea>\r\n\r\n            <div className=\"border-t p-3\">\r\n              <div className=\"flex gap-2\">\r\n                <Input\r\n                  value={newMessage}\r\n                  onChange={handleInputChange}\r\n                  onKeyPress={handleKeyPress}\r\n                  placeholder=\"Type a message...\"\r\n                  className=\"flex-1 text-sm\"\r\n                />\r\n                <Button\r\n                  onClick={handleSendMessage}\r\n                  disabled={!newMessage.trim()}\r\n                  size=\"sm\"\r\n                  className=\"bg-[#1C1A75] hover:bg-[#1C1A75]/90\"\r\n                >\r\n                  <Send className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\DropdownMenu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\EmailCampaignManager.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Users' is defined but never used.","line":2,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'emailService' is defined but never used.","line":12,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":186,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":186,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Mail, Send, Users, Calendar, Eye, Trash2, Plus } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport emailService from '@/services/emailService';\r\nimport { format } from 'date-fns';\r\n\r\ninterface EmailCampaign {\r\n  id: string;\r\n  name: string;\r\n  subject: string;\r\n  content: string;\r\n  recipientGroups: string[];\r\n  status: 'draft' | 'scheduled' | 'sending' | 'sent' | 'failed';\r\n  scheduledDate?: Date;\r\n  sentDate?: Date;\r\n  recipientCount: number;\r\n  openRate?: number;\r\n  clickRate?: number;\r\n}\r\n\r\ninterface EmailCampaignManagerProps {\r\n  userRole?: 'admin' | 'teacher';\r\n}\r\n\r\nexport function EmailCampaignManager({ userRole = 'admin' }: EmailCampaignManagerProps) {\r\n  const [campaigns, setCampaigns] = useState<EmailCampaign[]>([]);\r\n  const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false);\r\n  const [selectedCampaign, setSelectedCampaign] = useState<EmailCampaign | null>(null);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    subject: '',\r\n    content: '',\r\n    recipientGroups: [] as string[],\r\n    scheduledDate: '',\r\n  });\r\n  const { toast } = useToast();\r\n\r\n  // Mock data for demonstration\r\n  useEffect(() => {\r\n    const mockCampaigns: EmailCampaign[] = [\r\n      {\r\n        id: '1',\r\n        name: 'Welcome to Regisbridge',\r\n        subject: 'Welcome to Our School Community',\r\n        content: 'Welcome message content...',\r\n        recipientGroups: ['new-parents', 'students'],\r\n        status: 'sent',\r\n        sentDate: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),\r\n        recipientCount: 45,\r\n        openRate: 78,\r\n        clickRate: 23,\r\n      },\r\n      {\r\n        id: '2',\r\n        name: 'Term 2 Opening',\r\n        subject: 'Exciting Start to Term 2',\r\n        content: 'Term opening announcement...',\r\n        recipientGroups: ['all-parents', 'all-students'],\r\n        status: 'scheduled',\r\n        scheduledDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000),\r\n        recipientCount: 120,\r\n      },\r\n      {\r\n        id: '3',\r\n        name: 'Sports Day Reminder',\r\n        subject: 'Sports Day This Friday!',\r\n        content: 'Sports day reminder content...',\r\n        recipientGroups: ['all-parents', 'all-students'],\r\n        status: 'draft',\r\n        recipientCount: 120,\r\n      }\r\n    ];\r\n    setCampaigns(mockCampaigns);\r\n  }, []);\r\n\r\n  const recipientGroupOptions = [\r\n    { value: 'all-parents', label: 'All Parents' },\r\n    { value: 'all-students', label: 'All Students' },\r\n    { value: 'new-parents', label: 'New Parents' },\r\n    { value: 'grade-1', label: 'Grade 1 Parents' },\r\n    { value: 'grade-2', label: 'Grade 2 Parents' },\r\n    { value: 'grade-3', label: 'Grade 3 Parents' },\r\n    { value: 'grade-4', label: 'Grade 4 Parents' },\r\n    { value: 'grade-5', label: 'Grade 5 Parents' },\r\n    { value: 'grade-6', label: 'Grade 6 Parents' },\r\n    { value: 'grade-7', label: 'Grade 7 Parents' },\r\n    { value: 'boarding-parents', label: 'Boarding Students\\' Parents' },\r\n  ];\r\n\r\n  const handleCreateCampaign = () => {\r\n    if (!formData.name || !formData.subject || !formData.content || formData.recipientGroups.length === 0) {\r\n      toast({\r\n        title: \"Missing Information\",\r\n        description: \"Please fill in all required fields.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    const newCampaign: EmailCampaign = {\r\n      id: Date.now().toString(),\r\n      name: formData.name,\r\n      subject: formData.subject,\r\n      content: formData.content,\r\n      recipientGroups: formData.recipientGroups,\r\n      status: formData.scheduledDate ? 'scheduled' : 'draft',\r\n      scheduledDate: formData.scheduledDate ? new Date(formData.scheduledDate) : undefined,\r\n      recipientCount: calculateRecipientCount(formData.recipientGroups),\r\n    };\r\n\r\n    setCampaigns(prev => [...prev, newCampaign]);\r\n    setIsCreateDialogOpen(false);\r\n\r\n    // Reset form\r\n    setFormData({\r\n      name: '',\r\n      subject: '',\r\n      content: '',\r\n      recipientGroups: [],\r\n      scheduledDate: '',\r\n    });\r\n\r\n    toast({\r\n      title: \"Campaign Created\",\r\n      description: `Email campaign \"${newCampaign.name}\" has been created.`,\r\n    });\r\n  };\r\n\r\n  const calculateRecipientCount = (groups: string[]): number => {\r\n    // Mock calculation - in real implementation, this would query the database\r\n    const groupSizes: { [key: string]: number } = {\r\n      'all-parents': 80,\r\n      'all-students': 120,\r\n      'new-parents': 15,\r\n      'grade-1': 12,\r\n      'grade-2': 15,\r\n      'grade-3': 18,\r\n      'grade-4': 20,\r\n      'grade-5': 22,\r\n      'grade-6': 18,\r\n      'grade-7': 15,\r\n      'boarding-parents': 25,\r\n    };\r\n\r\n    return groups.reduce((total, group) => total + (groupSizes[group] || 0), 0);\r\n  };\r\n\r\n  const handleSendCampaign = async (campaignId: string) => {\r\n    const campaign = campaigns.find(c => c.id === campaignId);\r\n    if (!campaign) return;\r\n\r\n    // Update status to sending\r\n    setCampaigns(prev =>\r\n      prev.map(c =>\r\n        c.id === campaignId\r\n          ? { ...c, status: 'sending' as const }\r\n          : c\r\n      )\r\n    );\r\n\r\n    try {\r\n      // Mock sending - in real implementation, this would send to all recipients\r\n      await new Promise(resolve => setTimeout(resolve, 2000)); // Simulate API call\r\n\r\n      // Update status to sent\r\n      setCampaigns(prev =>\r\n        prev.map(c =>\r\n          c.id === campaignId\r\n            ? { ...c, status: 'sent' as const, sentDate: new Date() }\r\n            : c\r\n        )\r\n      );\r\n\r\n      toast({\r\n        title: \"Campaign Sent\",\r\n        description: `Email campaign \"${campaign.name}\" has been sent to ${campaign.recipientCount} recipients.`,\r\n      });\r\n    } catch (error) {\r\n      setCampaigns(prev =>\r\n        prev.map(c =>\r\n          c.id === campaignId\r\n            ? { ...c, status: 'failed' as const }\r\n            : c\r\n        )\r\n      );\r\n\r\n      toast({\r\n        title: \"Campaign Failed\",\r\n        description: \"Failed to send email campaign. Please try again.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDeleteCampaign = (campaignId: string) => {\r\n    setCampaigns(prev => prev.filter(c => c.id !== campaignId));\r\n    toast({\r\n      title: \"Campaign Deleted\",\r\n      description: \"Email campaign has been deleted.\",\r\n    });\r\n  };\r\n\r\n  const getStatusColor = (status: EmailCampaign['status']) => {\r\n    switch (status) {\r\n      case 'draft': return 'bg-gray-100 text-gray-800';\r\n      case 'scheduled': return 'bg-blue-100 text-blue-800';\r\n      case 'sending': return 'bg-yellow-100 text-yellow-800';\r\n      case 'sent': return 'bg-green-100 text-green-800';\r\n      case 'failed': return 'bg-red-100 text-red-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: EmailCampaign['status']) => {\r\n    switch (status) {\r\n      case 'sent': return <Send className=\"h-3 w-3\" />;\r\n      case 'scheduled': return <Calendar className=\"h-3 w-3\" />;\r\n      default: return <Mail className=\"h-3 w-3\" />;\r\n    }\r\n  };\r\n\r\n  if (userRole !== 'admin') {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"text-center py-8\">\r\n          <Mail className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Access Restricted</h3>\r\n          <p className=\"text-gray-600\">Only administrators can manage email campaigns.</p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-[#1C1A75]\">Email Campaigns</h2>\r\n          <p className=\"text-gray-600\">Create and manage automated email campaigns</p>\r\n        </div>\r\n        <Dialog open={isCreateDialogOpen} onOpenChange={setIsCreateDialogOpen}>\r\n          <DialogTrigger asChild>\r\n            <Button className=\"bg-[#1C1A75] hover:bg-[#1C1A75]/90\">\r\n              <Plus className=\"mr-2 h-4 w-4\" />\r\n              Create Campaign\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\r\n            <DialogHeader>\r\n              <DialogTitle>Create Email Campaign</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"campaignName\">Campaign Name</Label>\r\n                <Input\r\n                  id=\"campaignName\"\r\n                  value={formData.name}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\r\n                  placeholder=\"Enter campaign name\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"subject\">Email Subject</Label>\r\n                <Input\r\n                  id=\"subject\"\r\n                  value={formData.subject}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, subject: e.target.value }))}\r\n                  placeholder=\"Enter email subject\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"content\">Email Content</Label>\r\n                <Textarea\r\n                  id=\"content\"\r\n                  value={formData.content}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, content: e.target.value }))}\r\n                  placeholder=\"Enter email content (HTML supported)\"\r\n                  rows={8}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label>Recipient Groups</Label>\r\n                <Select\r\n                  value=\"\"\r\n                  onValueChange={(value) => {\r\n                    if (!formData.recipientGroups.includes(value)) {\r\n                      setFormData(prev => ({\r\n                        ...prev,\r\n                        recipientGroups: [...prev.recipientGroups, value]\r\n                      }));\r\n                    }\r\n                  }}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select recipient groups\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {recipientGroupOptions.map((group) => (\r\n                      <SelectItem key={group.value} value={group.value}>\r\n                        {group.label}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n                <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                  {formData.recipientGroups.map((group) => {\r\n                    const groupLabel = recipientGroupOptions.find(g => g.value === group)?.label;\r\n                    return (\r\n                      <Badge key={group} variant=\"secondary\">\r\n                        {groupLabel}\r\n                        <button\r\n                          onClick={() => setFormData(prev => ({\r\n                            ...prev,\r\n                            recipientGroups: prev.recipientGroups.filter(g => g !== group)\r\n                          }))}\r\n                          className=\"ml-1 text-xs hover:text-red-600\"\r\n                        >\r\n                          Ã—\r\n                        </button>\r\n                      </Badge>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"scheduledDate\">Schedule Date (Optional)</Label>\r\n                <Input\r\n                  id=\"scheduledDate\"\r\n                  type=\"datetime-local\"\r\n                  value={formData.scheduledDate}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, scheduledDate: e.target.value }))}\r\n                />\r\n              </div>\r\n              <Button onClick={handleCreateCampaign} className=\"w-full bg-[#1C1A75] hover:bg-[#1C1A75]/90\">\r\n                Create Campaign\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"grid gap-4\">\r\n        {campaigns.map((campaign) => (\r\n          <Card key={campaign.id}>\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Mail className=\"h-5 w-5 text-[#1C1A75]\" />\r\n                    <div>\r\n                      <CardTitle className=\"text-lg\">{campaign.name}</CardTitle>\r\n                      <CardDescription>{campaign.subject}</CardDescription>\r\n                    </div>\r\n                  </div>\r\n                  <Badge className={getStatusColor(campaign.status)}>\r\n                    {getStatusIcon(campaign.status)}\r\n                    <span className=\"ml-1 capitalize\">{campaign.status}</span>\r\n                  </Badge>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  {campaign.status === 'draft' && (\r\n                    <Button\r\n                      size=\"sm\"\r\n                      onClick={() => handleSendCampaign(campaign.id)}\r\n                      className=\"bg-[#1C1A75] hover:bg-[#1C1A75]/90\"\r\n                    >\r\n                      <Send className=\"mr-1 h-3 w-3\" />\r\n                      Send Now\r\n                    </Button>\r\n                  )}\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    onClick={() => setSelectedCampaign(campaign)}\r\n                  >\r\n                    <Eye className=\"mr-1 h-3 w-3\" />\r\n                    View\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    onClick={() => handleDeleteCampaign(campaign.id)}\r\n                    className=\"text-red-600 border-red-600 hover:bg-red-50\"\r\n                  >\r\n                    <Trash2 className=\"mr-1 h-3 w-3\" />\r\n                    Delete\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\r\n                <div>\r\n                  <p><strong>Recipients:</strong> {campaign.recipientCount}</p>\r\n                  <p><strong>Groups:</strong> {campaign.recipientGroups.join(', ')}</p>\r\n                </div>\r\n                <div>\r\n                  {campaign.sentDate && (\r\n                    <p><strong>Sent:</strong> {format(campaign.sentDate, 'MMM d, yyyy HH:mm')}</p>\r\n                  )}\r\n                  {campaign.scheduledDate && (\r\n                    <p><strong>Scheduled:</strong> {format(campaign.scheduledDate, 'MMM d, yyyy HH:mm')}</p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  {campaign.openRate !== undefined && (\r\n                    <p><strong>Open Rate:</strong> {campaign.openRate}%</p>\r\n                  )}\r\n                  {campaign.clickRate !== undefined && (\r\n                    <p><strong>Click Rate:</strong> {campaign.clickRate}%</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n\r\n        {campaigns.length === 0 && (\r\n          <Card>\r\n            <CardContent className=\"text-center py-8\">\r\n              <Mail className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No campaigns yet</h3>\r\n              <p className=\"text-gray-600\">Create your first email campaign to get started.</p>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n\r\n      {/* Campaign Preview Dialog */}\r\n      {selectedCampaign && (\r\n        <Dialog open={!!selectedCampaign} onOpenChange={() => setSelectedCampaign(null)}>\r\n          <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\">\r\n            <DialogHeader>\r\n              <DialogTitle>{selectedCampaign.name}</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label>Subject</Label>\r\n                <p className=\"text-sm text-gray-600\">{selectedCampaign.subject}</p>\r\n              </div>\r\n              <div>\r\n                <Label>Content Preview</Label>\r\n                <div className=\"border rounded-lg p-4 max-h-96 overflow-y-auto bg-gray-50\">\r\n                  <div dangerouslySetInnerHTML={{ __html: selectedCampaign.content }} />\r\n                </div>\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                <div>\r\n                  <p><strong>Recipients:</strong> {selectedCampaign.recipientCount}</p>\r\n                  <p><strong>Status:</strong> <span className=\"capitalize\">{selectedCampaign.status}</span></p>\r\n                </div>\r\n                <div>\r\n                  <p><strong>Groups:</strong> {selectedCampaign.recipientGroups.join(', ')}</p>\r\n                  {selectedCampaign.sentDate && (\r\n                    <p><strong>Sent:</strong> {format(selectedCampaign.sentDate, 'MMM d, yyyy HH:mm')}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      )}\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\GradeBook.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Filter' is defined but never used.","line":3,"column":70,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":76},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Eye' is defined but never used.","line":3,"column":88,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":91},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardDescription' is defined but never used.","line":5,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":44},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Dialog' is defined but never used.","line":10,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DialogContent' is defined but never used.","line":10,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DialogHeader' is defined but never used.","line":10,"column":33,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":45},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DialogTitle' is defined but never used.","line":10,"column":47,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":58},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DialogTrigger' is defined but never used.","line":10,"column":60,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":73},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AreaChart' is defined but never used.","line":17,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Area' is defined but never used.","line":18,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":7},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Legend' is defined but never used.","line":28,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userRole' is assigned a value but never used.","line":88,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":88,"endColumn":11},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadGradeData'. Either include it or remove the dependency array.","line":101,"column":6,"nodeType":"ArrayExpression","endLine":101,"endColumn":31,"suggestions":[{"desc":"Update the dependencies array to be: [studentId, selectedTerm, loadGradeData]","fix":{"range":[2717,2742],"text":"[studentId, selectedTerm, loadGradeData]"}}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":118,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":118,"endColumn":20,"suggestions":[{"fix":{"range":[3280,3330],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { logger } from '@/lib/logger';\r\nimport { TrendingUp, TrendingDown, Award, BookOpen, Users, Calendar, Filter, Download, Eye } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport lmsService from '@/services/lmsService';\r\nimport { format } from 'date-fns';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  AreaChart,\r\n  Area,\r\n  BarChart,\r\n  Bar,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer\r\n} from 'recharts';\r\n\r\ninterface GradeData {\r\n  studentId: string;\r\n  studentName: string;\r\n  term: string;\r\n  overallGrade: string;\r\n  overallPercentage: number;\r\n  gpa: number;\r\n  classRank: number;\r\n  totalStudents: number;\r\n  subjects: SubjectGrade[];\r\n  attendance: {\r\n    present: number;\r\n    absent: number;\r\n    late: number;\r\n    percentage: number;\r\n  };\r\n}\r\n\r\ninterface SubjectGrade {\r\n  name: string;\r\n  grade: string;\r\n  percentage: number;\r\n  rank: number;\r\n  totalStudents: number;\r\n  assignments: AssignmentGrade[];\r\n  tests: TestGrade[];\r\n  trend: 'up' | 'down' | 'stable';\r\n}\r\n\r\ninterface AssignmentGrade {\r\n  id: string;\r\n  title: string;\r\n  score: number;\r\n  maxScore: number;\r\n  percentage: number;\r\n  date: Date;\r\n  category: 'homework' | 'quiz' | 'project' | 'exam';\r\n}\r\n\r\ninterface TestGrade {\r\n  id: string;\r\n  title: string;\r\n  score: number;\r\n  maxScore: number;\r\n  percentage: number;\r\n  date: Date;\r\n  weight: number;\r\n}\r\n\r\ninterface GradeBookProps {\r\n  userRole?: 'student' | 'parent' | 'teacher' | 'admin';\r\n  studentId?: string;\r\n  studentName?: string;\r\n}\r\n\r\nexport function GradeBook({\r\n  userRole = 'student',\r\n  studentId = 'student-123',\r\n  studentName = 'John Smith'\r\n}: GradeBookProps) {\r\n  const [gradeData, setGradeData] = useState<GradeData | null>(null);\r\n  const [selectedSubject, setSelectedSubject] = useState<string>('');\r\n  const [selectedTerm, setSelectedTerm] = useState<string>('Term 2 2024');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const { toast } = useToast();\r\n\r\n  useEffect(() => {\r\n    loadGradeData();\r\n  }, [studentId, selectedTerm]);\r\n\r\n  const loadGradeData = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const result = await lmsService.getGrades(studentId);\r\n      if (result.success) {\r\n        setGradeData(result.data);\r\n      }\r\n\r\n      // Also load progress data for analytics\r\n      const progressResult = await lmsService.getStudentProgress(studentId);\r\n      if (progressResult.success) {\r\n        // Combine grade and progress data for comprehensive analytics\r\n        logger.debug('Progress data loaded');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading grade data:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load grade book data.\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Mock comprehensive grade data for demonstration\r\n  useEffect(() => {\r\n    if (!gradeData) {\r\n      const mockData: GradeData = {\r\n        studentId,\r\n        studentName,\r\n        term: selectedTerm,\r\n        overallGrade: 'A-',\r\n        overallPercentage: 87.5,\r\n        gpa: 3.7,\r\n        classRank: 3,\r\n        totalStudents: 25,\r\n        subjects: [\r\n          {\r\n            name: 'Mathematics',\r\n            grade: 'A',\r\n            percentage: 92,\r\n            rank: 3,\r\n            totalStudents: 25,\r\n            trend: 'up',\r\n            assignments: [\r\n              { id: '1', title: 'Chapter 5 Homework', score: 18, maxScore: 20, percentage: 90, date: new Date(Date.now() - 14 * 24 * 60 * 60 * 1000), category: 'homework' },\r\n              { id: '2', title: 'Algebra Quiz', score: 45, maxScore: 50, percentage: 90, date: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000), category: 'quiz' },\r\n              { id: '3', title: 'Mid-term Exam', score: 88, maxScore: 100, percentage: 88, date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000), category: 'exam' },\r\n            ],\r\n            tests: [\r\n              { id: '1', title: 'Unit Test 1', score: 85, maxScore: 100, percentage: 85, date: new Date(Date.now() - 21 * 24 * 60 * 60 * 1000), weight: 0.3 },\r\n              { id: '2', title: 'Unit Test 2', score: 92, maxScore: 100, percentage: 92, date: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000), weight: 0.3 },\r\n            ]\r\n          },\r\n          {\r\n            name: 'English',\r\n            grade: 'B+',\r\n            percentage: 87,\r\n            rank: 5,\r\n            totalStudents: 25,\r\n            trend: 'stable',\r\n            assignments: [\r\n              { id: '4', title: 'Essay Writing', score: 16, maxScore: 20, percentage: 80, date: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000), category: 'project' },\r\n              { id: '5', title: 'Reading Comprehension', score: 22, maxScore: 25, percentage: 88, date: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000), category: 'quiz' },\r\n            ],\r\n            tests: [\r\n              { id: '3', title: 'Literature Exam', score: 78, maxScore: 100, percentage: 78, date: new Date(Date.now() - 14 * 24 * 60 * 60 * 1000), weight: 0.4 },\r\n            ]\r\n          },\r\n          {\r\n            name: 'Science',\r\n            grade: 'A-',\r\n            percentage: 89,\r\n            rank: 4,\r\n            totalStudents: 25,\r\n            trend: 'up',\r\n            assignments: [\r\n              { id: '6', title: 'Lab Report', score: 19, maxScore: 20, percentage: 95, date: new Date(Date.now() - 12 * 24 * 60 * 60 * 1000), category: 'project' },\r\n              { id: '7', title: 'Science Quiz', score: 23, maxScore: 25, percentage: 92, date: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000), category: 'quiz' },\r\n            ],\r\n            tests: [\r\n              { id: '4', title: 'Science Mid-term', score: 82, maxScore: 100, percentage: 82, date: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000), weight: 0.35 },\r\n            ]\r\n          }\r\n        ],\r\n        attendance: {\r\n          present: 45,\r\n          absent: 2,\r\n          late: 1,\r\n          percentage: 94\r\n        }\r\n      };\r\n      setGradeData(mockData);\r\n    }\r\n  }, [studentId, studentName, selectedTerm, gradeData]);\r\n\r\n  const getGradeColor = (grade: string) => {\r\n    if (grade.startsWith('A')) return 'text-green-600 bg-green-100';\r\n    if (grade.startsWith('B')) return 'text-blue-600 bg-blue-100';\r\n    if (grade.startsWith('C')) return 'text-yellow-600 bg-yellow-100';\r\n    if (grade.startsWith('D')) return 'text-orange-600 bg-orange-100';\r\n    return 'text-red-600 bg-red-100';\r\n  };\r\n\r\n  const getTrendIcon = (trend: string) => {\r\n    switch (trend) {\r\n      case 'up': return <TrendingUp className=\"h-4 w-4 text-green-500\" />;\r\n      case 'down': return <TrendingDown className=\"h-4 w-4 text-red-500\" />;\r\n      default: return <div className=\"h-4 w-4\" />;\r\n    }\r\n  };\r\n\r\n  // Prepare chart data\r\n  const performanceData = gradeData?.subjects.map(subject => ({\r\n    subject: subject.name,\r\n    percentage: subject.percentage,\r\n    grade: subject.grade,\r\n  })) || [];\r\n\r\n  const attendanceData = [\r\n    { name: 'Present', value: gradeData?.attendance.present || 0, color: '#10B981' },\r\n    { name: 'Absent', value: gradeData?.attendance.absent || 0, color: '#EF4444' },\r\n    { name: 'Late', value: gradeData?.attendance.late || 0, color: '#F59E0B' },\r\n  ];\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1C1A75]\"></div>\r\n        <span className=\"ml-2\">Loading grade book...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!gradeData) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"text-center py-8\">\r\n          <BookOpen className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No grade data available</h3>\r\n          <p className=\"text-gray-600\">Grade information will appear here once available.</p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-[#1C1A75]\">Grade Book & Analytics</h2>\r\n          <p className=\"text-gray-600\">Comprehensive academic performance tracking</p>\r\n        </div>\r\n        <div className=\"flex items-center gap-4\">\r\n          <Select value={selectedTerm} onValueChange={setSelectedTerm}>\r\n            <SelectTrigger className=\"w-48\">\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"Term 1 2024\">Term 1 2024</SelectItem>\r\n              <SelectItem value=\"Term 2 2024\">Term 2 2024</SelectItem>\r\n              <SelectItem value=\"Term 3 2024\">Term 3 2024</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n          <Button variant=\"outline\">\r\n            <Download className=\"mr-2 h-4 w-4\" />\r\n            Export Report\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Overview Cards */}\r\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Overall Grade</CardTitle>\r\n            <Award className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{gradeData.overallGrade}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {gradeData.overallPercentage}% average\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">GPA</CardTitle>\r\n            <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{gradeData.gpa}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Out of 4.0 scale\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Class Rank</CardTitle>\r\n            <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">#{gradeData.classRank}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Out of {gradeData.totalStudents} students\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Attendance</CardTitle>\r\n            <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{gradeData.attendance.percentage}%</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {gradeData.attendance.present} days present\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n        <TabsList className=\"grid w-full grid-cols-4\">\r\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n          <TabsTrigger value=\"subjects\">Subject Details</TabsTrigger>\r\n          <TabsTrigger value=\"analytics\">Analytics</TabsTrigger>\r\n          <TabsTrigger value=\"attendance\">Attendance</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"overview\" className=\"space-y-4\">\r\n          <div className=\"grid gap-4 md:grid-cols-2\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Subject Performance</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-3\">\r\n                  {gradeData.subjects.map((subject) => (\r\n                    <div key={subject.name} className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span className=\"font-medium\">{subject.name}</span>\r\n                        {getTrendIcon(subject.trend)}\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Badge className={getGradeColor(subject.grade)}>\r\n                          {subject.grade}\r\n                        </Badge>\r\n                        <span className=\"text-sm text-gray-600\">{subject.percentage}%</span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Recent Assignments</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-3\">\r\n                  {gradeData.subjects\r\n                    .flatMap(subject => subject.assignments)\r\n                    .sort((a, b) => b.date.getTime() - a.date.getTime())\r\n                    .slice(0, 5)\r\n                    .map((assignment) => (\r\n                      <div key={assignment.id} className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <p className=\"font-medium text-sm\">{assignment.title}</p>\r\n                          <p className=\"text-xs text-gray-600\">\r\n                            {format(assignment.date, 'MMM d')} â€¢ {assignment.category}\r\n                          </p>\r\n                        </div>\r\n                        <Badge variant=\"outline\">\r\n                          {assignment.percentage}%\r\n                        </Badge>\r\n                      </div>\r\n                    ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"subjects\" className=\"space-y-4\">\r\n          <div className=\"flex items-center gap-4 mb-4\">\r\n            <Select value={selectedSubject} onValueChange={setSelectedSubject}>\r\n              <SelectTrigger className=\"w-64\">\r\n                <SelectValue placeholder=\"Select subject for details\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {gradeData.subjects.map((subject) => (\r\n                  <SelectItem key={subject.name} value={subject.name}>\r\n                    {subject.name} ({subject.grade})\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          {selectedSubject && (() => {\r\n            const subject = gradeData.subjects.find(s => s.name === selectedSubject);\r\n            if (!subject) return null;\r\n\r\n            return (\r\n              <div className=\"grid gap-4 md:grid-cols-2\">\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>{subject.name} Performance</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <span>Overall Grade</span>\r\n                        <Badge className={getGradeColor(subject.grade)}>\r\n                          {subject.grade} ({subject.percentage}%)\r\n                        </Badge>\r\n                      </div>\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <span>Class Rank</span>\r\n                        <span>#{subject.rank} of {subject.totalStudents}</span>\r\n                      </div>\r\n                      <Progress value={subject.percentage} className=\"h-2\" />\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle>Assignment Breakdown</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <div className=\"space-y-3\">\r\n                      {subject.assignments.map((assignment) => (\r\n                        <div key={assignment.id} className=\"flex items-center justify-between\">\r\n                          <div>\r\n                            <p className=\"font-medium text-sm\">{assignment.title}</p>\r\n                            <p className=\"text-xs text-gray-600\">\r\n                              {format(assignment.date, 'MMM d')} â€¢ {assignment.category}\r\n                            </p>\r\n                          </div>\r\n                          <Badge variant=\"outline\">\r\n                            {assignment.score}/{assignment.maxScore} ({assignment.percentage}%)\r\n                          </Badge>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              </div>\r\n            );\r\n          })()}\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"analytics\" className=\"space-y-4\">\r\n          <div className=\"grid gap-6 md:grid-cols-2\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Subject Performance</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ResponsiveContainer width=\"100%\" height={300}>\r\n                  <BarChart data={performanceData}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" />\r\n                    <XAxis dataKey=\"subject\" />\r\n                    <YAxis domain={[0, 100]} />\r\n                    <Tooltip />\r\n                    <Bar dataKey=\"percentage\" fill=\"#1C1A75\" />\r\n                  </BarChart>\r\n                </ResponsiveContainer>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Attendance Breakdown</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ResponsiveContainer width=\"100%\" height={300}>\r\n                  <PieChart>\r\n                    <Pie\r\n                      data={attendanceData}\r\n                      cx=\"50%\"\r\n                      cy=\"50%\"\r\n                      outerRadius={80}\r\n                      fill=\"#8884d8\"\r\n                      dataKey=\"value\"\r\n                      label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\r\n                    >\r\n                      {attendanceData.map((entry, index) => (\r\n                        <Cell key={`cell-${index}`} fill={entry.color} />\r\n                      ))}\r\n                    </Pie>\r\n                    <Tooltip />\r\n                  </PieChart>\r\n                </ResponsiveContainer>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Performance Trend</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <LineChart data={performanceData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"subject\" />\r\n                  <YAxis domain={[0, 100]} />\r\n                  <Tooltip />\r\n                  <Line type=\"monotone\" dataKey=\"percentage\" stroke=\"#1C1A75\" strokeWidth={2} />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"attendance\" className=\"space-y-4\">\r\n          <div className=\"grid gap-4 md:grid-cols-3\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-green-600\">Present</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-3xl font-bold text-green-600\">{gradeData.attendance.present}</div>\r\n                <p className=\"text-sm text-gray-600\">Days attended</p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-red-600\">Absent</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-3xl font-bold text-red-600\">{gradeData.attendance.absent}</div>\r\n                <p className=\"text-sm text-gray-600\">Days missed</p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-yellow-600\">Late</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-3xl font-bold text-yellow-600\">{gradeData.attendance.late}</div>\r\n                <p className=\"text-sm text-gray-600\">Late arrivals</p>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Attendance Rate</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span>Overall Attendance</span>\r\n                  <span className=\"font-bold\">{gradeData.attendance.percentage}%</span>\r\n                </div>\r\n                <Progress value={gradeData.attendance.percentage} className=\"h-3\" />\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Based on {gradeData.attendance.present + gradeData.attendance.absent} school days\r\n                </p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\IDCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\ImageLightbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\InteractiveMap.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\LanguageToggle.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'currentLanguage' is assigned a value but never used.","line":21,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { Languages } from 'lucide-react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu';\r\n\r\nconst languages = [\r\n  { code: 'en', name: 'English', flag: 'ðŸ‡ºðŸ‡¸' },\r\n  { code: 'sh', name: 'Shona', flag: 'ðŸ‡¿ðŸ‡¼' },\r\n  { code: 'nd', name: 'Ndebele', flag: 'ðŸ‡¿ðŸ‡¼' },\r\n];\r\n\r\nexport function LanguageToggle() {\r\n  const { i18n } = useTranslation();\r\n\r\n  const currentLanguage = languages.find(lang => lang.code === i18n.language) || languages[0];\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          className=\"h-9 w-9 px-0 text-white hover:bg-white/10 hover:text-[#D4AF37] transition-colors\"\r\n          aria-label=\"Toggle language\"\r\n        >\r\n          <Languages className=\"h-4 w-4\" />\r\n          <span className=\"sr-only\">Toggle language</span>\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\" className=\"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700\">\r\n        {languages.map((language) => (\r\n          <DropdownMenuItem\r\n            key={language.code}\r\n            onClick={() => i18n.changeLanguage(language.code)}\r\n            className={`cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 ${\r\n              i18n.language === language.code ? 'bg-gray-50 dark:bg-gray-700' : ''\r\n            }`}\r\n          >\r\n            <span className=\"mr-2\">{language.flag}</span>\r\n            <span>{language.name}</span>\r\n            {i18n.language === language.code && (\r\n              <span className=\"ml-auto text-[#D4AF37]\">âœ“</span>\r\n            )}\r\n          </DropdownMenuItem>\r\n        ))}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\LazyImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\Leaderboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\LearningPlatform.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Users' is defined but never used.","line":2,"column":66,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":71},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Calendar' is defined but never used.","line":2,"column":95,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":103},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1601,1604],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1601,1604],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadData'. Either include it or remove the dependency array.","line":52,"column":6,"nodeType":"ArrayExpression","endLine":52,"endColumn":17,"suggestions":[{"desc":"Update the dependencies array to be: [loadData, studentId]","fix":{"range":[1803,1814],"text":"[loadData, studentId]"}}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":69,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":69,"endColumn":20,"suggestions":[{"fix":{"range":[2301,2349],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":87,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":87,"endColumn":20,"suggestions":[{"fix":{"range":[2803,2857],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":109,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":109,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":392,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":392,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15572,15575],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15572,15575],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":399,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":399,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15915,15918],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15915,15918],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { BookOpen, Play, FileText, Download, CheckCircle, Clock, Users, Award, MessageSquare, Calendar } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport lmsService from '@/services/lmsService';\r\nimport { format } from 'date-fns';\r\n\r\ninterface Course {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  teacher: string;\r\n  enrolledStudents: number;\r\n  lessons: number;\r\n  progress: number;\r\n}\r\n\r\ninterface Assignment {\r\n  id: string;\r\n  title: string;\r\n  course: string;\r\n  dueDate: Date;\r\n  status: 'pending' | 'in-progress' | 'submitted' | 'graded';\r\n  description: string;\r\n  points: number;\r\n}\r\n\r\ninterface LearningPlatformProps {\r\n  studentId?: string;\r\n  studentName?: string;\r\n}\r\n\r\nexport function LearningPlatform({\r\n  studentId = 'student-123',\r\n  studentName = 'John Smith'\r\n}: LearningPlatformProps) {\r\n  const [courses, setCourses] = useState<Course[]>([]);\r\n  const [assignments, setAssignments] = useState<Assignment[]>([]);\r\n  const [selectedCourse, setSelectedCourse] = useState<Course | null>(null);\r\n  const [courseContent, setCourseContent] = useState<any>(null);\r\n  const [activeTab, setActiveTab] = useState('courses');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { toast } = useToast();\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [studentId]);\r\n\r\n  const loadData = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Load courses\r\n      const coursesResult = await lmsService.getCourses(studentId);\r\n      if (coursesResult.success) {\r\n        setCourses(coursesResult.data);\r\n      }\r\n\r\n      // Load assignments\r\n      const assignmentsResult = await lmsService.getAssignments(studentId);\r\n      if (assignmentsResult.success) {\r\n        setAssignments(assignmentsResult.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading LMS data:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load learning platform data.\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadCourseContent = async (courseId: string) => {\r\n    try {\r\n      const result = await lmsService.getCourseContent(courseId);\r\n      if (result.success) {\r\n        setCourseContent(result.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading course content:', error);\r\n    }\r\n  };\r\n\r\n  const handleAssignmentSubmit = async (assignmentId: string, file: File) => {\r\n    try {\r\n      const result = await lmsService.submitAssignment(assignmentId, file, studentId);\r\n      if (result.success) {\r\n        toast({\r\n          title: \"Assignment Submitted\",\r\n          description: \"Your assignment has been submitted successfully.\",\r\n        });\r\n\r\n        // Update assignment status\r\n        setAssignments(prev =>\r\n          prev.map(assignment =>\r\n            assignment.id === assignmentId\r\n              ? { ...assignment, status: 'submitted' as const }\r\n              : assignment\r\n          )\r\n        );\r\n      }\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Submission Failed\",\r\n        description: \"Failed to submit assignment. Please try again.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: Assignment['status']) => {\r\n    switch (status) {\r\n      case 'pending': return 'bg-yellow-100 text-yellow-800';\r\n      case 'in-progress': return 'bg-blue-100 text-blue-800';\r\n      case 'submitted': return 'bg-green-100 text-green-800';\r\n      case 'graded': return 'bg-purple-100 text-purple-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: Assignment['status']) => {\r\n    switch (status) {\r\n      case 'submitted': return <CheckCircle className=\"h-3 w-3\" />;\r\n      case 'graded': return <Award className=\"h-3 w-3\" />;\r\n      case 'in-progress': return <Clock className=\"h-3 w-3\" />;\r\n      default: return <FileText className=\"h-3 w-3\" />;\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1C1A75]\"></div>\r\n        <span className=\"ml-2\">Loading learning platform...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-[#1C1A75]\">Online Learning Platform</h2>\r\n          <p className=\"text-gray-600\">Access your courses, assignments, and learning resources</p>\r\n        </div>\r\n        <Badge variant=\"secondary\" className=\"text-sm\">\r\n          Welcome back, {studentName}\r\n        </Badge>\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n        <TabsList className=\"grid w-full grid-cols-4\">\r\n          <TabsTrigger value=\"courses\">My Courses</TabsTrigger>\r\n          <TabsTrigger value=\"assignments\">Assignments</TabsTrigger>\r\n          <TabsTrigger value=\"progress\">Progress</TabsTrigger>\r\n          <TabsTrigger value=\"resources\">Resources</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"courses\" className=\"space-y-4\">\r\n          <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n            {courses.map((course) => (\r\n              <Card key={course.id} className=\"cursor-pointer hover:shadow-lg transition-shadow\">\r\n                <CardHeader>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <CardTitle className=\"text-lg\">{course.title}</CardTitle>\r\n                    <Badge variant=\"outline\">{course.progress}%</Badge>\r\n                  </div>\r\n                  <CardDescription>{course.description}</CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"flex items-center justify-between text-sm text-gray-600\">\r\n                      <span>Teacher: {course.teacher}</span>\r\n                      <span>{course.lessons} lessons</span>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"flex justify-between text-sm mb-1\">\r\n                        <span>Progress</span>\r\n                        <span>{course.progress}%</span>\r\n                      </div>\r\n                      <Progress value={course.progress} className=\"h-2\" />\r\n                    </div>\r\n                    <Button\r\n                      className=\"w-full\"\r\n                      onClick={() => {\r\n                        setSelectedCourse(course);\r\n                        loadCourseContent(course.id);\r\n                      }}\r\n                    >\r\n                      <BookOpen className=\"mr-2 h-4 w-4\" />\r\n                      Continue Learning\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"assignments\" className=\"space-y-4\">\r\n          <div className=\"grid gap-4\">\r\n            {assignments.map((assignment) => (\r\n              <Card key={assignment.id}>\r\n                <CardHeader>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <FileText className=\"h-5 w-5 text-[#1C1A75]\" />\r\n                      <div>\r\n                        <CardTitle className=\"text-lg\">{assignment.title}</CardTitle>\r\n                        <CardDescription>{assignment.course}</CardDescription>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Badge className={getStatusColor(assignment.status)}>\r\n                        {getStatusIcon(assignment.status)}\r\n                        <span className=\"ml-1 capitalize\">{assignment.status}</span>\r\n                      </Badge>\r\n                      <span className=\"text-sm text-gray-500\">\r\n                        {assignment.points} points\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-sm text-gray-700 mb-3\">{assignment.description}</p>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm text-gray-600\">\r\n                      Due: {format(assignment.dueDate, 'MMM d, yyyy')}\r\n                    </span>\r\n                    {assignment.status !== 'submitted' && assignment.status !== 'graded' && (\r\n                      <Dialog>\r\n                        <DialogTrigger asChild>\r\n                          <Button size=\"sm\">\r\n                            Submit Assignment\r\n                          </Button>\r\n                        </DialogTrigger>\r\n                        <DialogContent>\r\n                          <DialogHeader>\r\n                            <DialogTitle>Submit Assignment</DialogTitle>\r\n                          </DialogHeader>\r\n                          <div className=\"space-y-4\">\r\n                            <p className=\"text-sm text-gray-600\">\r\n                              Upload your completed assignment file below.\r\n                            </p>\r\n                            <input\r\n                              type=\"file\"\r\n                              accept=\".pdf,.doc,.docx,.txt\"\r\n                              onChange={(e) => {\r\n                                const file = e.target.files?.[0];\r\n                                if (file) {\r\n                                  handleAssignmentSubmit(assignment.id, file);\r\n                                }\r\n                              }}\r\n                              className=\"w-full p-2 border rounded-lg\"\r\n                            />\r\n                          </div>\r\n                        </DialogContent>\r\n                      </Dialog>\r\n                    )}\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"progress\" className=\"space-y-4\">\r\n          <div className=\"grid gap-6 md:grid-cols-2\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Overall Progress</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-3xl font-bold text-[#1C1A75] mb-2\">76%</div>\r\n                  <Progress value={76} className=\"mb-4\" />\r\n                  <p className=\"text-sm text-gray-600\">Keep up the great work!</p>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Achievements</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Award className=\"h-8 w-8 text-yellow-500\" />\r\n                    <div>\r\n                      <p className=\"font-medium\">Math Whiz</p>\r\n                      <p className=\"text-sm text-gray-600\">Completed 80% of mathematics course</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Award className=\"h-8 w-8 text-blue-500\" />\r\n                    <div>\r\n                      <p className=\"font-medium\">Speed Reader</p>\r\n                      <p className=\"text-sm text-gray-600\">Completed 10 reading assignments</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"resources\" className=\"space-y-4\">\r\n          <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Download className=\"h-5 w-5\" />\r\n                  Mathematics Resources\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-2\">\r\n                  <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                    <FileText className=\"mr-2 h-4 w-4\" />\r\n                    Formula Sheet (PDF)\r\n                  </Button>\r\n                  <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                    <Play className=\"mr-2 h-4 w-4\" />\r\n                    Video Tutorial\r\n                  </Button>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Download className=\"h-5 w-5\" />\r\n                  Science Resources\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-2\">\r\n                  <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                    <FileText className=\"mr-2 h-4 w-4\" />\r\n                    Lab Safety Guide (PDF)\r\n                  </Button>\r\n                  <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                    <Play className=\"mr-2 h-4 w-4\" />\r\n                    Experiment Videos\r\n                  </Button>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Download className=\"h-5 w-5\" />\r\n                  English Resources\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-2\">\r\n                  <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                    <FileText className=\"mr-2 h-4 w-4\" />\r\n                    Literature Guide (PDF)\r\n                  </Button>\r\n                  <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                    <MessageSquare className=\"mr-2 h-4 w-4\" />\r\n                    Discussion Forum\r\n                  </Button>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Course Content Modal */}\r\n      {selectedCourse && courseContent && (\r\n        <Dialog open={!!selectedCourse} onOpenChange={() => setSelectedCourse(null)}>\r\n          <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\">\r\n            <DialogHeader>\r\n              <DialogTitle>{selectedCourse.title}</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid gap-4\">\r\n                {courseContent.modules?.map((module: any) => (\r\n                  <Card key={module.id}>\r\n                    <CardHeader>\r\n                      <CardTitle className=\"text-lg\">{module.title}</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                      <div className=\"space-y-2\">\r\n                        {module.lessons?.map((lesson: any) => (\r\n                          <div key={lesson.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                              {lesson.type === 'video' ? (\r\n                                <Play className=\"h-5 w-5 text-blue-500\" />\r\n                              ) : (\r\n                                <FileText className=\"h-5 w-5 text-gray-500\" />\r\n                              )}\r\n                              <div>\r\n                                <p className=\"font-medium\">{lesson.title}</p>\r\n                                <p className=\"text-sm text-gray-600\">\r\n                                  {Math.floor(lesson.duration / 60)} minutes\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2\">\r\n                              {lesson.completed && (\r\n                                <CheckCircle className=\"h-5 w-5 text-green-500\" />\r\n                              )}\r\n                              <Button size=\"sm\" variant={lesson.completed ? \"outline\" : \"default\"}>\r\n                                {lesson.completed ? 'Review' : 'Start'}\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </CardContent>\r\n                  </Card>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      )}\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\LoadingSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\LoadingSpinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\MeetingScheduler.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MessageSquare' is defined but never used.","line":2,"column":33,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":46},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'startOfDay' is defined but never used.","line":12,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Calendar, Clock, User, MessageSquare, Video, CheckCircle, XCircle } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { format, addDays, startOfDay } from 'date-fns';\r\n\r\ninterface Meeting {\r\n  id: string;\r\n  parentName: string;\r\n  parentEmail: string;\r\n  teacherName: string;\r\n  studentName: string;\r\n  date: Date;\r\n  time: string;\r\n  duration: number;\r\n  topic: string;\r\n  status: 'pending' | 'confirmed' | 'completed' | 'cancelled';\r\n  meetingType: 'in-person' | 'virtual';\r\n  notes?: string;\r\n}\r\n\r\ninterface MeetingSchedulerProps {\r\n  userRole?: 'parent' | 'teacher' | 'admin';\r\n  userName?: string;\r\n  userEmail?: string;\r\n}\r\n\r\nexport function MeetingScheduler({\r\n  userRole = 'parent',\r\n  userName = 'Anonymous User',\r\n  userEmail = 'user@example.com'\r\n}: MeetingSchedulerProps) {\r\n  const [meetings, setMeetings] = useState<Meeting[]>([]);\r\n  const [isBookingDialogOpen, setIsBookingDialogOpen] = useState(false);\r\n  const [selectedDate, setSelectedDate] = useState<Date>(new Date());\r\n  const [selectedTime, setSelectedTime] = useState('');\r\n  const [duration, setDuration] = useState(30);\r\n  const [topic, setTopic] = useState('');\r\n  const [teacher, setTeacher] = useState('');\r\n  const [studentName, setStudentName] = useState('');\r\n  const [meetingType, setMeetingType] = useState<'in-person' | 'virtual'>('virtual');\r\n  const [notes, setNotes] = useState('');\r\n  const { toast } = useToast();\r\n\r\n  // Mock data for demonstration\r\n  useEffect(() => {\r\n    const mockMeetings: Meeting[] = [\r\n      {\r\n        id: '1',\r\n        parentName: 'John Smith',\r\n        parentEmail: 'john@example.com',\r\n        teacherName: 'Mrs. Johnson',\r\n        studentName: 'Sarah Smith',\r\n        date: addDays(new Date(), 2),\r\n        time: '14:00',\r\n        duration: 30,\r\n        topic: 'Progress Review',\r\n        status: 'confirmed',\r\n        meetingType: 'virtual',\r\n        notes: 'Discussing Sarah\\'s recent test results'\r\n      },\r\n      {\r\n        id: '2',\r\n        parentName: 'Mary Davis',\r\n        parentEmail: 'mary@example.com',\r\n        teacherName: 'Mr. Brown',\r\n        studentName: 'Michael Davis',\r\n        date: addDays(new Date(), 5),\r\n        time: '10:00',\r\n        duration: 45,\r\n        topic: 'Behavioral Concerns',\r\n        status: 'pending',\r\n        meetingType: 'in-person',\r\n        notes: 'Recent behavioral issues in class'\r\n      }\r\n    ];\r\n    setMeetings(mockMeetings);\r\n  }, []);\r\n\r\n  const availableTimes = [\r\n    '08:00', '08:30', '09:00', '09:30', '10:00', '10:30',\r\n    '11:00', '11:30', '12:00', '13:00', '13:30', '14:00',\r\n    '14:30', '15:00', '15:30', '16:00'\r\n  ];\r\n\r\n  const teachers = [\r\n    'Mrs. Johnson (Grade 1)',\r\n    'Mr. Brown (Grade 2)',\r\n    'Ms. Davis (Grade 3)',\r\n    'Mr. Wilson (Grade 4)',\r\n    'Mrs. Garcia (Grade 5)',\r\n    'Mr. Lee (Grade 6)',\r\n    'Ms. Taylor (Grade 7)'\r\n  ];\r\n\r\n  const handleBookMeeting = () => {\r\n    if (!selectedDate || !selectedTime || !topic || !teacher || !studentName) {\r\n      toast({\r\n        title: \"Missing Information\",\r\n        description: \"Please fill in all required fields.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    const newMeeting: Meeting = {\r\n      id: Date.now().toString(),\r\n      parentName: userName,\r\n      parentEmail: userEmail,\r\n      teacherName: teacher,\r\n      studentName,\r\n      date: selectedDate,\r\n      time: selectedTime,\r\n      duration,\r\n      topic,\r\n      status: 'pending',\r\n      meetingType,\r\n      notes,\r\n    };\r\n\r\n    setMeetings(prev => [...prev, newMeeting]);\r\n    setIsBookingDialogOpen(false);\r\n\r\n    // Reset form\r\n    setSelectedDate(new Date());\r\n    setSelectedTime('');\r\n    setDuration(30);\r\n    setTopic('');\r\n    setTeacher('');\r\n    setStudentName('');\r\n    setMeetingType('virtual');\r\n    setNotes('');\r\n\r\n    toast({\r\n      title: \"Meeting Requested\",\r\n      description: \"Your meeting request has been submitted and is pending approval.\",\r\n    });\r\n  };\r\n\r\n  const updateMeetingStatus = (meetingId: string, status: Meeting['status']) => {\r\n    setMeetings(prev =>\r\n      prev.map(meeting =>\r\n        meeting.id === meetingId\r\n          ? { ...meeting, status }\r\n          : meeting\r\n      )\r\n    );\r\n\r\n    toast({\r\n      title: \"Meeting Updated\",\r\n      description: `Meeting status changed to ${status}.`,\r\n    });\r\n  };\r\n\r\n  const getStatusColor = (status: Meeting['status']) => {\r\n    switch (status) {\r\n      case 'pending': return 'bg-yellow-100 text-yellow-800';\r\n      case 'confirmed': return 'bg-green-100 text-green-800';\r\n      case 'completed': return 'bg-blue-100 text-blue-800';\r\n      case 'cancelled': return 'bg-red-100 text-red-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: Meeting['status']) => {\r\n    switch (status) {\r\n      case 'confirmed': return <CheckCircle className=\"h-4 w-4\" />;\r\n      case 'cancelled': return <XCircle className=\"h-4 w-4\" />;\r\n      default: return <Clock className=\"h-4 w-4\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-[#1C1A75]\">Parent-Teacher Meetings</h2>\r\n          <p className=\"text-gray-600\">Schedule and manage your parent-teacher conferences</p>\r\n        </div>\r\n        <Dialog open={isBookingDialogOpen} onOpenChange={setIsBookingDialogOpen}>\r\n          <DialogTrigger asChild>\r\n            <Button className=\"bg-[#1C1A75] hover:bg-[#1C1A75]/90\">\r\n              <Calendar className=\"mr-2 h-4 w-4\" />\r\n              Schedule Meeting\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"max-w-md\">\r\n            <DialogHeader>\r\n              <DialogTitle>Schedule Parent-Teacher Meeting</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"studentName\">Student Name</Label>\r\n                <Input\r\n                  id=\"studentName\"\r\n                  value={studentName}\r\n                  onChange={(e) => setStudentName(e.target.value)}\r\n                  placeholder=\"Enter student's full name\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"teacher\">Teacher</Label>\r\n                <Select value={teacher} onValueChange={setTeacher}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select teacher\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {teachers.map((t) => (\r\n                      <SelectItem key={t} value={t}>{t}</SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"date\">Preferred Date</Label>\r\n                <Input\r\n                  id=\"date\"\r\n                  type=\"date\"\r\n                  value={format(selectedDate, 'yyyy-MM-dd')}\r\n                  onChange={(e) => setSelectedDate(new Date(e.target.value))}\r\n                  min={format(new Date(), 'yyyy-MM-dd')}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"time\">Preferred Time</Label>\r\n                <Select value={selectedTime} onValueChange={setSelectedTime}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select time\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {availableTimes.map((time) => (\r\n                      <SelectItem key={time} value={time}>{time}</SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"duration\">Duration (minutes)</Label>\r\n                <Select value={duration.toString()} onValueChange={(value) => setDuration(parseInt(value))}>\r\n                  <SelectTrigger>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"15\">15 minutes</SelectItem>\r\n                    <SelectItem value=\"30\">30 minutes</SelectItem>\r\n                    <SelectItem value=\"45\">45 minutes</SelectItem>\r\n                    <SelectItem value=\"60\">60 minutes</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"meetingType\">Meeting Type</Label>\r\n                <Select value={meetingType} onValueChange={(value: 'in-person' | 'virtual') => setMeetingType(value)}>\r\n                  <SelectTrigger>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"virtual\">Virtual (Video Call)</SelectItem>\r\n                    <SelectItem value=\"in-person\">In-Person</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"topic\">Topic</Label>\r\n                <Input\r\n                  id=\"topic\"\r\n                  value={topic}\r\n                  onChange={(e) => setTopic(e.target.value)}\r\n                  placeholder=\"Brief description of the meeting topic\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"notes\">Additional Notes (Optional)</Label>\r\n                <Textarea\r\n                  id=\"notes\"\r\n                  value={notes}\r\n                  onChange={(e) => setNotes(e.target.value)}\r\n                  placeholder=\"Any additional information or concerns\"\r\n                  rows={3}\r\n                />\r\n              </div>\r\n              <Button onClick={handleBookMeeting} className=\"w-full bg-[#1C1A75] hover:bg-[#1C1A75]/90\">\r\n                Request Meeting\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"grid gap-4\">\r\n        {meetings.map((meeting) => (\r\n          <Card key={meeting.id}>\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {meeting.meetingType === 'virtual' ? (\r\n                      <Video className=\"h-5 w-5 text-blue-500\" />\r\n                    ) : (\r\n                      <User className=\"h-5 w-5 text-green-500\" />\r\n                    )}\r\n                    <CardTitle className=\"text-lg\">{meeting.topic}</CardTitle>\r\n                  </div>\r\n                  <Badge className={getStatusColor(meeting.status)}>\r\n                    {getStatusIcon(meeting.status)}\r\n                    <span className=\"ml-1 capitalize\">{meeting.status}</span>\r\n                  </Badge>\r\n                </div>\r\n                {userRole === 'teacher' && meeting.status === 'pending' && (\r\n                  <div className=\"flex gap-2\">\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"outline\"\r\n                      onClick={() => updateMeetingStatus(meeting.id, 'confirmed')}\r\n                      className=\"text-green-600 border-green-600 hover:bg-green-50\"\r\n                    >\r\n                      Confirm\r\n                    </Button>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"outline\"\r\n                      onClick={() => updateMeetingStatus(meeting.id, 'cancelled')}\r\n                      className=\"text-red-600 border-red-600 hover:bg-red-50\"\r\n                    >\r\n                      Decline\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <CardDescription>\r\n                {format(meeting.date, 'EEEE, MMMM d, yyyy')} at {meeting.time} ({meeting.duration} minutes)\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\r\n                <div>\r\n                  <p><strong>Student:</strong> {meeting.studentName}</p>\r\n                  <p><strong>Parent:</strong> {meeting.parentName}</p>\r\n                  <p><strong>Teacher:</strong> {meeting.teacherName}</p>\r\n                </div>\r\n                <div>\r\n                  <p><strong>Type:</strong> {meeting.meetingType === 'virtual' ? 'Virtual Meeting' : 'In-Person Meeting'}</p>\r\n                  {meeting.notes && (\r\n                    <div className=\"mt-2\">\r\n                      <p><strong>Notes:</strong></p>\r\n                      <p className=\"text-gray-600\">{meeting.notes}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              {meeting.status === 'confirmed' && meeting.meetingType === 'virtual' && (\r\n                <div className=\"mt-4\">\r\n                  <Button className=\"bg-[#1C1A75] hover:bg-[#1C1A75]/90\">\r\n                    <Video className=\"mr-2 h-4 w-4\" />\r\n                    Join Meeting\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n\r\n        {meetings.length === 0 && (\r\n          <Card>\r\n            <CardContent className=\"text-center py-8\">\r\n              <Calendar className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No meetings scheduled</h3>\r\n              <p className=\"text-gray-600\">Schedule your first parent-teacher meeting to get started.</p>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\NoticeBoard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\NotificationManager.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Settings' is defined but never used.","line":3,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Button' is defined but never used.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'subscription' is assigned a value but never used.","line":72,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":72,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { logger } from '@/lib/logger';\r\nimport { Bell, BellOff, Settings } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { Label } from '@/components/ui/label';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\nexport function NotificationManager() {\r\n  const [isSupported, setIsSupported] = useState(false);\r\n  const [isSubscribed, setIsSubscribed] = useState(false);\r\n  const [permission, setPermission] = useState<NotificationPermission>('default');\r\n  const { toast } = useToast();\r\n\r\n  useEffect(() => {\r\n    // Check if notifications are supported\r\n    if ('Notification' in window && 'serviceWorker' in navigator) {\r\n      setIsSupported(true);\r\n      setPermission(Notification.permission);\r\n\r\n      // Check if already subscribed\r\n      checkSubscriptionStatus();\r\n    }\r\n  }, []);\r\n\r\n  const checkSubscriptionStatus = async () => {\r\n    try {\r\n      const registration = await navigator.serviceWorker.ready;\r\n      const subscription = await registration.pushManager.getSubscription();\r\n      setIsSubscribed(!!subscription);\r\n    } catch (error) {\r\n      logger.error('Error checking subscription status', error);\r\n    }\r\n  };\r\n\r\n  const requestPermission = async () => {\r\n    try {\r\n      const result = await Notification.requestPermission();\r\n      setPermission(result);\r\n\r\n      if (result === 'granted') {\r\n        toast({\r\n          title: \"Notifications enabled\",\r\n          description: \"You'll now receive updates from Regisbridge School.\",\r\n        });\r\n        await subscribeToNotifications();\r\n      } else {\r\n        toast({\r\n          title: \"Notifications blocked\",\r\n          description: \"Please enable notifications in your browser settings.\",\r\n          variant: \"destructive\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      logger.error('Error requesting permission', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to enable notifications.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const subscribeToNotifications = async () => {\r\n    try {\r\n      const registration = await navigator.serviceWorker.ready;\r\n\r\n      // You'll need to replace this with your actual VAPID public key\r\n      const vapidPublicKey = 'BKxQzBJh8ZQG6VdJfR8pQ8nZJGwQy8zJGwQy8zJGwQy8zJGwQy8zJGwQy8zJGwQy8zJGwQy8zJGwQy8zJGwQy8z';\r\n\r\n      const subscription = await registration.pushManager.subscribe({\r\n        userVisibleOnly: true,\r\n        applicationServerKey: urlBase64ToUint8Array(vapidPublicKey)\r\n      });\r\n\r\n      // Here you would send the subscription to your server\r\n  logger.debug('Push subscription object received');\r\n\r\n      setIsSubscribed(true);\r\n      toast({\r\n        title: \"Subscribed to notifications\",\r\n        description: \"You'll receive important updates and announcements.\",\r\n      });\r\n    } catch (error) {\r\n      logger.error('Error subscribing to notifications', error);\r\n      toast({\r\n        title: \"Subscription failed\",\r\n        description: \"Unable to subscribe to push notifications.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const unsubscribeFromNotifications = async () => {\r\n    try {\r\n      const registration = await navigator.serviceWorker.ready;\r\n      const subscription = await registration.pushManager.getSubscription();\r\n\r\n      if (subscription) {\r\n        await subscription.unsubscribe();\r\n        setIsSubscribed(false);\r\n        toast({\r\n          title: \"Unsubscribed\",\r\n          description: \"You will no longer receive push notifications.\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      logger.error('Error unsubscribing from notifications', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to unsubscribe from notifications.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleToggle = async (checked: boolean) => {\r\n    if (checked) {\r\n      if (permission === 'default') {\r\n        await requestPermission();\r\n      } else if (permission === 'granted') {\r\n        await subscribeToNotifications();\r\n      }\r\n    } else {\r\n      await unsubscribeFromNotifications();\r\n    }\r\n  };\r\n\r\n  // Helper function to convert VAPID key\r\n  function urlBase64ToUint8Array(base64String: string) {\r\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n    const base64 = (base64String + padding)\r\n      .replace(/-/g, '+')\r\n      .replace(/_/g, '/');\r\n\r\n    const rawData = window.atob(base64);\r\n    const outputArray = new Uint8Array(rawData.length);\r\n\r\n    for (let i = 0; i < rawData.length; ++i) {\r\n      outputArray[i] = rawData.charCodeAt(i);\r\n    }\r\n    return outputArray;\r\n  }\r\n\r\n  if (!isSupported) {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <BellOff className=\"h-5 w-5\" />\r\n            Notifications Not Supported\r\n          </CardTitle>\r\n          <CardDescription>\r\n            Push notifications are not supported in this browser.\r\n          </CardDescription>\r\n        </CardHeader>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"flex items-center gap-2\">\r\n          <Bell className=\"h-5 w-5\" />\r\n          Push Notifications\r\n        </CardTitle>\r\n        <CardDescription>\r\n          Stay updated with school announcements, events, and important notices.\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <Label htmlFor=\"notifications\" className=\"text-sm font-medium\">\r\n            Enable push notifications\r\n          </Label>\r\n          <Switch\r\n            id=\"notifications\"\r\n            checked={isSubscribed}\r\n            onCheckedChange={handleToggle}\r\n            disabled={permission === 'denied'}\r\n          />\r\n        </div>\r\n\r\n        {permission === 'denied' && (\r\n          <p className=\"text-sm text-red-600\">\r\n            Notifications are blocked. Please enable them in your browser settings.\r\n          </p>\r\n        )}\r\n\r\n        {permission === 'default' && (\r\n          <p className=\"text-sm text-gray-600\">\r\n            Click the toggle to enable notifications and stay connected with school updates.\r\n          </p>\r\n        )}\r\n\r\n        {isSubscribed && (\r\n          <div className=\"flex items-center gap-2 text-sm text-green-600\">\r\n            <Bell className=\"h-4 w-4\" />\r\n            You're subscribed to notifications\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\PWAInstallPrompt.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1308,1311],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1308,1311],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":74,"column":97,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":100,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2589,2592],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2589,2592],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":78,"column":86,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":89,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2769,2772],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2769,2772],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { logger } from '@/lib/logger';\r\nimport { Download, X } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\n\r\ninterface BeforeInstallPromptEvent extends Event {\r\n  readonly platforms: string[];\r\n  readonly userChoice: Promise<{\r\n    outcome: 'accepted' | 'dismissed';\r\n    platform: string;\r\n  }>;\r\n  prompt(): Promise<void>;\r\n}\r\n\r\n// Configuration constants\r\nconst COOLDOWN_MS = 7 * 24 * 60 * 60 * 1000; // 7 days\r\nconst SHOW_DELAY_MS = 3000; // 3 seconds\r\n\r\nexport function PWAInstallPrompt() {\r\n  const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\r\n  const [showPrompt, setShowPrompt] = useState(false);\r\n  const [isInstalled, setIsInstalled] = useState(false);\r\n  const [cooldownActive, setCooldownActive] = useState(false);\r\n  const previouslyFocused = useRef<HTMLElement | null>(null);\r\n  const installButtonRef = useRef<HTMLButtonElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    // Check if already installed\r\n    const isStandalone = window.matchMedia('(display-mode: standalone)').matches;\r\n    const isInWebAppiOS = (window.navigator as any).standalone === true;\r\n\r\n    if (isStandalone || isInWebAppiOS) {\r\n      setIsInstalled(true);\r\n      return;\r\n    }\r\n\r\n    // Respect dismissal cooldown (7 days)\r\n    try {\r\n      const dismissedAt = localStorage.getItem('pwa-prompt-dismissed');\r\n      if (dismissedAt) {\r\n        const elapsed = Date.now() - Number(dismissedAt);\r\n        if (elapsed < COOLDOWN_MS) {\r\n          setCooldownActive(true);\r\n          return; // Skip wiring listeners if on cooldown\r\n        }\r\n      }\r\n    } catch {\r\n      // Intentionally empty: localStorage may not be available (private mode, SSR)\r\n    }\r\n\r\n    let timeoutId: number | undefined;\r\n\r\n    // Listen for the beforeinstallprompt event\r\n    const handleBeforeInstallPrompt = (e: Event) => {\r\n      e.preventDefault();\r\n      setDeferredPrompt(e as BeforeInstallPromptEvent);\r\n\r\n      // Show prompt after a delay to not be too intrusive\r\n      timeoutId = window.setTimeout(() => {\r\n        setShowPrompt(true);\r\n      }, SHOW_DELAY_MS);\r\n    };\r\n\r\n    // Listen for successful installation\r\n    const handleAppInstalled = () => {\r\n      setIsInstalled(true);\r\n      setShowPrompt(false);\r\n      setDeferredPrompt(null);\r\n    };\r\n\r\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt, { once: true } as any);\r\n    window.addEventListener('appinstalled', handleAppInstalled);\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt as any);\r\n      window.removeEventListener('appinstalled', handleAppInstalled);\r\n      if (timeoutId) window.clearTimeout(timeoutId);\r\n    };\r\n  }, []);\r\n\r\n  const handleInstallClick = async () => {\r\n    if (!deferredPrompt) return;\r\n\r\n    try {\r\n      await deferredPrompt.prompt();\r\n      const { outcome } = await deferredPrompt.userChoice;\r\n\r\n      if (outcome === 'accepted') {\r\n        logger.info('PWA install prompt accepted');\r\n      } else {\r\n        logger.info('PWA install prompt dismissed');\r\n      }\r\n\r\n      setDeferredPrompt(null);\r\n      setShowPrompt(false);\r\n    } catch (error) {\r\n      logger.error('Install prompt failed', error);\r\n    }\r\n  };\r\n\r\n  const handleDismiss = () => {\r\n    setShowPrompt(false);\r\n    // Store dismissal to avoid showing again for some time\r\n    try {\r\n      localStorage.setItem('pwa-prompt-dismissed', Date.now().toString());\r\n    } catch {\r\n      // Intentionally empty: localStorage may not be available (private mode, SSR)\r\n    }\r\n    // Restore focus to prior element for accessibility\r\n    previouslyFocused.current?.focus?.();\r\n  };\r\n\r\n  // When prompt becomes visible, capture previous focus and move focus into dialog\r\n  useEffect(() => {\r\n    if (showPrompt && !isInstalled && !cooldownActive) {\r\n      previouslyFocused.current = (document.activeElement as HTMLElement) || null;\r\n      // Focus the install button for quick keyboard access\r\n      installButtonRef.current?.focus();\r\n    }\r\n  }, [showPrompt, isInstalled, cooldownActive]);\r\n\r\n  // Escape key handling\r\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\r\n    if (e.key === 'Escape') {\r\n      handleDismiss();\r\n    }\r\n  }, []);\r\n\r\n  // Don't show if already installed or dismissed recently\r\n  if (isInstalled || !showPrompt || cooldownActive) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed bottom-4 right-4 z-50 max-w-sm\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby=\"pwa-install-title\"\r\n      aria-describedby=\"pwa-install-description\"\r\n      onKeyDown={handleKeyDown}\r\n    >\r\n      <Card className=\"shadow-lg border-2 border-[#D4AF37]\" tabIndex={-1}>\r\n        <CardHeader className=\"pb-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <CardTitle id=\"pwa-install-title\" className=\"text-lg flex items-center gap-2\">\r\n              <Download className=\"h-5 w-5 text-[#1C1A75]\" />\r\n              Install App\r\n            </CardTitle>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={handleDismiss}\r\n              className=\"h-6 w-6 p-0\"\r\n              aria-label=\"Dismiss install prompt\"\r\n            >\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n          <CardDescription id=\"pwa-install-description\">\r\n            Install Regisbridge School app for a better experience with offline access and quick access from your home screen.\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-0\">\r\n          <Button\r\n            onClick={handleInstallClick}\r\n            className=\"w-full bg-[#1C1A75] hover:bg-[#1C1A75]/90 text-white\"\r\n            ref={installButtonRef}\r\n            aria-label=\"Install the Regisbridge School application\"\r\n          >\r\n            <Download className=\"mr-2 h-4 w-4\" />\r\n            Install Now\r\n          </Button>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\ProfileCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\SMSManager.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Users' is defined but never used.","line":2,"column":38,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":43},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":153,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":153,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { MessageSquare, Send, Phone, Users, Plus, Trash2, Eye } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport smsService from '@/services/smsService';\r\nimport { format } from 'date-fns';\r\n\r\ninterface SMSMessage {\r\n  id: string;\r\n  recipient: string;\r\n  message: string;\r\n  status: 'pending' | 'sent' | 'delivered' | 'failed';\r\n  sentDate?: Date;\r\n  messageId?: string;\r\n  cost?: number;\r\n}\r\n\r\ninterface SMSManagerProps {\r\n  userRole?: 'admin' | 'teacher';\r\n}\r\n\r\nexport function SMSManager({ userRole = 'admin' }: SMSManagerProps) {\r\n  const [messages, setMessages] = useState<SMSMessage[]>([]);\r\n  const [isComposeDialogOpen, setIsComposeDialogOpen] = useState(false);\r\n  const [selectedMessage, setSelectedMessage] = useState<SMSMessage | null>(null);\r\n  const [formData, setFormData] = useState({\r\n    recipient: '',\r\n    message: '',\r\n    recipientGroup: '',\r\n  });\r\n  const [isBulkMode, setIsBulkMode] = useState(false);\r\n  const [bulkRecipients, setBulkRecipients] = useState('');\r\n  const { toast } = useToast();\r\n\r\n  // Mock data for demonstration\r\n  useEffect(() => {\r\n    const mockMessages: SMSMessage[] = [\r\n      {\r\n        id: '1',\r\n        recipient: '+263771234567',\r\n        message: 'Your meeting \"Progress Review\" with Mrs. Johnson is scheduled for tomorrow at 14:00.',\r\n        status: 'delivered',\r\n        sentDate: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),\r\n        messageId: 'SM123456789',\r\n        cost: 0.05,\r\n      },\r\n      {\r\n        id: '2',\r\n        recipient: '+263781234567',\r\n        message: 'Sports Day is this Friday! Please arrive by 8:30 AM.',\r\n        status: 'sent',\r\n        sentDate: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),\r\n        messageId: 'SM987654321',\r\n        cost: 0.05,\r\n      },\r\n      {\r\n        id: '3',\r\n        recipient: '+263791234567',\r\n        message: 'Payment reminder: School fees due by end of month.',\r\n        status: 'failed',\r\n        sentDate: new Date(),\r\n        cost: 0,\r\n      }\r\n    ];\r\n    setMessages(mockMessages);\r\n  }, []);\r\n\r\n  const recipientGroups = [\r\n    { value: 'all-parents', label: 'All Parents', count: 80 },\r\n    { value: 'all-students', label: 'All Students', count: 120 },\r\n    { value: 'grade-1', label: 'Grade 1 Parents', count: 12 },\r\n    { value: 'grade-2', label: 'Grade 2 Parents', count: 15 },\r\n    { value: 'grade-3', label: 'Grade 3 Parents', count: 18 },\r\n    { value: 'grade-4', label: 'Grade 4 Parents', count: 20 },\r\n    { value: 'grade-5', label: 'Grade 5 Parents', count: 22 },\r\n    { value: 'grade-6', label: 'Grade 6 Parents', count: 18 },\r\n    { value: 'grade-7', label: 'Grade 7 Parents', count: 15 },\r\n    { value: 'boarding-parents', label: 'Boarding Students\\' Parents', count: 25 },\r\n  ];\r\n\r\n  const handleSendSMS = async () => {\r\n    if (!formData.recipient && !formData.recipientGroup && !isBulkMode) {\r\n      toast({\r\n        title: \"Missing Recipient\",\r\n        description: \"Please enter a recipient or select a group.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!formData.message.trim()) {\r\n      toast({\r\n        title: \"Missing Message\",\r\n        description: \"Please enter a message.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      let recipients: string[] = [];\r\n\r\n      if (isBulkMode && bulkRecipients) {\r\n        recipients = bulkRecipients.split('\\n').filter(r => r.trim());\r\n      } else if (formData.recipientGroup) {\r\n        // Mock recipient list for selected group\r\n        const groupSize = recipientGroups.find(g => g.value === formData.recipientGroup)?.count || 0;\r\n        recipients = Array.from({ length: groupSize }, (_, i) => `+26377${1000000 + i}`);\r\n      } else {\r\n        recipients = [formData.recipient];\r\n      }\r\n\r\n      // Send SMS to each recipient\r\n      const results = [];\r\n      for (const recipient of recipients) {\r\n        const formattedRecipient = smsService.formatPhoneNumber(recipient);\r\n        const result = await smsService.sendSMS(formattedRecipient, formData.message);\r\n\r\n        const newMessage: SMSMessage = {\r\n          id: Date.now().toString() + Math.random(),\r\n          recipient: formattedRecipient,\r\n          message: formData.message,\r\n          status: result.success ? 'sent' : 'failed',\r\n          sentDate: new Date(),\r\n          messageId: result.messageId,\r\n        };\r\n\r\n        results.push(newMessage);\r\n      }\r\n\r\n      setMessages(prev => [...prev, ...results]);\r\n      setIsComposeDialogOpen(false);\r\n\r\n      // Reset form\r\n      setFormData({\r\n        recipient: '',\r\n        message: '',\r\n        recipientGroup: '',\r\n      });\r\n      setBulkRecipients('');\r\n\r\n      toast({\r\n        title: \"SMS Sent\",\r\n        description: `Message sent to ${recipients.length} recipient(s).`,\r\n      });\r\n    } catch (error) {\r\n      toast({\r\n        title: \"SMS Failed\",\r\n        description: \"Failed to send SMS. Please try again.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDeleteMessage = (messageId: string) => {\r\n    setMessages(prev => prev.filter(m => m.id !== messageId));\r\n    toast({\r\n      title: \"Message Deleted\",\r\n      description: \"SMS message has been deleted.\",\r\n    });\r\n  };\r\n\r\n  const getStatusColor = (status: SMSMessage['status']) => {\r\n    switch (status) {\r\n      case 'pending': return 'bg-yellow-100 text-yellow-800';\r\n      case 'sent': return 'bg-blue-100 text-blue-800';\r\n      case 'delivered': return 'bg-green-100 text-green-800';\r\n      case 'failed': return 'bg-red-100 text-red-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: SMSMessage['status']) => {\r\n    switch (status) {\r\n      case 'delivered': return <MessageSquare className=\"h-3 w-3\" />;\r\n      case 'sent': return <Send className=\"h-3 w-3\" />;\r\n      case 'failed': return <Phone className=\"h-3 w-3\" />;\r\n      default: return <MessageSquare className=\"h-3 w-3\" />;\r\n    }\r\n  };\r\n\r\n  if (userRole !== 'admin') {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"text-center py-8\">\r\n          <MessageSquare className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Access Restricted</h3>\r\n          <p className=\"text-gray-600\">Only administrators can manage SMS communications.</p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-[#1C1A75]\">SMS Notifications</h2>\r\n          <p className=\"text-gray-600\">Send SMS notifications to parents and students</p>\r\n        </div>\r\n        <Dialog open={isComposeDialogOpen} onOpenChange={setIsComposeDialogOpen}>\r\n          <DialogTrigger asChild>\r\n            <Button className=\"bg-[#1C1A75] hover:bg-[#1C1A75]/90\">\r\n              <Plus className=\"mr-2 h-4 w-4\" />\r\n              Compose SMS\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\r\n            <DialogHeader>\r\n              <DialogTitle>Compose SMS Message</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"bulkMode\"\r\n                  checked={isBulkMode}\r\n                  onChange={(e) => setIsBulkMode(e.target.checked)}\r\n                  className=\"rounded\"\r\n                />\r\n                <Label htmlFor=\"bulkMode\">Bulk SMS Mode</Label>\r\n              </div>\r\n\r\n              {!isBulkMode ? (\r\n                <>\r\n                  <div>\r\n                    <Label htmlFor=\"recipient\">Recipient Phone Number</Label>\r\n                    <Input\r\n                      id=\"recipient\"\r\n                      value={formData.recipient}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, recipient: e.target.value }))}\r\n                      placeholder=\"+263771234567\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"recipientGroup\">Or Select Group</Label>\r\n                    <Select value={formData.recipientGroup} onValueChange={(value) => setFormData(prev => ({ ...prev, recipientGroup: value }))}>\r\n                      <SelectTrigger>\r\n                        <SelectValue placeholder=\"Select recipient group\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        {recipientGroups.map((group) => (\r\n                          <SelectItem key={group.value} value={group.value}>\r\n                            {group.label} ({group.count} recipients)\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div>\r\n                  <Label htmlFor=\"bulkRecipients\">Recipient Phone Numbers (one per line)</Label>\r\n                  <Textarea\r\n                    id=\"bulkRecipients\"\r\n                    value={bulkRecipients}\r\n                    onChange={(e) => setBulkRecipients(e.target.value)}\r\n                    placeholder=\"+263771234567&#10;+263781234567&#10;+263791234567\"\r\n                    rows={6}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <div>\r\n                <Label htmlFor=\"message\">Message</Label>\r\n                <Textarea\r\n                  id=\"message\"\r\n                  value={formData.message}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, message: e.target.value }))}\r\n                  placeholder=\"Enter your SMS message (160 characters max for single SMS)\"\r\n                  rows={4}\r\n                  maxLength={160}\r\n                />\r\n                <p className=\"text-sm text-gray-500 mt-1\">\r\n                  {formData.message.length}/160 characters\r\n                </p>\r\n              </div>\r\n\r\n              <Button onClick={handleSendSMS} className=\"w-full bg-[#1C1A75] hover:bg-[#1C1A75]/90\">\r\n                <Send className=\"mr-2 h-4 w-4\" />\r\n                Send SMS\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"grid gap-4\">\r\n        {messages.map((message) => (\r\n          <Card key={message.id}>\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <MessageSquare className=\"h-5 w-5 text-[#1C1A75]\" />\r\n                    <div>\r\n                      <CardTitle className=\"text-lg\">{message.recipient}</CardTitle>\r\n                      <CardDescription>\r\n                        {message.sentDate ? format(message.sentDate, 'MMM d, yyyy HH:mm') : 'Not sent'}\r\n                      </CardDescription>\r\n                    </div>\r\n                  </div>\r\n                  <Badge className={getStatusColor(message.status)}>\r\n                    {getStatusIcon(message.status)}\r\n                    <span className=\"ml-1 capitalize\">{message.status}</span>\r\n                  </Badge>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    onClick={() => setSelectedMessage(message)}\r\n                  >\r\n                    <Eye className=\"mr-1 h-3 w-3\" />\r\n                    View\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    onClick={() => handleDeleteMessage(message.id)}\r\n                    className=\"text-red-600 border-red-600 hover:bg-red-50\"\r\n                  >\r\n                    <Trash2 className=\"mr-1 h-3 w-3\" />\r\n                    Delete\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p className=\"text-sm text-gray-700 mb-2\">{message.message}</p>\r\n              <div className=\"flex justify-between text-xs text-gray-500\">\r\n                <span>Message ID: {message.messageId}</span>\r\n                {message.cost && <span>Cost: ${message.cost}</span>}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n\r\n        {messages.length === 0 && (\r\n          <Card>\r\n            <CardContent className=\"text-center py-8\">\r\n              <MessageSquare className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No SMS messages yet</h3>\r\n              <p className=\"text-gray-600\">Send your first SMS notification to get started.</p>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n\r\n      {/* Message Preview Dialog */}\r\n      {selectedMessage && (\r\n        <Dialog open={!!selectedMessage} onOpenChange={() => setSelectedMessage(null)}>\r\n          <DialogContent className=\"max-w-md\">\r\n            <DialogHeader>\r\n              <DialogTitle>SMS Message Details</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label>Recipient</Label>\r\n                <p className=\"text-sm text-gray-600\">{selectedMessage.recipient}</p>\r\n              </div>\r\n              <div>\r\n                <Label>Message</Label>\r\n                <div className=\"bg-gray-50 p-3 rounded-lg\">\r\n                  <p className=\"text-sm\">{selectedMessage.message}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                <div>\r\n                  <p><strong>Status:</strong> <span className=\"capitalize\">{selectedMessage.status}</span></p>\r\n                  <p><strong>Sent:</strong> {selectedMessage.sentDate ? format(selectedMessage.sentDate, 'MMM d, yyyy HH:mm') : 'Not sent'}</p>\r\n                </div>\r\n                <div>\r\n                  <p><strong>Message ID:</strong> {selectedMessage.messageId}</p>\r\n                  {selectedMessage.cost && <p><strong>Cost:</strong> ${selectedMessage.cost}</p>}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      )}\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\StatBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\StudyPlanner.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Edit' is defined but never used.","line":2,"column":64,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":68},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Target' is defined but never used.","line":2,"column":78,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":84},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TrendingUp' is defined but never used.","line":2,"column":86,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":96},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Progress' is defined but never used.","line":11,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'studentId' is assigned a value but never used.","line":46,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":46,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'studentName' is assigned a value but never used.","line":47,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":47,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setSelectedDate' is assigned a value but never used.","line":53,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":53,"endColumn":39},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'selectedTask' is assigned a value but never used.","line":54,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":54,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setSelectedTask' is assigned a value but never used.","line":54,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":54,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Calendar, Clock, BookOpen, CheckCircle, Circle, Plus, Edit, Trash2, Target, TrendingUp, AlertTriangle } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { format, addDays, startOfWeek, endOfWeek, eachDayOfInterval, isSameDay } from 'date-fns';\r\n\r\ninterface StudyTask {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  subject: string;\r\n  priority: 'low' | 'medium' | 'high';\r\n  status: 'pending' | 'in-progress' | 'completed';\r\n  dueDate: Date;\r\n  estimatedTime: number; // in minutes\r\n  actualTime?: number;\r\n  createdDate: Date;\r\n  completedDate?: Date;\r\n  tags: string[];\r\n}\r\n\r\ninterface StudySession {\r\n  id: string;\r\n  date: Date;\r\n  startTime: string;\r\n  endTime: string;\r\n  tasks: string[]; // task IDs\r\n  completed: boolean;\r\n  notes?: string;\r\n}\r\n\r\ninterface StudyPlannerProps {\r\n  studentId?: string;\r\n  studentName?: string;\r\n}\r\n\r\nexport function StudyPlanner({\r\n  studentId = 'student-123',\r\n  studentName = 'John Smith'\r\n}: StudyPlannerProps) {\r\n  const [tasks, setTasks] = useState<StudyTask[]>([]);\r\n  const [sessions, setSessions] = useState<StudySession[]>([]);\r\n  const [isTaskDialogOpen, setIsTaskDialogOpen] = useState(false);\r\n  const [isSessionDialogOpen, setIsSessionDialogOpen] = useState(false);\r\n  const [selectedDate, setSelectedDate] = useState<Date>(new Date());\r\n  const [selectedTask, setSelectedTask] = useState<StudyTask | null>(null);\r\n  const [formData, setFormData] = useState<{\r\n    title: string;\r\n    description: string;\r\n    subject: string;\r\n    priority: 'low' | 'medium' | 'high';\r\n    dueDate: string;\r\n    estimatedTime: number;\r\n    tags: string;\r\n  }>({\r\n    title: '',\r\n    description: '',\r\n    subject: '',\r\n    priority: 'medium',\r\n    dueDate: '',\r\n    estimatedTime: 60,\r\n    tags: '',\r\n  });\r\n  const [sessionFormData, setSessionFormData] = useState({\r\n    date: format(new Date(), 'yyyy-MM-dd'),\r\n    startTime: '19:00',\r\n    endTime: '20:00',\r\n    notes: '',\r\n  });\r\n  const { toast } = useToast();\r\n\r\n  // Mock data for demonstration\r\n  useEffect(() => {\r\n    const mockTasks: StudyTask[] = [\r\n      {\r\n        id: '1',\r\n        title: 'Complete Mathematics Chapter 5',\r\n        description: 'Review quadratic equations and practice problems',\r\n        subject: 'Mathematics',\r\n        priority: 'high',\r\n        status: 'in-progress',\r\n        dueDate: addDays(new Date(), 2),\r\n        estimatedTime: 90,\r\n        actualTime: 45,\r\n        createdDate: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),\r\n        tags: ['math', 'chapter5', 'quadratic'],\r\n      },\r\n      {\r\n        id: '2',\r\n        title: 'Write English Essay',\r\n        description: 'Essay on Shakespeare\\'s influence on modern literature',\r\n        subject: 'English',\r\n        priority: 'medium',\r\n        status: 'pending',\r\n        dueDate: addDays(new Date(), 5),\r\n        estimatedTime: 120,\r\n        createdDate: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),\r\n        tags: ['english', 'essay', 'shakespeare'],\r\n      },\r\n      {\r\n        id: '3',\r\n        title: 'Science Lab Report',\r\n        description: 'Document findings from photosynthesis experiment',\r\n        subject: 'Science',\r\n        priority: 'high',\r\n        status: 'completed',\r\n        dueDate: addDays(new Date(), 1),\r\n        estimatedTime: 60,\r\n        actualTime: 75,\r\n        createdDate: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),\r\n        completedDate: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),\r\n        tags: ['science', 'lab', 'photosynthesis'],\r\n      }\r\n    ];\r\n\r\n    const mockSessions: StudySession[] = [\r\n      {\r\n        id: '1',\r\n        date: new Date(),\r\n        startTime: '19:00',\r\n        endTime: '20:30',\r\n        tasks: ['1'],\r\n        completed: true,\r\n        notes: 'Good progress on math problems',\r\n      },\r\n      {\r\n        id: '2',\r\n        date: addDays(new Date(), 1),\r\n        startTime: '18:30',\r\n        endTime: '20:00',\r\n        tasks: ['2'],\r\n        completed: false,\r\n      }\r\n    ];\r\n\r\n    setTasks(mockTasks);\r\n    setSessions(mockSessions);\r\n  }, []);\r\n\r\n  const subjects = [\r\n    'Mathematics',\r\n    'English',\r\n    'Science',\r\n    'Social Studies',\r\n    'History',\r\n    'Geography',\r\n    'Art',\r\n    'Music',\r\n    'Physical Education',\r\n  ];\r\n\r\n  const handleCreateTask = () => {\r\n    if (!formData.title || !formData.subject || !formData.dueDate) {\r\n      toast({\r\n        title: \"Missing Information\",\r\n        description: \"Please fill in all required fields.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    const newTask: StudyTask = {\r\n      id: Date.now().toString(),\r\n      title: formData.title,\r\n      description: formData.description,\r\n      subject: formData.subject,\r\n      priority: formData.priority,\r\n      status: 'pending',\r\n      dueDate: new Date(formData.dueDate),\r\n      estimatedTime: formData.estimatedTime,\r\n      createdDate: new Date(),\r\n      tags: formData.tags.split(',').map(tag => tag.trim()).filter(tag => tag),\r\n    };\r\n\r\n    setTasks(prev => [...prev, newTask]);\r\n    setIsTaskDialogOpen(false);\r\n\r\n    // Reset form\r\n    setFormData({\r\n      title: '',\r\n      description: '',\r\n      subject: '',\r\n      priority: 'medium',\r\n      dueDate: '',\r\n      estimatedTime: 60,\r\n      tags: '',\r\n    });\r\n\r\n    toast({\r\n      title: \"Task Created\",\r\n      description: `Study task \"${newTask.title}\" has been added to your planner.`,\r\n    });\r\n  };\r\n\r\n  const handleCreateSession = () => {\r\n    if (!sessionFormData.startTime || !sessionFormData.endTime) {\r\n      toast({\r\n        title: \"Missing Information\",\r\n        description: \"Please set start and end times for the study session.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    const newSession: StudySession = {\r\n      id: Date.now().toString(),\r\n      date: new Date(sessionFormData.date),\r\n      startTime: sessionFormData.startTime,\r\n      endTime: sessionFormData.endTime,\r\n      tasks: [],\r\n      completed: false,\r\n      notes: sessionFormData.notes,\r\n    };\r\n\r\n    setSessions(prev => [...prev, newSession]);\r\n    setIsSessionDialogOpen(false);\r\n\r\n    // Reset form\r\n    setSessionFormData({\r\n      date: format(new Date(), 'yyyy-MM-dd'),\r\n      startTime: '19:00',\r\n      endTime: '20:00',\r\n      notes: '',\r\n    });\r\n\r\n    toast({\r\n      title: \"Study Session Created\",\r\n      description: \"Study session has been scheduled.\",\r\n    });\r\n  };\r\n\r\n  const updateTaskStatus = (taskId: string, status: StudyTask['status']) => {\r\n    setTasks(prev =>\r\n      prev.map(task =>\r\n        task.id === taskId\r\n          ? {\r\n              ...task,\r\n              status,\r\n              completedDate: status === 'completed' ? new Date() : task.completedDate\r\n            }\r\n          : task\r\n      )\r\n    );\r\n\r\n    if (status === 'completed') {\r\n      toast({\r\n        title: \"Task Completed\",\r\n        description: \"Great job! Task marked as completed.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const deleteTask = (taskId: string) => {\r\n    setTasks(prev => prev.filter(task => task.id !== taskId));\r\n    toast({\r\n      title: \"Task Deleted\",\r\n      description: \"Study task has been removed.\",\r\n    });\r\n  };\r\n\r\n  const getPriorityColor = (priority: StudyTask['priority']) => {\r\n    switch (priority) {\r\n      case 'high': return 'bg-red-100 text-red-800';\r\n      case 'medium': return 'bg-yellow-100 text-yellow-800';\r\n      case 'low': return 'bg-green-100 text-green-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: StudyTask['status']) => {\r\n    switch (status) {\r\n      case 'completed': return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\r\n      case 'in-progress': return <Clock className=\"h-4 w-4 text-blue-500\" />;\r\n      default: return <Circle className=\"h-4 w-4 text-gray-400\" />;\r\n    }\r\n  };\r\n\r\n  const getTasksForDate = (date: Date) => {\r\n    return tasks.filter(task =>\r\n      isSameDay(task.dueDate, date) || isSameDay(task.createdDate, date)\r\n    );\r\n  };\r\n\r\n  const getSessionsForDate = (date: Date) => {\r\n    return sessions.filter(session => isSameDay(session.date, date));\r\n  };\r\n\r\n  const weekStart = startOfWeek(selectedDate);\r\n  const weekEnd = endOfWeek(selectedDate);\r\n  const weekDays = eachDayOfInterval({ start: weekStart, end: weekEnd });\r\n\r\n  const totalTasks = tasks.length;\r\n  const completedTasks = tasks.filter(task => task.status === 'completed').length;\r\n  const inProgressTasks = tasks.filter(task => task.status === 'in-progress').length;\r\n  const overdueTasks = tasks.filter(task =>\r\n    task.status !== 'completed' && task.dueDate < new Date()\r\n  ).length;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-[#1C1A75]\">Study Planner</h2>\r\n          <p className=\"text-gray-600\">Organize your study schedule and track progress</p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Dialog open={isTaskDialogOpen} onOpenChange={setIsTaskDialogOpen}>\r\n            <DialogTrigger asChild>\r\n              <Button className=\"bg-[#1C1A75] hover:bg-[#1C1A75]/90\">\r\n                <Plus className=\"mr-2 h-4 w-4\" />\r\n                Add Task\r\n              </Button>\r\n            </DialogTrigger>\r\n            <DialogContent className=\"max-w-md\">\r\n              <DialogHeader>\r\n                <DialogTitle>Create Study Task</DialogTitle>\r\n              </DialogHeader>\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <Label htmlFor=\"taskTitle\">Task Title</Label>\r\n                  <Input\r\n                    id=\"taskTitle\"\r\n                    value={formData.title}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\r\n                    placeholder=\"Enter task title\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"taskSubject\">Subject</Label>\r\n                  <Select value={formData.subject} onValueChange={(value) => setFormData(prev => ({ ...prev, subject: value }))}>\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select subject\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {subjects.map((subject) => (\r\n                        <SelectItem key={subject} value={subject}>{subject}</SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"taskDescription\">Description</Label>\r\n                  <Textarea\r\n                    id=\"taskDescription\"\r\n                    value={formData.description}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                    placeholder=\"Task description\"\r\n                    rows={3}\r\n                  />\r\n                </div>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"taskPriority\">Priority</Label>\r\n                    <Select value={formData.priority} onValueChange={(value: 'low' | 'medium' | 'high') => setFormData(prev => ({ ...prev, priority: value }))}>\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"low\">Low</SelectItem>\r\n                        <SelectItem value=\"medium\">Medium</SelectItem>\r\n                        <SelectItem value=\"high\">High</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"estimatedTime\">Estimated Time (minutes)</Label>\r\n                    <Input\r\n                      id=\"estimatedTime\"\r\n                      type=\"number\"\r\n                      value={formData.estimatedTime}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, estimatedTime: parseInt(e.target.value) || 60 }))}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"taskDueDate\">Due Date</Label>\r\n                  <Input\r\n                    id=\"taskDueDate\"\r\n                    type=\"date\"\r\n                    value={formData.dueDate}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, dueDate: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"taskTags\">Tags (comma-separated)</Label>\r\n                  <Input\r\n                    id=\"taskTags\"\r\n                    value={formData.tags}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, tags: e.target.value }))}\r\n                    placeholder=\"math, chapter5, important\"\r\n                  />\r\n                </div>\r\n                <Button onClick={handleCreateTask} className=\"w-full bg-[#1C1A75] hover:bg-[#1C1A75]/90\">\r\n                  Create Task\r\n                </Button>\r\n              </div>\r\n            </DialogContent>\r\n          </Dialog>\r\n\r\n          <Dialog open={isSessionDialogOpen} onOpenChange={setIsSessionDialogOpen}>\r\n            <DialogTrigger asChild>\r\n              <Button variant=\"outline\">\r\n                <Calendar className=\"mr-2 h-4 w-4\" />\r\n                Schedule Session\r\n              </Button>\r\n            </DialogTrigger>\r\n            <DialogContent className=\"max-w-md\">\r\n              <DialogHeader>\r\n                <DialogTitle>Schedule Study Session</DialogTitle>\r\n              </DialogHeader>\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <Label htmlFor=\"sessionDate\">Date</Label>\r\n                  <Input\r\n                    id=\"sessionDate\"\r\n                    type=\"date\"\r\n                    value={sessionFormData.date}\r\n                    onChange={(e) => setSessionFormData(prev => ({ ...prev, date: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"startTime\">Start Time</Label>\r\n                    <Input\r\n                      id=\"startTime\"\r\n                      type=\"time\"\r\n                      value={sessionFormData.startTime}\r\n                      onChange={(e) => setSessionFormData(prev => ({ ...prev, startTime: e.target.value }))}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"endTime\">End Time</Label>\r\n                    <Input\r\n                      id=\"endTime\"\r\n                      type=\"time\"\r\n                      value={sessionFormData.endTime}\r\n                      onChange={(e) => setSessionFormData(prev => ({ ...prev, endTime: e.target.value }))}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"sessionNotes\">Notes (Optional)</Label>\r\n                  <Textarea\r\n                    id=\"sessionNotes\"\r\n                    value={sessionFormData.notes}\r\n                    onChange={(e) => setSessionFormData(prev => ({ ...prev, notes: e.target.value }))}\r\n                    placeholder=\"Session notes or goals\"\r\n                    rows={3}\r\n                  />\r\n                </div>\r\n                <Button onClick={handleCreateSession} className=\"w-full bg-[#1C1A75] hover:bg-[#1C1A75]/90\">\r\n                  Schedule Session\r\n                </Button>\r\n              </div>\r\n            </DialogContent>\r\n          </Dialog>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Overview Cards */}\r\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Total Tasks</CardTitle>\r\n            <BookOpen className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{totalTasks}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Active study tasks\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Completed</CardTitle>\r\n            <CheckCircle className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-green-600\">{completedTasks}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {Math.round((completedTasks / totalTasks) * 100)}% completion rate\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">In Progress</CardTitle>\r\n            <Clock className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-blue-600\">{inProgressTasks}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Currently working on\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Overdue</CardTitle>\r\n            <AlertTriangle className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-red-600\">{overdueTasks}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Need attention\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Weekly Calendar View */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Weekly Study Schedule</CardTitle>\r\n          <CardDescription>\r\n            Week of {format(weekStart, 'MMMM d')} - {format(weekEnd, 'MMMM d, yyyy')}\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid grid-cols-7 gap-2\">\r\n            {weekDays.map((day) => {\r\n              const dayTasks = getTasksForDate(day);\r\n              const daySessions = getSessionsForDate(day);\r\n              const isToday = isSameDay(day, new Date());\r\n\r\n              return (\r\n                <div\r\n                  key={day.toISOString()}\r\n                  className={`min-h-32 p-2 border rounded-lg ${\r\n                    isToday ? 'border-[#1C1A75] bg-blue-50' : 'border-gray-200'\r\n                  }`}\r\n                >\r\n                  <div className=\"font-medium text-sm mb-2\">\r\n                    {format(day, 'EEE d')}\r\n                  </div>\r\n\r\n                  {/* Sessions for this day */}\r\n                  {daySessions.map((session) => (\r\n                    <div key={session.id} className=\"mb-2 p-2 bg-purple-100 rounded text-xs\">\r\n                      <div className=\"font-medium\">{session.startTime} - {session.endTime}</div>\r\n                      {session.notes && (\r\n                        <div className=\"text-gray-600 truncate\">{session.notes}</div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n\r\n                  {/* Tasks for this day */}\r\n                  {dayTasks.slice(0, 3).map((task) => (\r\n                    <div key={task.id} className=\"mb-1 p-1 bg-gray-100 rounded text-xs\">\r\n                      <div className=\"flex items-center gap-1\">\r\n                        {getStatusIcon(task.status)}\r\n                        <span className=\"truncate\">{task.title}</span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n\r\n                  {dayTasks.length > 3 && (\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      +{dayTasks.length - 3} more\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Tasks List */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Study Tasks</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-3\">\r\n            {tasks.map((task) => (\r\n              <div key={task.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <button\r\n                    onClick={() => updateTaskStatus(task.id, task.status === 'completed' ? 'pending' : 'completed')}\r\n                    className=\"text-gray-400 hover:text-green-500\"\r\n                  >\r\n                    {getStatusIcon(task.status)}\r\n                  </button>\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"font-medium\">{task.title}</h3>\r\n                    <p className=\"text-sm text-gray-600\">{task.description}</p>\r\n                    <div className=\"flex items-center gap-2 mt-1\">\r\n                      <Badge variant=\"outline\">{task.subject}</Badge>\r\n                      <Badge className={getPriorityColor(task.priority)}>\r\n                        {task.priority} priority\r\n                      </Badge>\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        Due: {format(task.dueDate, 'MMM d')}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    onClick={() => updateTaskStatus(task.id, 'in-progress')}\r\n                    disabled={task.status === 'completed'}\r\n                  >\r\n                    {task.status === 'in-progress' ? 'In Progress' : 'Start'}\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    onClick={() => deleteTask(task.id)}\r\n                    className=\"text-red-600 border-red-600 hover:bg-red-50\"\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n\r\n            {tasks.length === 0 && (\r\n              <div className=\"text-center py-8\">\r\n                <BookOpen className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No study tasks yet</h3>\r\n                <p className=\"text-gray-600\">Create your first study task to get organized.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\ThemeToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\Timeline.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\TimetableGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\VideoConference.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Phone' is defined but never used.","line":2,"column":40,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":45},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DialogTrigger' is defined but never used.","line":5,"column":60,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":73},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'roomId' is assigned a value but never used.","line":30,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":30,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isConnected' is assigned a value but never used.","line":35,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":35,"endColumn":21},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":91,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":91,"endColumn":20,"suggestions":[{"fix":{"range":[3298,3345],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":124,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":124,"endColumn":20,"suggestions":[{"fix":{"range":[4291,4338],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":183,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":183,"endColumn":22,"suggestions":[{"fix":{"range":[6000,6048],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":257,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":257,"endColumn":20,"suggestions":[{"fix":{"range":[8269,8322],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useRef } from 'react';\r\nimport { Video, VideoOff, Mic, MicOff, Phone, PhoneOff, Users, Settings, Share } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { isBrowser } from '@/lib/platform';\r\n\r\ninterface Participant {\r\n  id: string;\r\n  name: string;\r\n  avatar?: string;\r\n  isMuted: boolean;\r\n  isVideoOn: boolean;\r\n  isHost: boolean;\r\n}\r\n\r\ninterface VideoConferenceProps {\r\n  roomId?: string;\r\n  userName?: string;\r\n  userId?: string;\r\n  onClose?: () => void;\r\n}\r\n\r\nexport function VideoConference({\r\n  roomId = 'default-room',\r\n  userName = 'Anonymous User',\r\n  userId = 'anonymous',\r\n  onClose\r\n}: VideoConferenceProps) {\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [isVideoOn, setIsVideoOn] = useState(true);\r\n  const [isScreenSharing, setIsScreenSharing] = useState(false);\r\n  const [participants, setParticipants] = useState<Participant[]>([]);\r\n  const [meetingId, setMeetingId] = useState('');\r\n  const [meetingPassword, setMeetingPassword] = useState('');\r\n  const [isJoinDialogOpen, setIsJoinDialogOpen] = useState(true);\r\n  const [selectedCamera, setSelectedCamera] = useState('');\r\n  const [selectedMicrophone, setSelectedMicrophone] = useState('');\r\n  const [cameras, setCameras] = useState<MediaDeviceInfo[]>([]);\r\n  const [microphones, setMicrophones] = useState<MediaDeviceInfo[]>([]);\r\n\r\n  const localVideoRef = useRef<HTMLVideoElement>(null);\r\n  const remoteVideoRef = useRef<HTMLVideoElement>(null);\r\n  const streamRef = useRef<MediaStream | null>(null);\r\n\r\n  const { toast } = useToast();\r\n\r\n  useEffect(() => {\r\n    // Get available devices (only in browser)\r\n    if (isBrowser()) {\r\n      getDevices();\r\n    }\r\n\r\n    // Initialize current user as participant\r\n    setParticipants([{\r\n      id: userId,\r\n      name: userName,\r\n      isMuted: false,\r\n      isVideoOn: true,\r\n      isHost: true,\r\n    }]);\r\n\r\n    return () => {\r\n      // Cleanup\r\n      if (streamRef.current) {\r\n        streamRef.current.getTracks().forEach(track => track.stop());\r\n      }\r\n    };\r\n  }, [userId, userName]);\r\n\r\n  const getDevices = async () => {\r\n    if (!isBrowser()) return;\r\n    try {\r\n      const devices = await navigator.mediaDevices.enumerateDevices();\r\n      setCameras(devices.filter(device => device.kind === 'videoinput'));\r\n      setMicrophones(devices.filter(device => device.kind === 'audioinput'));\r\n\r\n      // Set defaults\r\n      const defaultCamera = devices.find(device => device.kind === 'videoinput');\r\n      const defaultMic = devices.find(device => device.kind === 'audioinput');\r\n\r\n      if (defaultCamera) setSelectedCamera(defaultCamera.deviceId);\r\n      if (defaultMic) setSelectedMicrophone(defaultMic.deviceId);\r\n    } catch (error) {\r\n      console.error('Error getting devices:', error);\r\n    }\r\n  };\r\n\r\n  const startLocalStream = async () => {\r\n    if (!isBrowser()) {\r\n      toast({\r\n        title: 'Unavailable',\r\n        description: 'Media devices are not available in this environment.',\r\n        variant: 'destructive',\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const constraints = {\r\n        video: isVideoOn ? { deviceId: selectedCamera ? { exact: selectedCamera } : undefined } : false,\r\n        audio: !isMuted ? { deviceId: selectedMicrophone ? { exact: selectedMicrophone } : undefined } : false,\r\n      };\r\n\r\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n      streamRef.current = stream;\r\n\r\n      if (localVideoRef.current) {\r\n        localVideoRef.current.srcObject = stream;\r\n      }\r\n\r\n      setIsConnected(true);\r\n      toast({\r\n        title: 'Connected to meeting',\r\n        description: 'You are now in the video conference.',\r\n      });\r\n    } catch (error) {\r\n      console.error('Error starting stream:', error);\r\n      toast({\r\n        title: 'Connection failed',\r\n        description: 'Unable to access camera or microphone.',\r\n        variant: 'destructive',\r\n      });\r\n    }\r\n  };\r\n\r\n  const stopLocalStream = () => {\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop());\r\n      streamRef.current = null;\r\n    }\r\n\r\n    if (localVideoRef.current) {\r\n      localVideoRef.current.srcObject = null;\r\n    }\r\n\r\n    setIsConnected(false);\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    if (streamRef.current) {\r\n      const audioTracks = streamRef.current.getAudioTracks();\r\n      audioTracks.forEach(track => {\r\n        track.enabled = isMuted;\r\n      });\r\n    }\r\n    setIsMuted(!isMuted);\r\n  };\r\n\r\n  const toggleVideo = async () => {\r\n    if (!isBrowser()) return;\r\n\r\n    if (!isVideoOn) {\r\n      // Turn video on\r\n      try {\r\n        const constraints = {\r\n          video: { deviceId: selectedCamera ? { exact: selectedCamera } : undefined }\r\n        };\r\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n        const videoTrack = stream.getVideoTracks()[0];\r\n\r\n        if (streamRef.current) {\r\n          const existingAudioTrack = streamRef.current.getAudioTracks()[0];\r\n          if (existingAudioTrack) {\r\n            streamRef.current.addTrack(videoTrack);\r\n          } else {\r\n            streamRef.current = new MediaStream([videoTrack]);\r\n          }\r\n        } else {\r\n          streamRef.current = new MediaStream([videoTrack]);\r\n        }\r\n\r\n        if (localVideoRef.current) {\r\n          localVideoRef.current.srcObject = streamRef.current;\r\n        }\r\n      } catch (error) {\r\n        console.error('Error turning video on:', error);\r\n        return;\r\n      }\r\n    } else {\r\n      // Turn video off\r\n      if (streamRef.current) {\r\n        const videoTracks = streamRef.current.getVideoTracks();\r\n        videoTracks.forEach(track => {\r\n          track.stop();\r\n          streamRef.current!.removeTrack(track);\r\n        });\r\n      }\r\n    }\r\n\r\n    setIsVideoOn(!isVideoOn);\r\n  };\r\n\r\n  const toggleScreenShare = async () => {\r\n    if (!isBrowser()) return;\r\n\r\n    try {\r\n      if (!isScreenSharing) {\r\n        const screenStream = await navigator.mediaDevices.getDisplayMedia({\r\n          video: true,\r\n          audio: false,\r\n        });\r\n\r\n        // Replace video track with screen share\r\n        if (streamRef.current) {\r\n          const videoTracks = streamRef.current.getVideoTracks();\r\n          videoTracks.forEach(track => {\r\n            streamRef.current!.removeTrack(track);\r\n            track.stop();\r\n          });\r\n\r\n          const screenTrack = screenStream.getVideoTracks()[0];\r\n          streamRef.current.addTrack(screenTrack);\r\n\r\n          if (localVideoRef.current) {\r\n            localVideoRef.current.srcObject = streamRef.current;\r\n          }\r\n        }\r\n\r\n        setIsScreenSharing(true);\r\n        toast({\r\n          title: \"Screen sharing started\",\r\n          description: \"Others can now see your screen.\",\r\n        });\r\n      } else {\r\n        // Stop screen sharing and restore camera\r\n        if (streamRef.current) {\r\n          const screenTracks = streamRef.current.getVideoTracks();\r\n          screenTracks.forEach(track => {\r\n            streamRef.current!.removeTrack(track);\r\n            track.stop();\r\n          });\r\n\r\n          // Try to restore camera\r\n          if (isVideoOn) {\r\n            const cameraStream = await navigator.mediaDevices.getUserMedia({\r\n              video: { deviceId: selectedCamera ? { exact: selectedCamera } : undefined }\r\n            });\r\n            const cameraTrack = cameraStream.getVideoTracks()[0];\r\n            streamRef.current.addTrack(cameraTrack);\r\n          }\r\n        }\r\n\r\n        setIsScreenSharing(false);\r\n        toast({\r\n          title: \"Screen sharing stopped\",\r\n          description: \"Returned to camera view.\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error toggling screen share:', error);\r\n      toast({\r\n        title: \"Screen sharing failed\",\r\n        description: \"Unable to share screen.\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const joinMeeting = () => {\r\n    if (meetingId.trim()) {\r\n      setIsJoinDialogOpen(false);\r\n      startLocalStream();\r\n    }\r\n  };\r\n\r\n  const leaveMeeting = () => {\r\n    stopLocalStream();\r\n    onClose?.();\r\n  };\r\n\r\n  if (isJoinDialogOpen) {\r\n    return (\r\n      <Dialog open={isJoinDialogOpen} onOpenChange={setIsJoinDialogOpen}>\r\n        <DialogContent className=\"sm:max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle>Join Video Conference</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <Label htmlFor=\"meetingId\">Meeting ID</Label>\r\n              <Input\r\n                id=\"meetingId\"\r\n                value={meetingId}\r\n                onChange={(e) => setMeetingId(e.target.value)}\r\n                placeholder=\"Enter meeting ID\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"meetingPassword\">Password (Optional)</Label>\r\n              <Input\r\n                id=\"meetingPassword\"\r\n                type=\"password\"\r\n                value={meetingPassword}\r\n                onChange={(e) => setMeetingPassword(e.target.value)}\r\n                placeholder=\"Enter meeting password\"\r\n              />\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <Label>Camera</Label>\r\n                <Select value={selectedCamera} onValueChange={setSelectedCamera}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select camera\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {cameras.map((camera) => (\r\n                      <SelectItem key={camera.deviceId} value={camera.deviceId}>\r\n                        {camera.label || `Camera ${camera.deviceId.slice(0, 8)}`}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div>\r\n                <Label>Microphone</Label>\r\n                <Select value={selectedMicrophone} onValueChange={setSelectedMicrophone}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Select microphone\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {microphones.map((mic) => (\r\n                      <SelectItem key={mic.deviceId} value={mic.deviceId}>\r\n                        {mic.label || `Microphone ${mic.deviceId.slice(0, 8)}`}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n            <Button onClick={joinMeeting} className=\"w-full\" disabled={!meetingId.trim()}>\r\n              Join Meeting\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black z-50 flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between p-4 bg-gray-900 text-white\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <h2 className=\"text-lg font-semibold\">Video Conference</h2>\r\n          <Badge variant=\"secondary\">{participants.length} participants</Badge>\r\n        </div>\r\n        <Button variant=\"ghost\" size=\"sm\" onClick={leaveMeeting}>\r\n          <PhoneOff className=\"h-4 w-4 mr-2\" />\r\n          Leave\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Video Area */}\r\n      <div className=\"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4 p-4\">\r\n        {/* Local Video */}\r\n        <Card className=\"relative\">\r\n          <CardContent className=\"p-0\">\r\n            <video\r\n              ref={localVideoRef}\r\n              autoPlay\r\n              muted\r\n              playsInline\r\n              className=\"w-full h-64 bg-gray-900 rounded-lg object-cover\"\r\n            />\r\n            <div className=\"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm\">\r\n              {userName} (You)\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Remote Video or Placeholder */}\r\n        <Card className=\"relative\">\r\n          <CardContent className=\"p-0\">\r\n            {participants.length > 1 ? (\r\n              <video\r\n                ref={remoteVideoRef}\r\n                autoPlay\r\n                playsInline\r\n                className=\"w-full h-64 bg-gray-900 rounded-lg object-cover\"\r\n              />\r\n            ) : (\r\n              <div className=\"w-full h-64 bg-gray-900 rounded-lg flex items-center justify-center\">\r\n                <div className=\"text-center text-gray-400\">\r\n                  <Users className=\"h-12 w-12 mx-auto mb-2\" />\r\n                  <p>Waiting for others to join...</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div className=\"flex items-center justify-center gap-4 p-4 bg-gray-900\">\r\n        <Button\r\n          variant={isMuted ? \"destructive\" : \"secondary\"}\r\n          size=\"lg\"\r\n          onClick={toggleMute}\r\n          className=\"rounded-full w-12 h-12 p-0\"\r\n        >\r\n          {isMuted ? <MicOff className=\"h-5 w-5\" /> : <Mic className=\"h-5 w-5\" />}\r\n        </Button>\r\n\r\n        <Button\r\n          variant={isVideoOn ? \"secondary\" : \"destructive\"}\r\n          size=\"lg\"\r\n          onClick={toggleVideo}\r\n          className=\"rounded-full w-12 h-12 p-0\"\r\n        >\r\n          {isVideoOn ? <Video className=\"h-5 w-5\" /> : <VideoOff className=\"h-5 w-5\" />}\r\n        </Button>\r\n\r\n        <Button\r\n          variant={isScreenSharing ? \"default\" : \"secondary\"}\r\n          size=\"lg\"\r\n          onClick={toggleScreenShare}\r\n          className=\"rounded-full w-12 h-12 p-0\"\r\n        >\r\n          <Share className=\"h-5 w-5\" />\r\n        </Button>\r\n\r\n        <Button\r\n          variant=\"secondary\"\r\n          size=\"lg\"\r\n          className=\"rounded-full w-12 h-12 p-0\"\r\n        >\r\n          <Settings className=\"h-5 w-5\" />\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Participants List */}\r\n      <div className=\"absolute top-16 right-4\">\r\n        <Card className=\"w-64\">\r\n          <CardHeader className=\"pb-2\">\r\n            <CardTitle className=\"text-sm\">Participants ({participants.length})</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            {participants.map((participant) => (\r\n              <div key={participant.id} className=\"flex items-center gap-2\">\r\n                <div className=\"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-sm font-medium\">\r\n                  {participant.name.charAt(0).toUpperCase()}\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <p className=\"text-sm font-medium\">{participant.name}</p>\r\n                  <div className=\"flex gap-1\">\r\n                    {participant.isMuted && <MicOff className=\"h-3 w-3 text-red-500\" />}\r\n                    {!participant.isVideoOn && <VideoOff className=\"h-3 w-3 text-red-500\" />}\r\n                    {participant.isHost && <Badge variant=\"secondary\" className=\"text-xs\">Host</Badge>}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\VideoConferenceButton.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":4,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { Video, X } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Dialog, DialogContent, DialogTrigger } from '@/components/ui/dialog';\r\nimport { VideoConference } from './VideoConference';\r\n\r\nexport function VideoConferenceButton() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button\r\n          className=\"fixed bottom-20 right-4 rounded-full w-14 h-14 bg-[#1C1A75] hover:bg-[#1C1A75]/90 shadow-lg z-40\"\r\n          size=\"lg\"\r\n        >\r\n          <Video className=\"h-6 w-6\" />\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent className=\"max-w-full h-full p-0 border-0\">\r\n        <VideoConference\r\n          onClose={() => setIsOpen(false)}\r\n        />\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\VirtualizedList.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Card' is defined but never used.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardContent' is defined but never used.","line":2,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Skeleton' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\n\r\ninterface VirtualizedListProps<T> {\r\n  items: T[];\r\n  itemHeight: number;\r\n  containerHeight: number;\r\n  renderItem: (item: T, index: number) => React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nfunction VirtualizedList<T>({\r\n  items,\r\n  itemHeight,\r\n  containerHeight,\r\n  renderItem,\r\n  className = '',\r\n}: VirtualizedListProps<T>) {\r\n  const visibleItems = Math.floor(containerHeight / itemHeight) + 2; // Add buffer\r\n  const startIndex = 0; // For now, show all items. In a real implementation, you'd track scroll position\r\n\r\n  return (\r\n    <div\r\n      className={`overflow-auto ${className}`}\r\n      style={{ height: containerHeight }}\r\n    >\r\n      <div style={{ height: items.length * itemHeight }}>\r\n        {items.slice(startIndex, startIndex + visibleItems).map((item, index) => (\r\n          <div\r\n            key={startIndex + index}\r\n            style={{\r\n              height: itemHeight,\r\n              transform: `translateY(${(startIndex + index) * itemHeight}px)`,\r\n            }}\r\n            className=\"absolute w-full p-4\"\r\n          >\r\n            {renderItem(item, startIndex + index)}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Simple virtualized list for demonstration - in production, use react-window\r\nexport default VirtualizedList;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\accordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\alert-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\aspect-ratio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\badge-new.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\breadcrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\calendar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_props' is defined but never used.","line":55,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":55,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_props' is defined but never used.","line":56,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":56,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\r\nimport { DayPicker } from \"react-day-picker\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { buttonVariants } from \"@/components/ui/button\";\r\n\r\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>;\r\n\r\nfunction Calendar({\r\n  className,\r\n  classNames,\r\n  showOutsideDays = true,\r\n  ...props\r\n}: CalendarProps) {\r\n  return (\r\n    <DayPicker\r\n      showOutsideDays={showOutsideDays}\r\n      className={cn(\"p-3\", className)}\r\n      classNames={{\r\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\r\n        month: \"space-y-4\",\r\n        caption: \"flex justify-center pt-1 relative items-center\",\r\n        caption_label: \"text-sm font-medium text-foreground\",\r\n        nav: \"space-x-1 flex items-center\",\r\n        nav_button: cn(\r\n          buttonVariants({ variant: \"outline\", size: \"sm\" }),\r\n          \"h-7 w-7 bg-transparent p-0 opacity-70 hover:opacity-100 transition-opacity\"\r\n        ),\r\n        nav_button_previous: \"absolute left-1\",\r\n        nav_button_next: \"absolute right-1\",\r\n        table: \"w-full border-collapse space-y-1\",\r\n        head_row: \"flex\",\r\n        head_cell:\r\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\r\n        row: \"flex w-full mt-2\",\r\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\r\n        day: cn(\r\n          buttonVariants({ variant: \"ghost\", size: \"sm\" }),\r\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100 hover:text-accent-foreground\"\r\n        ),\r\n        day_range_end: \"day-range-end\",\r\n        day_selected:\r\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground rounded-md transition-colors\",\r\n        day_today: \"bg-accent/50 text-accent-foreground rounded-md\",\r\n        day_outside:\r\n          \"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/30 aria-selected:text-muted-foreground aria-selected:opacity-40\",\r\n        day_disabled: \"text-muted-foreground opacity-50\",\r\n        day_range_middle:\r\n          \"aria-selected:bg-accent/60 aria-selected:text-accent-foreground rounded-none\",\r\n        day_hidden: \"invisible\",\r\n        ...classNames,\r\n      }}\r\n      components={{\r\n        IconLeft: ({ ..._props }) => <ChevronLeft className=\"h-4 w-4\" />,\r\n        IconRight: ({ ..._props }) => <ChevronRight className=\"h-4 w-4\" />,\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nCalendar.displayName = \"Calendar\";\r\n\r\nexport { Calendar };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\carousel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\chart.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is defined but never used.","line":70,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":70,"endColumn":8}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\r\nimport * as RechartsPrimitive from \"recharts\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\n// Format: { THEME_NAME: CSS_SELECTOR }\r\nconst THEMES = { light: \"\", dark: \".dark\" } as const\r\n\r\nexport type ChartConfig = {\r\n  [k in string]: {\r\n    label?: React.ReactNode\r\n    icon?: React.ComponentType\r\n  } & (\r\n    | { color?: string; theme?: never }\r\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\r\n  )\r\n}\r\n\r\ntype ChartContextProps = {\r\n  config: ChartConfig\r\n}\r\n\r\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\r\n\r\nfunction useChart() {\r\n  const context = React.useContext(ChartContext)\r\n\r\n  if (!context) {\r\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\r\n  }\r\n\r\n  return context\r\n}\r\n\r\nconst ChartContainer = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\"> & {\r\n    config: ChartConfig\r\n    children: React.ComponentProps<\r\n      typeof RechartsPrimitive.ResponsiveContainer\r\n    >[\"children\"]\r\n  }\r\n>(({ id, className, children, config, ...props }, ref) => {\r\n  const uniqueId = React.useId()\r\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\r\n\r\n  return (\r\n    <ChartContext.Provider value={{ config }}>\r\n      <div\r\n        data-chart={chartId}\r\n        ref={ref}\r\n        className={cn(\r\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/40 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border/60 [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border/40 [&_.recharts-radial-bar-background-sector]:fill-muted/50 [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted/80 [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border/40 [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        <ChartStyle id={chartId} config={config} />\r\n        <RechartsPrimitive.ResponsiveContainer>\r\n          {children}\r\n        </RechartsPrimitive.ResponsiveContainer>\r\n      </div>\r\n    </ChartContext.Provider>\r\n  )\r\n})\r\nChartContainer.displayName = \"Chart\"\r\n\r\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\r\n  const colorConfig = Object.entries(config).filter(\r\n    ([_, config]) => config.theme || config.color\r\n  )\r\n\r\n  if (!colorConfig.length) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <style\r\n      dangerouslySetInnerHTML={{\r\n        __html: Object.entries(THEMES)\r\n          .map(\r\n            ([theme, prefix]) => `\r\n${prefix} [data-chart=${id}] {\r\n${colorConfig\r\n  .map(([key, itemConfig]) => {\r\n    const color =\r\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\r\n      itemConfig.color\r\n    return color ? `  --color-${key}: ${color};` : null\r\n  })\r\n  .join(\"\\n\")}\r\n}\r\n`\r\n          )\r\n          .join(\"\\n\"),\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\nconst ChartTooltip = RechartsPrimitive.Tooltip\r\n\r\nconst ChartTooltipContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\r\n    React.ComponentProps<\"div\"> & {\r\n      hideLabel?: boolean\r\n      hideIndicator?: boolean\r\n      indicator?: \"line\" | \"dot\" | \"dashed\"\r\n      nameKey?: string\r\n      labelKey?: string\r\n    }\r\n>(\r\n  (\r\n    {\r\n      active,\r\n      payload,\r\n      className,\r\n      indicator = \"dot\",\r\n      hideLabel = false,\r\n      hideIndicator = false,\r\n      label,\r\n      labelFormatter,\r\n      labelClassName,\r\n      formatter,\r\n      color,\r\n      nameKey,\r\n      labelKey,\r\n    },\r\n    ref\r\n  ) => {\r\n    const { config } = useChart()\r\n\r\n    const tooltipLabel = React.useMemo(() => {\r\n      if (hideLabel || !payload?.length) {\r\n        return null\r\n      }\r\n\r\n      const [item] = payload\r\n      const key = `${labelKey || item.dataKey || item.name || \"value\"}`\r\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\r\n      const value =\r\n        !labelKey && typeof label === \"string\"\r\n          ? config[label as keyof typeof config]?.label || label\r\n          : itemConfig?.label\r\n\r\n      if (labelFormatter) {\r\n        return (\r\n          <div className={cn(\"font-medium\", labelClassName)}>\r\n            {labelFormatter(value, payload)}\r\n          </div>\r\n        )\r\n      }\r\n\r\n      if (!value) {\r\n        return null\r\n      }\r\n\r\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\r\n    }, [\r\n      label,\r\n      labelFormatter,\r\n      payload,\r\n      hideLabel,\r\n      labelClassName,\r\n      config,\r\n      labelKey,\r\n    ])\r\n\r\n    if (!active || !payload?.length) {\r\n      return null\r\n    }\r\n\r\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\r\n\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={cn(\r\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background/95 backdrop-blur-sm px-2.5 py-1.5 text-xs shadow-xl\",\r\n          className\r\n        )}\r\n      >\r\n        {!nestLabel ? tooltipLabel : null}\r\n        <div className=\"grid gap-1.5\">\r\n          {payload.map((item, index) => {\r\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\r\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\r\n            const indicatorColor = color || item.payload.fill || item.color\r\n\r\n            return (\r\n              <div\r\n                key={item.dataKey}\r\n                className={cn(\r\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\r\n                  indicator === \"dot\" && \"items-center\"\r\n                )}\r\n              >\r\n                {formatter && item?.value !== undefined && item.name ? (\r\n                  formatter(item.value, item.name, item, index, item.payload)\r\n                ) : (\r\n                  <>\r\n                    {itemConfig?.icon ? (\r\n                      <itemConfig.icon />\r\n                    ) : (\r\n                      !hideIndicator && (\r\n                        <div\r\n                          className={cn(\r\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\r\n                            {\r\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\r\n                              \"w-1\": indicator === \"line\",\r\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\r\n                                indicator === \"dashed\",\r\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\r\n                            }\r\n                          )}\r\n                          style={\r\n                            {\r\n                              \"--color-bg\": indicatorColor,\r\n                              \"--color-border\": indicatorColor,\r\n                            } as React.CSSProperties\r\n                          }\r\n                        />\r\n                      )\r\n                    )}\r\n                    <div\r\n                      className={cn(\r\n                        \"flex flex-1 justify-between leading-none\",\r\n                        nestLabel ? \"items-end\" : \"items-center\"\r\n                      )}\r\n                    >\r\n                      <div className=\"grid gap-1.5\">\r\n                        {nestLabel ? tooltipLabel : null}\r\n                        <span className=\"text-muted-foreground\">\r\n                          {itemConfig?.label || item.name}\r\n                        </span>\r\n                      </div>\r\n                      {item.value && (\r\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\r\n                          {item.value.toLocaleString()}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n)\r\nChartTooltipContent.displayName = \"ChartTooltip\"\r\n\r\nconst ChartLegend = RechartsPrimitive.Legend\r\n\r\nconst ChartLegendContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\"> &\r\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\r\n      hideIcon?: boolean\r\n      nameKey?: string\r\n    }\r\n>(\r\n  (\r\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\r\n    ref\r\n  ) => {\r\n    const { config } = useChart()\r\n\r\n    if (!payload?.length) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={cn(\r\n          \"flex items-center justify-center gap-4\",\r\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\r\n          className\r\n        )}\r\n      >\r\n        {payload.map((item) => {\r\n          const key = `${nameKey || item.dataKey || \"value\"}`\r\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\r\n\r\n          return (\r\n            <div\r\n              key={item.value}\r\n              className={cn(\r\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\r\n              )}\r\n            >\r\n              {itemConfig?.icon && !hideIcon ? (\r\n                <itemConfig.icon />\r\n              ) : (\r\n                <div\r\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\r\n                  style={{\r\n                    backgroundColor: item.color,\r\n                  }}\r\n                />\r\n              )}\r\n              {itemConfig?.label}\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n)\r\nChartLegendContent.displayName = \"ChartLegend\"\r\n\r\n// Helper to extract item config from a payload.\r\nfunction getPayloadConfigFromPayload(\r\n  config: ChartConfig,\r\n  payload: unknown,\r\n  key: string\r\n) {\r\n  if (typeof payload !== \"object\" || payload === null) {\r\n    return undefined\r\n  }\r\n\r\n  const payloadPayload =\r\n    \"payload\" in payload &&\r\n    typeof payload.payload === \"object\" &&\r\n    payload.payload !== null\r\n      ? payload.payload\r\n      : undefined\r\n\r\n  let configLabelKey: string = key\r\n\r\n  if (\r\n    key in payload &&\r\n    typeof payload[key as keyof typeof payload] === \"string\"\r\n  ) {\r\n    configLabelKey = payload[key as keyof typeof payload] as string\r\n  } else if (\r\n    payloadPayload &&\r\n    key in payloadPayload &&\r\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\r\n  ) {\r\n    configLabelKey = payloadPayload[\r\n      key as keyof typeof payloadPayload\r\n    ] as string\r\n  }\r\n\r\n  return configLabelKey in config\r\n    ? config[configLabelKey]\r\n    : config[key as keyof typeof config]\r\n}\r\n\r\nexport {\r\n  ChartContainer,\r\n  ChartTooltip,\r\n  ChartTooltipContent,\r\n  ChartLegend,\r\n  ChartLegendContent,\r\n  ChartStyle,\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\collapsible.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\command.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\context-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\drawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\hover-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\input-otp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\input.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":5,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":5,"endColumn":28,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[77,156],"text":"type InputProps = React.InputHTMLAttributes<HTMLInputElement>"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> { }\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = 'Input'\r\n\r\nexport { Input }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\material-icon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\menubar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\navigation-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\pagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\radio-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\resizable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\sidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Sheet' is defined but never used.","line":11,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SheetContent' is defined but never used.","line":11,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SIDEBAR_WIDTH_MOBILE' is assigned a value but never used.","line":23,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { VariantProps, cva } from \"class-variance-authority\"\r\nimport { PanelLeft } from \"lucide-react\"\r\n\r\nimport { useIsMobile } from \"@/hooks/use-mobile\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Separator } from \"@/components/ui/separator\"\r\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\"\r\nimport { Skeleton } from \"@/components/ui/skeleton\"\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\"\r\n\r\nconst SIDEBAR_COOKIE_NAME = \"sidebar:state\"\r\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\r\nconst SIDEBAR_WIDTH = \"16rem\"\r\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\r\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\r\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\r\n\r\ntype SidebarContext = {\r\n  state: \"expanded\" | \"collapsed\"\r\n  open: boolean\r\n  setOpen: (open: boolean) => void\r\n  openMobile: boolean\r\n  setOpenMobile: (open: boolean) => void\r\n  isMobile: boolean\r\n  toggleSidebar: () => void\r\n}\r\n\r\nconst SidebarContext = React.createContext<SidebarContext | null>(null)\r\n\r\nfunction useSidebar() {\r\n  const context = React.useContext(SidebarContext)\r\n  if (!context) {\r\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\r\n  }\r\n\r\n  return context\r\n}\r\n\r\nconst SidebarProvider = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\"> & {\r\n    defaultOpen?: boolean\r\n    open?: boolean\r\n    onOpenChange?: (open: boolean) => void\r\n  }\r\n>(\r\n  (\r\n    {\r\n      defaultOpen = true,\r\n      open: openProp,\r\n      onOpenChange: setOpenProp,\r\n      className,\r\n      style,\r\n      children,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const isMobile = useIsMobile()\r\n    const [openMobile, setOpenMobile] = React.useState(false)\r\n\r\n    // This is the internal state of the sidebar.\r\n    // We use openProp and setOpenProp for control from outside the component.\r\n    const [_open, _setOpen] = React.useState(defaultOpen)\r\n    const open = openProp ?? _open\r\n    const setOpen = React.useCallback(\r\n      (value: boolean | ((value: boolean) => boolean)) => {\r\n        const openState = typeof value === \"function\" ? value(open) : value\r\n        if (setOpenProp) {\r\n          setOpenProp(openState)\r\n        } else {\r\n          _setOpen(openState)\r\n        }\r\n\r\n        // This sets the cookie to keep the sidebar state.\r\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\r\n      },\r\n      [setOpenProp, open]\r\n    )\r\n\r\n    // Helper to toggle the sidebar.\r\n    const toggleSidebar = React.useCallback(() => {\r\n      return isMobile\r\n        ? setOpenMobile((open) => !open)\r\n        : setOpen((open) => !open)\r\n    }, [isMobile, setOpen, setOpenMobile])\r\n\r\n    // Adds a keyboard shortcut to toggle the sidebar.\r\n    React.useEffect(() => {\r\n      const handleKeyDown = (event: KeyboardEvent) => {\r\n        if (\r\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\r\n          (event.metaKey || event.ctrlKey)\r\n        ) {\r\n          event.preventDefault()\r\n          toggleSidebar()\r\n        }\r\n      }\r\n\r\n      window.addEventListener(\"keydown\", handleKeyDown)\r\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\r\n    }, [toggleSidebar])\r\n\r\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\r\n    // This makes it easier to style the sidebar with Tailwind classes.\r\n    const state = open ? \"expanded\" : \"collapsed\"\r\n\r\n    const contextValue = React.useMemo<SidebarContext>(\r\n      () => ({\r\n        state,\r\n        open,\r\n        setOpen,\r\n        isMobile,\r\n        openMobile,\r\n        setOpenMobile,\r\n        toggleSidebar,\r\n      }),\r\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\r\n    )\r\n\r\n    return (\r\n      <SidebarContext.Provider value={contextValue}>\r\n        <TooltipProvider delayDuration={0}>\r\n          <div\r\n            style={\r\n              {\r\n                \"--sidebar-width\": SIDEBAR_WIDTH,\r\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\r\n                ...style,\r\n              } as React.CSSProperties\r\n            }\r\n            className={cn(\r\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\r\n              className\r\n            )}\r\n            ref={ref}\r\n            {...props}\r\n          >\r\n            {children}\r\n          </div>\r\n        </TooltipProvider>\r\n      </SidebarContext.Provider>\r\n    )\r\n  }\r\n)\r\nSidebarProvider.displayName = \"SidebarProvider\"\r\n\r\nconst sidebarVariants = cva(\r\n  \"h-full bg-background/80 backdrop-blur-sm border-r border-border/40 shadow-sm\",\r\n  {\r\n    variants: {\r\n      size: {\r\n        sm: \"w-16\",\r\n        md: \"w-64\",\r\n        lg: \"w-80\",\r\n      },\r\n      collapsible: {\r\n        true: \"transition-all duration-300 ease-in-out\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      size: \"md\",\r\n    },\r\n  }\r\n)\r\n\r\ninterface SidebarProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof sidebarVariants> {\r\n  collapsed?: boolean\r\n}\r\n\r\nconst Sidebar = React.forwardRef<HTMLDivElement, SidebarProps>(\r\n  (\r\n    { className, size, collapsible, collapsed = false, children, ...props },\r\n    ref\r\n  ) => {\r\n    const actualSize = collapsed ? \"sm\" : size\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={cn(sidebarVariants({ size: actualSize, collapsible }), className)}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    )\r\n  }\r\n)\r\nSidebar.displayName = \"Sidebar\"\r\n\r\nconst SidebarHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"p-4 border-b border-border/40\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSidebarHeader.displayName = \"SidebarHeader\"\r\n\r\nconst SidebarFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"p-4 border-t border-border/40 mt-auto\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSidebarFooter.displayName = \"SidebarFooter\"\r\n\r\nconst SidebarContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"flex flex-col flex-1 p-2\", className)} {...props} />\r\n))\r\nSidebarContent.displayName = \"SidebarContent\"\r\n\r\nconst SidebarNav = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <nav\r\n    ref={ref}\r\n    className={cn(\"flex flex-col gap-1\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSidebarNav.displayName = \"SidebarNav\"\r\n\r\nconst SidebarNavItem = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement> & { active?: boolean }\r\n>(({ className, active, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex items-center px-3 py-2 rounded-md text-sm text-foreground/80 hover:text-foreground hover:bg-accent/50 transition-colors cursor-pointer\",\r\n      active && \"bg-accent/60 text-primary font-medium\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nSidebarNavItem.displayName = \"SidebarNavItem\"\r\n\r\nconst SidebarSection = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"mb-2\", className)} {...props} />\r\n))\r\nSidebarSection.displayName = \"SidebarSection\"\r\n\r\nconst SidebarSectionTitle = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-xs uppercase font-medium text-muted-foreground/70 tracking-wider px-3 py-1\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSidebarSectionTitle.displayName = \"SidebarSectionTitle\"\r\n\r\nconst SidebarTrigger = React.forwardRef<\r\n  React.ElementRef<typeof Button>,\r\n  React.ComponentProps<typeof Button>\r\n>(({ className, onClick, ...props }, ref) => {\r\n  const { toggleSidebar } = useSidebar()\r\n\r\n  return (\r\n    <Button\r\n      ref={ref}\r\n      data-sidebar=\"trigger\"\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      className={cn(\"h-7 w-7\", className)}\r\n      onClick={(event) => {\r\n        onClick?.(event)\r\n        toggleSidebar()\r\n      }}\r\n      {...props}\r\n    >\r\n      <PanelLeft />\r\n      <span className=\"sr-only\">Toggle Sidebar</span>\r\n    </Button>\r\n  )\r\n})\r\nSidebarTrigger.displayName = \"SidebarTrigger\"\r\n\r\nconst SidebarRail = React.forwardRef<\r\n  HTMLButtonElement,\r\n  React.ComponentProps<\"button\">\r\n>(({ className, ...props }, ref) => {\r\n  const { toggleSidebar } = useSidebar()\r\n\r\n  return (\r\n    <button\r\n      ref={ref}\r\n      data-sidebar=\"rail\"\r\n      aria-label=\"Toggle Sidebar\"\r\n      tabIndex={-1}\r\n      onClick={toggleSidebar}\r\n      title=\"Toggle Sidebar\"\r\n      className={cn(\r\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\r\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\r\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\r\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\r\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\r\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nSidebarRail.displayName = \"SidebarRail\"\r\n\r\nconst SidebarInset = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"main\">\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <main\r\n      ref={ref}\r\n      className={cn(\r\n        \"relative flex min-h-svh flex-1 flex-col bg-background\",\r\n        \"peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nSidebarInset.displayName = \"SidebarInset\"\r\n\r\nconst SidebarInput = React.forwardRef<\r\n  React.ElementRef<typeof Input>,\r\n  React.ComponentProps<typeof Input>\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <Input\r\n      ref={ref}\r\n      data-sidebar=\"input\"\r\n      className={cn(\r\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nSidebarInput.displayName = \"SidebarInput\"\r\n\r\nconst SidebarSeparator = React.forwardRef<\r\n  React.ElementRef<typeof Separator>,\r\n  React.ComponentProps<typeof Separator>\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <Separator\r\n      ref={ref}\r\n      data-sidebar=\"separator\"\r\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nSidebarSeparator.displayName = \"SidebarSeparator\"\r\n\r\nconst SidebarGroup = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\">\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      data-sidebar=\"group\"\r\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nSidebarGroup.displayName = \"SidebarGroup\"\r\n\r\nconst SidebarGroupLabel = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\r\n>(({ className, asChild = false, ...props }, ref) => {\r\n  const Comp = asChild ? Slot : \"div\"\r\n\r\n  return (\r\n    <Comp\r\n      ref={ref}\r\n      data-sidebar=\"group-label\"\r\n      className={cn(\r\n        \"duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\r\n\r\nconst SidebarGroupAction = React.forwardRef<\r\n  HTMLButtonElement,\r\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\r\n>(({ className, asChild = false, ...props }, ref) => {\r\n  const Comp = asChild ? Slot : \"button\"\r\n\r\n  return (\r\n    <Comp\r\n      ref={ref}\r\n      data-sidebar=\"group-action\"\r\n      className={cn(\r\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        // Increases the hit area of the button on mobile.\r\n        \"after:absolute after:-inset-2 after:md:hidden\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\r\n\r\nconst SidebarGroupContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\">\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    data-sidebar=\"group-content\"\r\n    className={cn(\"w-full text-sm\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\r\n\r\nconst SidebarMenu = React.forwardRef<\r\n  HTMLUListElement,\r\n  React.ComponentProps<\"ul\">\r\n>(({ className, ...props }, ref) => (\r\n  <ul\r\n    ref={ref}\r\n    data-sidebar=\"menu\"\r\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSidebarMenu.displayName = \"SidebarMenu\"\r\n\r\nconst SidebarMenuItem = React.forwardRef<\r\n  HTMLLIElement,\r\n  React.ComponentProps<\"li\">\r\n>(({ className, ...props }, ref) => (\r\n  <li\r\n    ref={ref}\r\n    data-sidebar=\"menu-item\"\r\n    className={cn(\"group/menu-item relative\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\r\n\r\nconst sidebarMenuButtonVariants = cva(\r\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\r\n        outline:\r\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\r\n      },\r\n      size: {\r\n        default: \"h-8 text-sm\",\r\n        sm: \"h-7 text-xs\",\r\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nconst SidebarMenuButton = React.forwardRef<\r\n  HTMLButtonElement,\r\n  React.ComponentProps<\"button\"> & {\r\n    asChild?: boolean\r\n    isActive?: boolean\r\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\r\n  } & VariantProps<typeof sidebarMenuButtonVariants>\r\n>(\r\n  (\r\n    {\r\n      asChild = false,\r\n      isActive = false,\r\n      variant = \"default\",\r\n      size = \"default\",\r\n      tooltip,\r\n      className,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    const { isMobile, state } = useSidebar()\r\n\r\n    const button = (\r\n      <Comp\r\n        ref={ref}\r\n        data-sidebar=\"menu-button\"\r\n        data-size={size}\r\n        data-active={isActive}\r\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\r\n        {...props}\r\n      />\r\n    )\r\n\r\n    if (!tooltip) {\r\n      return button\r\n    }\r\n\r\n    if (typeof tooltip === \"string\") {\r\n      tooltip = {\r\n        children: tooltip,\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Tooltip>\r\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\r\n        <TooltipContent\r\n          side=\"right\"\r\n          align=\"center\"\r\n          hidden={state !== \"collapsed\" || isMobile}\r\n          {...tooltip}\r\n        />\r\n      </Tooltip>\r\n    )\r\n  }\r\n)\r\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\r\n\r\nconst SidebarMenuAction = React.forwardRef<\r\n  HTMLButtonElement,\r\n  React.ComponentProps<\"button\"> & {\r\n    asChild?: boolean\r\n    showOnHover?: boolean\r\n  }\r\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\r\n  const Comp = asChild ? Slot : \"button\"\r\n\r\n  return (\r\n    <Comp\r\n      ref={ref}\r\n      data-sidebar=\"menu-action\"\r\n      className={cn(\r\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        // Increases the hit area of the button on mobile.\r\n        \"after:absolute after:-inset-2 after:md:hidden\",\r\n        \"peer-data-[size=sm]/menu-button:top-1\",\r\n        \"peer-data-[size=default]/menu-button:top-1.5\",\r\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        showOnHover &&\r\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\r\n\r\nconst SidebarMenuBadge = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\">\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    data-sidebar=\"menu-badge\"\r\n    className={cn(\r\n      \"absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none\",\r\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\r\n      \"peer-data-[size=sm]/menu-button:top-1\",\r\n      \"peer-data-[size=default]/menu-button:top-1.5\",\r\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\r\n      \"group-data-[collapsible=icon]:hidden\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\r\n\r\nconst SidebarMenuSkeleton = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.ComponentProps<\"div\"> & {\r\n    showIcon?: boolean\r\n  }\r\n>(({ className, showIcon = false, ...props }, ref) => {\r\n  // Random width between 50 to 90%.\r\n  const width = React.useMemo(() => {\r\n    return `${Math.floor(Math.random() * 40) + 50}%`\r\n  }, [])\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      data-sidebar=\"menu-skeleton\"\r\n      className={cn(\"rounded-md h-8 flex gap-2 px-2 items-center\", className)}\r\n      {...props}\r\n    >\r\n      {showIcon && (\r\n        <Skeleton\r\n          className=\"size-4 rounded-md\"\r\n          data-sidebar=\"menu-skeleton-icon\"\r\n        />\r\n      )}\r\n      <Skeleton\r\n        className=\"h-4 flex-1 max-w-[--skeleton-width]\"\r\n        data-sidebar=\"menu-skeleton-text\"\r\n        style={\r\n          {\r\n            \"--skeleton-width\": width,\r\n          } as React.CSSProperties\r\n        }\r\n      />\r\n    </div>\r\n  )\r\n})\r\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\r\n\r\nconst SidebarMenuSub = React.forwardRef<\r\n  HTMLUListElement,\r\n  React.ComponentProps<\"ul\">\r\n>(({ className, ...props }, ref) => (\r\n  <ul\r\n    ref={ref}\r\n    data-sidebar=\"menu-sub\"\r\n    className={cn(\r\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\r\n      \"group-data-[collapsible=icon]:hidden\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\r\n\r\nconst SidebarMenuSubItem = React.forwardRef<\r\n  HTMLLIElement,\r\n  React.ComponentProps<\"li\">\r\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\r\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\r\n\r\nconst SidebarMenuSubButton = React.forwardRef<\r\n  HTMLAnchorElement,\r\n  React.ComponentProps<\"a\"> & {\r\n    asChild?: boolean\r\n    size?: \"sm\" | \"md\"\r\n    isActive?: boolean\r\n  }\r\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\r\n  const Comp = asChild ? Slot : \"a\"\r\n\r\n  return (\r\n    <Comp\r\n      ref={ref}\r\n      data-sidebar=\"menu-sub-button\"\r\n      data-size={size}\r\n      data-active={isActive}\r\n      className={cn(\r\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\r\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\r\n        size === \"sm\" && \"text-xs\",\r\n        size === \"md\" && \"text-sm\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\r\n\r\nexport {\r\n  Sidebar,\r\n  SidebarContent,\r\n  SidebarFooter,\r\n  SidebarGroup,\r\n  SidebarGroupAction,\r\n  SidebarGroupContent,\r\n  SidebarGroupLabel,\r\n  SidebarHeader,\r\n  SidebarInput,\r\n  SidebarInset,\r\n  SidebarMenu,\r\n  SidebarMenuAction,\r\n  SidebarMenuBadge,\r\n  SidebarMenuButton,\r\n  SidebarMenuItem,\r\n  SidebarMenuSkeleton,\r\n  SidebarMenuSub,\r\n  SidebarMenuSubButton,\r\n  SidebarMenuSubItem,\r\n  SidebarProvider,\r\n  SidebarRail,\r\n  SidebarSeparator,\r\n  SidebarTrigger,\r\n  useSidebar,\r\n  SidebarNav,\r\n  SidebarNavItem,\r\n  SidebarSection,\r\n  SidebarSectionTitle\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\sonner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\stat-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\toast.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'handleClose' and 'onClose'. Either include them or remove the dependency array.","line":49,"column":6,"nodeType":"ArrayExpression","endLine":49,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [duration, handleClose, onClose]","fix":{"range":[1332,1342],"text":"[duration, handleClose, onClose]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect, ReactNode } from 'react';\r\nimport { X, CheckCircle, AlertCircle, Info, AlertTriangle } from 'lucide-react';\r\n\r\nexport interface ToastProps {\r\n  message?: string;\r\n  title?: React.ReactNode;\r\n  description?: React.ReactNode;\r\n  type?: 'success' | 'error' | 'warning' | 'info';\r\n  variant?: 'default' | 'destructive';\r\n  duration?: number;\r\n  onClose?: () => void;\r\n  onOpenChange?: (open: boolean) => void;\r\n  open?: boolean;\r\n}\r\n\r\nexport type ToastActionElement = React.ReactElement;\r\n\r\nconst Toast: React.FC<ToastProps> = ({ \r\n  message, \r\n  title, \r\n  description, \r\n  type, \r\n  variant, \r\n  duration = 5000, \r\n  onClose \r\n}) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [isLeaving, setIsLeaving] = useState(false);\r\n\r\n  // Determine type from variant if not explicitly set\r\n  const effectiveType = type || (variant === 'destructive' ? 'error' : 'info');\r\n  // Use description or message for the content\r\n  const content = description || message || '';\r\n\r\n  useEffect(() => {\r\n    if (!onClose) return;\r\n    \r\n    // Trigger entrance animation\r\n    setTimeout(() => setIsVisible(true), 10);\r\n\r\n    // Auto close after duration\r\n    const timer = setTimeout(() => {\r\n      handleClose();\r\n    }, duration);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [duration]);\r\n\r\n  const handleClose = () => {\r\n    if (!onClose) return;\r\n    setIsLeaving(true);\r\n    setTimeout(onClose, 300); // Match animation duration\r\n  };\r\n\r\n  const getIcon = () => {\r\n    switch (effectiveType) {\r\n      case 'success':\r\n        return <CheckCircle className=\"text-green-600\" size={20} />;\r\n      case 'error':\r\n        return <AlertCircle className=\"text-red-600\" size={20} />;\r\n      case 'warning':\r\n        return <AlertTriangle className=\"text-yellow-600\" size={20} />;\r\n      case 'info':\r\n        return <Info className=\"text-blue-600\" size={20} />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const getStyles = () => {\r\n    const baseStyles = \"flex items-center space-x-3 p-4 rounded-lg shadow-lg border transition-all duration-300\";\r\n\r\n    switch (effectiveType) {\r\n      case 'success':\r\n        return `${baseStyles} bg-green-50 border-green-200 text-green-800`;\r\n      case 'error':\r\n        return `${baseStyles} bg-red-50 border-red-200 text-red-800`;\r\n      case 'warning':\r\n        return `${baseStyles} bg-yellow-50 border-yellow-200 text-yellow-800`;\r\n      case 'info':\r\n        return `${baseStyles} bg-blue-50 border-blue-200 text-blue-800`;\r\n      default:\r\n        return baseStyles;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`${getStyles()} ${\r\n        isVisible && !isLeaving ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-2'\r\n      }`}\r\n    >\r\n      {getIcon()}\r\n      <div className=\"flex-1\">\r\n        {title && <div className=\"font-semibold\">{title}</div>}\r\n        <span>{content}</span>\r\n      </div>\r\n      <button\r\n        onClick={handleClose}\r\n        className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n        aria-label=\"Close notification\"\r\n      >\r\n        <X size={16} />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface ToastContainerProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const ToastContainer: React.FC<ToastContainerProps> = ({ children }) => {\r\n  return (\r\n    <div className=\"fixed top-4 right-4 z-50 space-y-2 max-w-sm\">\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Toast };\r\nexport default Toast;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\toaster.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'action' is defined but never used.","line":11,"column":55,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":61}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useToast } from \"@/hooks/use-toast\"\r\nimport Toast, { ToastContainer } from \"@/components/ui/toast\"\r\n\r\nexport function Toaster() {\r\n  const { toasts } = useToast()\r\n\r\n  return (\r\n    <ToastContainer>\r\n      {toasts.map(function ({ id, title, description, action, ...props }) {\r\n        return (\r\n          <Toast\r\n            key={id}\r\n            title={title}\r\n            description={description}\r\n            {...props}\r\n          />\r\n        )\r\n      })}\r\n    </ToastContainer>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\toggle-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\toggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\components\\ui\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\config\\constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\config\\contact.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\config\\design-tokens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\config\\navigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\contexts\\AppContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":54,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":63},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'uuidv4' is defined but never used.","line":4,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\ninterface AppContextType {\r\n  sidebarOpen: boolean;\r\n  toggleSidebar: () => void;\r\n}\r\n\r\nconst defaultAppContext: AppContextType = {\r\n  sidebarOpen: false,\r\n  toggleSidebar: () => {},\r\n};\r\n\r\nconst AppContext = createContext<AppContextType>(defaultAppContext);\r\n\r\nexport const useAppContext = () => useContext(AppContext);\r\n\r\nexport const AppProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarOpen(prev => !prev);\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        sidebarOpen,\r\n        toggleSidebar,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\contexts\\AuthContext.tsx","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":34,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":34,"endColumn":22,"suggestions":[{"fix":{"range":[1070,1118],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":68,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":68,"endColumn":20,"suggestions":[{"fix":{"range":[1988,2024],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":101,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":101,"endColumn":20,"suggestions":[{"fix":{"range":[2835,2878],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":112,"column":57,"nodeType":"MemberExpression","messageId":"unexpected","endLine":112,"endColumn":70},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":153,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":153,"endColumn":20,"suggestions":[{"fix":{"range":[4252,4296],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react'\r\nimport type { User, AuthContextType } from '@/types/auth'\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const [user, setUser] = useState<Omit<User, 'password'> | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  // Check for existing session on mount\r\n  useEffect(() => {\r\n    const initAuth = async () => {\r\n      try {\r\n        const token = localStorage.getItem('accessToken')\r\n\r\n        if (token) {\r\n          const response = await fetch('/api/auth/verify', {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n            },\r\n          })\r\n\r\n          if (response.ok) {\r\n            const data = await response.json()\r\n            setUser(data.user)\r\n          } else {\r\n            // Token invalid, clear and try refresh\r\n            await refreshAuth()\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Auth verification error:', error)\r\n        // Clear tokens on any error\r\n        localStorage.removeItem('accessToken')\r\n        localStorage.removeItem('refreshToken')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    initAuth()\r\n  }, [])\r\n\r\n  const login = async (email: string, password: string) => {\r\n    try {\r\n      const response = await fetch('/api/auth/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email, password }),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Login failed')\r\n      }\r\n\r\n      // Store tokens\r\n      localStorage.setItem('accessToken', data.accessToken)\r\n      localStorage.setItem('refreshToken', data.refreshToken)\r\n\r\n      setUser(data.user)\r\n    } catch (error) {\r\n      console.error('Login error:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const register = async (registerData: {\r\n    email: string\r\n    password: string\r\n    firstName: string\r\n    lastName: string\r\n    role: 'admin' | 'teacher' | 'student' | 'parent'\r\n  }) => {\r\n    try {\r\n      const response = await fetch('/api/auth/register', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(registerData),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Registration failed')\r\n      }\r\n\r\n      // Store tokens\r\n      localStorage.setItem('accessToken', data.accessToken)\r\n      localStorage.setItem('refreshToken', data.refreshToken)\r\n\r\n      setUser(data.user)\r\n    } catch (error) {\r\n      console.error('Registration error:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('accessToken')\r\n    localStorage.removeItem('refreshToken')\r\n    setUser(null)\r\n\r\n    // Call logout endpoint\r\n    fetch('/api/auth/logout', { method: 'POST' }).catch(console.error)\r\n  }\r\n\r\n  const refreshAuth = async () => {\r\n    const refreshToken = localStorage.getItem('refreshToken')\r\n\r\n    if (!refreshToken) {\r\n      setLoading(false)\r\n      return\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/refresh', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ refreshToken }),\r\n      })\r\n\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        localStorage.setItem('accessToken', data.accessToken)\r\n\r\n        // Verify new token and get user\r\n        const verifyResponse = await fetch('/api/auth/verify', {\r\n          headers: {\r\n            'Authorization': `Bearer ${data.accessToken}`,\r\n          },\r\n        })\r\n\r\n        if (verifyResponse.ok) {\r\n          const verifyData = await verifyResponse.json()\r\n          setUser(verifyData.user)\r\n        }\r\n      } else {\r\n        // Refresh failed, clear tokens\r\n        localStorage.removeItem('accessToken')\r\n        localStorage.removeItem('refreshToken')\r\n      }\r\n    } catch (error) {\r\n      console.error('Token refresh error:', error)\r\n      localStorage.removeItem('accessToken')\r\n      localStorage.removeItem('refreshToken')\r\n    }\r\n  }\r\n\r\n  const value: AuthContextType = {\r\n    user,\r\n    loading,\r\n    login,\r\n    register,\r\n    logout,\r\n    refreshAuth,\r\n  }\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext)\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider')\r\n  }\r\n  return context\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\contexts\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\hooks\\use-mobile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\hooks\\use-toast.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'actionTypes' is assigned a value but only used as a type.","line":18,"column":7,"nodeType":null,"messageId":"usedOnlyAsType","endLine":18,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\n\r\nimport type {\r\n  ToastActionElement,\r\n  ToastProps,\r\n} from \"@/components/ui/toast\";\r\n\r\nconst TOAST_LIMIT = 1;\r\nconst TOAST_REMOVE_DELAY = 5000;\r\n\r\ntype ToasterToast = ToastProps & {\r\n  id: string;\r\n  title?: React.ReactNode;\r\n  description?: React.ReactNode;\r\n  action?: ToastActionElement;\r\n};\r\n\r\nconst actionTypes = {\r\n  ADD_TOAST: \"ADD_TOAST\",\r\n  UPDATE_TOAST: \"UPDATE_TOAST\",\r\n  DISMISS_TOAST: \"DISMISS_TOAST\",\r\n  REMOVE_TOAST: \"REMOVE_TOAST\",\r\n} as const;\r\n\r\nlet count = 0;\r\n\r\nfunction genId() {\r\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\r\n  return count.toString();\r\n}\r\n\r\ntype ActionType = typeof actionTypes;\r\n\r\ntype Action =\r\n  | {\r\n      type: ActionType[\"ADD_TOAST\"];\r\n      toast: ToasterToast;\r\n    }\r\n  | {\r\n      type: ActionType[\"UPDATE_TOAST\"];\r\n      toast: Partial<ToasterToast>;\r\n    }\r\n  | {\r\n      type: ActionType[\"DISMISS_TOAST\"];\r\n      toastId?: ToasterToast[\"id\"];\r\n    }\r\n  | {\r\n      type: ActionType[\"REMOVE_TOAST\"];\r\n      toastId?: ToasterToast[\"id\"];\r\n    };\r\n\r\ninterface State {\r\n  toasts: ToasterToast[];\r\n}\r\n\r\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();\r\n\r\nconst addToRemoveQueue = (toastId: string) => {\r\n  if (toastTimeouts.has(toastId)) {\r\n    return;\r\n  }\r\n\r\n  const timeout = setTimeout(() => {\r\n    toastTimeouts.delete(toastId);\r\n    dispatch({\r\n      type: \"REMOVE_TOAST\",\r\n      toastId: toastId,\r\n    });\r\n  }, TOAST_REMOVE_DELAY);\r\n\r\n  toastTimeouts.set(toastId, timeout);\r\n};\r\n\r\nexport const reducer = (state: State, action: Action): State => {\r\n  switch (action.type) {\r\n    case \"ADD_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\r\n      }\r\n\r\n    case \"UPDATE_TOAST\":\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\r\n        ),\r\n      }\r\n\r\n    case \"DISMISS_TOAST\": {\r\n      const { toastId } = action;\r\n\r\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\r\n      // but I'll keep it here for simplicity\r\n      if (toastId) {\r\n        addToRemoveQueue(toastId)\r\n      } else {\r\n        state.toasts.forEach((toast) => {\r\n          addToRemoveQueue(toast.id)\r\n        })\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.map((t) =>\r\n          t.id === toastId || toastId === undefined\r\n            ? {\r\n                ...t,\r\n                open: false,\r\n              }\r\n            : t\r\n        ),\r\n      }\r\n    }\r\n    case \"REMOVE_TOAST\":\r\n      if (action.toastId === undefined) {\r\n        return {\r\n          ...state,\r\n          toasts: [],\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\r\n      }\r\n  }\r\n}\r\n\r\nconst listeners: Array<(state: State) => void> = [];\r\n\r\nlet memoryState: State = { toasts: [] };\r\n\r\nfunction dispatch(action: Action) {\r\n  memoryState = reducer(memoryState, action);\r\n  listeners.forEach((listener) => {\r\n    listener(memoryState);\r\n  });\r\n}\r\n\r\ntype Toast = Omit<ToasterToast, \"id\">;\r\n\r\nfunction toast({ ...props }: Toast) {\r\n  const id = genId();\r\n\r\n  const update = (props: ToasterToast) =>\r\n    dispatch({\r\n      type: \"UPDATE_TOAST\",\r\n      toast: { ...props, id },\r\n    });\r\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\r\n\r\n  dispatch({\r\n    type: \"ADD_TOAST\",\r\n    toast: {\r\n      ...props,\r\n      id,\r\n      open: true,\r\n      onOpenChange: (open) => {\r\n        if (!open) dismiss()\r\n      },\r\n    },\r\n  });\r\n\r\n  return {\r\n    id: id,\r\n    dismiss,\r\n    update,\r\n  };\r\n}\r\n\r\nfunction useToast() {\r\n  const [state, setState] = React.useState<State>(memoryState);\r\n\r\n  React.useEffect(() => {\r\n    listeners.push(setState);\r\n    return () => {\r\n      const index = listeners.indexOf(setState);\r\n      if (index > -1) {\r\n        listeners.splice(index, 1);\r\n      }\r\n    };\r\n  }, [state]);\r\n\r\n  return {\r\n    ...state,\r\n    toast,\r\n    dismiss: (toastId?: string) =>\r\n      dispatch({ type: \"DISMISS_TOAST\", toastId }),\r\n  };\r\n}\r\n\r\nexport { useToast, toast };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\hooks\\useCountUp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\hooks\\useScrollAnimation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\hooks\\useToast.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'removeToast'. Either include it or remove the dependency array.","line":29,"column":6,"nodeType":"ArrayExpression","endLine":29,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [removeToast]","fix":{"range":[716,718],"text":"[removeToast]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useCallback } from 'react';\r\n\r\ninterface Toast {\r\n  id: string;\r\n  message: string;\r\n  type: 'success' | 'error' | 'warning' | 'info';\r\n  duration?: number;\r\n}\r\n\r\nexport const useToast = () => {\r\n  const [toasts, setToasts] = useState<Toast[]>([]);\r\n\r\n  const showToast = useCallback((\r\n    message: string,\r\n    type: 'success' | 'error' | 'warning' | 'info' = 'info',\r\n    duration: number = 5000\r\n  ) => {\r\n    const id = Math.random().toString(36).substr(2, 9);\r\n    const toast: Toast = { id, message, type, duration };\r\n\r\n    setToasts(prev => [...prev, toast]);\r\n\r\n    // Auto remove after duration\r\n    setTimeout(() => {\r\n      removeToast(id);\r\n    }, duration);\r\n\r\n    return id;\r\n  }, []);\r\n\r\n  const removeToast = useCallback((id: string) => {\r\n    setToasts(prev => prev.filter(toast => toast.id !== id));\r\n  }, []);\r\n\r\n  const clearAllToasts = useCallback(() => {\r\n    setToasts([]);\r\n  }, []);\r\n\r\n  return {\r\n    toasts,\r\n    showToast,\r\n    removeToast,\r\n    clearAllToasts,\r\n    showSuccess: (message: string, duration?: number) => showToast(message, 'success', duration),\r\n    showError: (message: string, duration?: number) => showToast(message, 'error', duration),\r\n    showWarning: (message: string, duration?: number) => showToast(message, 'warning', duration),\r\n    showInfo: (message: string, duration?: number) => showToast(message, 'info', duration),\r\n  };\r\n};","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\i18n\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[219,222],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[219,222],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1005,1008],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1005,1008],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":9,"column":22,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":9,"endColumn":65,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport { isBrowser } from '@/lib/platform'\r\n// Only load the browser language detector when running in the browser.\r\nlet LanguageDetector: any = undefined;\r\nif (isBrowser()) {\r\n  // Dynamically require to avoid server-side usage of browser-only detector\r\n  // eslint-disable-next-line @typescript-eslint/no-require-imports\r\n  LanguageDetector = require('i18next-browser-languagedetector');\r\n}\r\n\r\nimport en from './locales/en.json';\r\nimport sh from './locales/sh.json';\r\nimport nd from './locales/nd.json';\r\n\r\nconst resources = {\r\n  en: {\r\n    translation: en,\r\n  },\r\n  sh: {\r\n    translation: sh,\r\n  },\r\n  nd: {\r\n    translation: nd,\r\n  },\r\n};\r\n\r\n// Initialize i18n. Use the browser detector only on the client to avoid\r\n// referencing localStorage during SSR which can cause hydration/build issues.\r\ni18n.use(initReactI18next);\r\nif (isBrowser() && LanguageDetector) {\r\n  i18n.use(LanguageDetector);\r\n}\r\n\r\nconst initOptions: any = {\r\n  resources,\r\n  fallbackLng: 'en',\r\n  debug: false,\r\n  interpolation: {\r\n    escapeValue: false,\r\n  },\r\n};\r\n\r\nif (isBrowser()) {\r\n  initOptions.detection = {\r\n    order: ['localStorage', 'navigator', 'htmlTag'],\r\n    caches: ['localStorage'],\r\n  };\r\n}\r\n\r\ni18n.init(initOptions);\r\n\r\nexport default i18n;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\api\\auth-middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\api\\security-headers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":71,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":71,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2034,2037],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2034,2037],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'T' is defined but never used.","line":80,"column":37,"nodeType":null,"messageId":"unusedVar","endLine":80,"endColumn":38}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Security Headers Middleware\r\n * \r\n * Adds essential security headers to all API responses to protect against:\r\n * - XSS attacks\r\n * - Clickjacking\r\n * - MIME sniffing\r\n * - Man-in-the-middle attacks\r\n */\r\n\r\nimport { NextResponse } from 'next/server';\r\n\r\n/**\r\n * Security headers configuration\r\n * Based on OWASP recommendations and industry best practices\r\n */\r\nexport const SECURITY_HEADERS = {\r\n  // Enforce HTTPS for 1 year (including subdomains)\r\n  'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload',\r\n  \r\n  // Prevent MIME type sniffing\r\n  'X-Content-Type-Options': 'nosniff',\r\n  \r\n  // Enable browser XSS protection (legacy browsers)\r\n  'X-XSS-Protection': '1; mode=block',\r\n\r\n  // Control which features and APIs can be used\r\n  'Permissions-Policy': [\r\n    'camera=*',\r\n    'microphone=*',\r\n    'geolocation=*',\r\n    'interest-cohort=()', // Disable FLoC\r\n  ].join(', '),\r\n\r\n  // Content Security Policy - permissive to allow external resources\r\n  'Content-Security-Policy': [\r\n    \"default-src *\",\r\n    \"script-src * 'unsafe-inline' 'unsafe-eval'\",\r\n    \"style-src * 'unsafe-inline'\",\r\n    \"img-src * data: blob:\",\r\n    \"font-src * data:\",\r\n    \"connect-src *\",\r\n    \"frame-ancestors *\",\r\n    \"base-uri *\",\r\n    \"form-action *\",\r\n  ].join('; '),\r\n  \r\n  // Referrer policy - only send origin on cross-origin requests\r\n  'Referrer-Policy': 'strict-origin-when-cross-origin',\r\n} as const;\r\n\r\n/**\r\n * Apply security headers to a NextResponse\r\n * @param response - The response to add headers to\r\n * @returns The response with security headers added\r\n */\r\nexport function applySecurityHeaders(response: NextResponse): NextResponse {\r\n  Object.entries(SECURITY_HEADERS).forEach(([key, value]) => {\r\n    response.headers.set(key, value);\r\n  });\r\n  \r\n  return response;\r\n}\r\n\r\n/**\r\n * Create a new response with security headers\r\n * @param body - Response body\r\n * @param init - Response initialization options\r\n * @returns NextResponse with security headers\r\n */\r\nexport function secureResponse(body: any, init?: ResponseInit): NextResponse {\r\n  const response = NextResponse.json(body, init);\r\n  return applySecurityHeaders(response);\r\n}\r\n\r\n/**\r\n * Middleware wrapper that adds security headers to API responses\r\n * Usage: Wrap your API route handler with this function\r\n */\r\nexport function withSecurityHeaders<T>(\r\n  handler: (request: Request) => Promise<NextResponse | Response>\r\n) {\r\n  return async (request: Request): Promise<NextResponse> => {\r\n    const response = await handler(request);\r\n    \r\n    // Convert to NextResponse if needed\r\n    const nextResponse = response instanceof NextResponse \r\n      ? response \r\n      : new NextResponse(response.body, response);\r\n    \r\n    return applySecurityHeaders(nextResponse);\r\n  };\r\n}\r\n\r\n/**\r\n * CORS headers for API routes (if needed)\r\n * Only use if you need to allow cross-origin requests\r\n */\r\nexport const CORS_HEADERS = {\r\n  'Access-Control-Allow-Origin': process.env.NEXT_PUBLIC_APP_URL || '*',\r\n  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\r\n  'Access-Control-Allow-Headers': 'Content-Type, Authorization',\r\n  'Access-Control-Max-Age': '86400', // 24 hours\r\n} as const;\r\n\r\n/**\r\n * Apply CORS headers (use sparingly, only when needed)\r\n */\r\nexport function applyCorsHeaders(response: NextResponse): NextResponse {\r\n  Object.entries(CORS_HEADERS).forEach(([key, value]) => {\r\n    response.headers.set(key, value);\r\n  });\r\n  \r\n  return response;\r\n}\r\n\r\nexport default {\r\n  applySecurityHeaders,\r\n  secureResponse,\r\n  withSecurityHeaders,\r\n  applyCorsHeaders,\r\n  SECURITY_HEADERS,\r\n  CORS_HEADERS,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\auth.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":60,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":60,"endColumn":22,"suggestions":[{"fix":{"range":[2003,2053],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":71,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":71,"endColumn":22,"suggestions":[{"fix":{"range":[2352,2410],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { SignJWT, jwtVerify } from 'jose'\r\nimport bcrypt from 'bcryptjs'\r\n\r\n// Validate JWT_SECRET environment variable\r\nconst jwtSecretKey = process.env.JWT_SECRET\r\nif (!jwtSecretKey) {\r\n    throw new Error('JWT_SECRET environment variable is required. Generate with: openssl rand -base64 64')\r\n}\r\nif (jwtSecretKey.length < 32) {\r\n    throw new Error('JWT_SECRET must be at least 32 characters long for security')\r\n}\r\nconst JWT_SECRET = new TextEncoder().encode(jwtSecretKey)\r\n\r\n// Validate JWT_REFRESH_SECRET environment variable\r\nconst jwtRefreshSecretKey = process.env.JWT_REFRESH_SECRET\r\nif (!jwtRefreshSecretKey) {\r\n    throw new Error('JWT_REFRESH_SECRET environment variable is required. Generate with: openssl rand -base64 64')\r\n}\r\nif (jwtRefreshSecretKey.length < 32) {\r\n    throw new Error('JWT_REFRESH_SECRET must be at least 32 characters long for security')\r\n}\r\nconst JWT_REFRESH_SECRET = new TextEncoder().encode(jwtRefreshSecretKey)\r\n\r\nexport interface JWTPayload {\r\n    userId: string\r\n    email: string\r\n    role: string\r\n    iat?: number\r\n    exp?: number\r\n}\r\n\r\n// Generate access token (7 days)\r\nexport async function generateAccessToken(payload: JWTPayload): Promise<string> {\r\n    const token = await new SignJWT({ ...payload })\r\n        .setProtectedHeader({ alg: 'HS256' })\r\n        .setIssuedAt()\r\n        .setExpirationTime('7d')\r\n        .sign(JWT_SECRET)\r\n\r\n    return token\r\n}\r\n\r\n// Generate refresh token (30 days)\r\nexport async function generateRefreshToken(payload: JWTPayload): Promise<string> {\r\n    const token = await new SignJWT({ ...payload })\r\n        .setProtectedHeader({ alg: 'HS256' })\r\n        .setIssuedAt()\r\n        .setExpirationTime('30d')\r\n        .sign(JWT_REFRESH_SECRET)\r\n\r\n    return token\r\n}\r\n\r\n// Verify access token\r\nexport async function verifyAccessToken(token: string): Promise<JWTPayload | null> {\r\n    try {\r\n        const { payload } = await jwtVerify(token, JWT_SECRET)\r\n        return payload as JWTPayload\r\n    } catch (error) {\r\n        console.error('Token verification failed:', error)\r\n        return null\r\n    }\r\n}\r\n\r\n// Verify refresh token\r\nexport async function verifyRefreshToken(token: string): Promise<JWTPayload | null> {\r\n    try {\r\n        const { payload } = await jwtVerify(token, JWT_REFRESH_SECRET)\r\n        return payload as JWTPayload\r\n    } catch (error) {\r\n        console.error('Refresh token verification failed:', error)\r\n        return null\r\n    }\r\n}\r\n\r\n// Hash password\r\nexport async function hashPassword(password: string): Promise<string> {\r\n    const salt = await bcrypt.genSalt(10)\r\n    return bcrypt.hash(password, salt)\r\n}\r\n\r\n// Compare password\r\nexport async function comparePassword(password: string, hashedPassword: string): Promise<boolean> {\r\n    return bcrypt.compare(password, hashedPassword)\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\auth\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\config.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":25,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":25,"endColumn":19,"suggestions":[{"fix":{"range":[857,1001],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":42,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":42,"endColumn":19,"suggestions":[{"fix":{"range":[1479,1634],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":121,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":121,"endColumn":14,"suggestions":[{"fix":{"range":[3733,3799],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":122,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":122,"endColumn":14,"suggestions":[{"fix":{"range":[3803,3855],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":123,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":123,"endColumn":14,"suggestions":[{"fix":{"range":[3859,3929],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":126,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":126,"endColumn":17,"suggestions":[{"fix":{"range":[3974,4052],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":130,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":130,"endColumn":17,"suggestions":[{"fix":{"range":[4101,4178],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Secure Environment Configuration\r\n * \r\n * Validates and provides access to critical environment variables.\r\n * Throws errors in production if required secrets are missing.\r\n */\r\n\r\nconst isDevelopment = process.env.NODE_ENV === 'development';\r\nconst isTest = process.env.NODE_ENV === 'test';\r\nconst isBuild = process.env.NEXT_PHASE === 'phase-production-build';\r\n\r\n/**\r\n * Get required environment variable with validation\r\n * @param key - Environment variable name\r\n * @param fallback - Optional fallback for development/test only\r\n * @returns Environment variable value\r\n * @throws Error if variable is missing in production\r\n */\r\nfunction getRequiredEnv(key: string, fallback?: string): string {\r\n  const value = process.env[key];\r\n  \r\n  if (!value) {\r\n    // During build phase, use fallback to allow build to complete\r\n    if (isBuild) {\r\n      console.warn(\r\n        `âš ï¸  WARNING: ${key} not set during build. ` +\r\n        `Make sure to set this in your deployment environment.`\r\n      );\r\n      return fallback || 'build-time-placeholder';\r\n    }\r\n    \r\n    // In production, missing required env vars are CRITICAL errors\r\n    if (!isDevelopment && !isTest) {\r\n      throw new Error(\r\n        `CRITICAL: Missing required environment variable: ${key}. ` +\r\n        `Set this in your deployment environment (Vercel Dashboard, etc.)`\r\n      );\r\n    }\r\n    \r\n    // In development/test, use fallback if provided\r\n    if (fallback && (isDevelopment || isTest)) {\r\n      console.warn(\r\n        `âš ï¸  WARNING: Using fallback value for ${key}. ` +\r\n        `Set a real value in .env.local for production-like behavior.`\r\n      );\r\n      return fallback;\r\n    }\r\n    \r\n    throw new Error(`Missing required environment variable: ${key}`);\r\n  }\r\n  \r\n  return value;\r\n}\r\n\r\n/**\r\n * Get optional environment variable\r\n * @param key - Environment variable name\r\n * @param defaultValue - Default value if not set\r\n * @returns Environment variable value or default\r\n */\r\nfunction getOptionalEnv(key: string, defaultValue: string = ''): string {\r\n  return process.env[key] || defaultValue;\r\n}\r\n\r\n// Export validated environment configuration\r\nexport const config = {\r\n  // Critical security keys (required in production)\r\n  jwt: {\r\n    secret: getRequiredEnv(\r\n      'JWT_SECRET',\r\n      isDevelopment || isTest ? 'dev-secret-key-change-in-production' : undefined\r\n    ),\r\n    refreshSecret: getRequiredEnv(\r\n      'JWT_REFRESH_SECRET',\r\n      isDevelopment || isTest ? 'dev-refresh-secret-change-in-production' : undefined\r\n    ),\r\n    accessTokenExpiry: '7d',\r\n    refreshTokenExpiry: '30d',\r\n  },\r\n  \r\n  // Database (required in production)\r\n  database: {\r\n    url: getRequiredEnv(\r\n      'DATABASE_URL',\r\n      isDevelopment || isTest ? 'postgresql://localhost:5432/regisbridge_dev' : undefined\r\n    ),\r\n  },\r\n  \r\n  // External services (optional)\r\n  sendgrid: {\r\n    apiKey: getOptionalEnv('SENDGRID_API_KEY'),\r\n    enabled: !!process.env.SENDGRID_API_KEY,\r\n  },\r\n  \r\n  statsig: {\r\n    sdkKey: getOptionalEnv('STATSIG_SDK_KEY'),\r\n    enabled: !!process.env.STATSIG_SDK_KEY,\r\n  },\r\n  \r\n  // Application settings\r\n  app: {\r\n    env: process.env.NODE_ENV || 'development',\r\n    isDevelopment,\r\n    isProduction: process.env.NODE_ENV === 'production',\r\n    isTest,\r\n    url: getOptionalEnv('NEXT_PUBLIC_APP_URL', 'http://localhost:3000'),\r\n    apiUrl: getOptionalEnv('NEXT_PUBLIC_API_URL', 'http://localhost:3000/api'),\r\n  },\r\n  \r\n  // Security settings\r\n  security: {\r\n    bcryptRounds: 10,\r\n    rateLimitWindow: 15 * 60 * 1000, // 15 minutes\r\n    rateLimitMaxRequests: 10,\r\n    sessionTimeout: 7 * 24 * 60 * 60 * 1000, // 7 days\r\n  },\r\n} as const;\r\n\r\n// Validate critical configuration on startup\r\nif (!isDevelopment && !isTest) {\r\n  console.log('âœ… Environment configuration validated successfully');\r\n  console.log(`ðŸš€ Running in ${config.app.env} mode`);\r\n  console.log(`ðŸ”’ Security features enabled: JWT auth, bcrypt hashing`);\r\n  \r\n  if (!config.sendgrid.enabled) {\r\n    console.warn('âš ï¸  SendGrid not configured - email features will be disabled');\r\n  }\r\n  \r\n  if (!config.statsig.enabled) {\r\n    console.warn('âš ï¸  Statsig not configured - feature flags will use defaults');\r\n  }\r\n}\r\n\r\nexport default config;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\config\\flags.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\config\\school-config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-academics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-community-programs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-correspondence.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-enrollment.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-facilities.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-fees-historical.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-fees.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-financial.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-governance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-legal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-operations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-staff-recruitment.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\seed-data-staff.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\data\\stats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\db.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":22,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":22,"endColumn":16,"suggestions":[{"fix":{"range":[603,651],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":25,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":25,"endColumn":18,"suggestions":[{"fix":{"range":[695,748],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":36,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":36,"endColumn":16,"suggestions":[{"fix":{"range":[953,1004],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":38,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":38,"endColumn":18,"suggestions":[{"fix":{"range":[1031,1087],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { PrismaClient } from '@prisma/client'\r\n\r\nconst globalForPrisma = globalThis as unknown as {\r\n  prisma: PrismaClient | undefined\r\n}\r\n\r\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient({\r\n  log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],\r\n  datasources: {\r\n    db: {\r\n      url: process.env.DATABASE_URL,\r\n    },\r\n  },\r\n})\r\n\r\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\r\n\r\n// Test database connection\r\nexport async function testDatabaseConnection(): Promise<boolean> {\r\n  try {\r\n    await prisma.$connect()\r\n    console.log('âœ… Database connected successfully')\r\n    return true\r\n  } catch (error) {\r\n    console.error('âŒ Database connection failed:', error)\r\n    return false\r\n  } finally {\r\n    await prisma.$disconnect()\r\n  }\r\n}\r\n\r\n// Graceful shutdown\r\nexport async function disconnectDatabase(): Promise<void> {\r\n  try {\r\n    await prisma.$disconnect()\r\n    console.log('âœ… Database disconnected successfully')\r\n  } catch (error) {\r\n    console.error('âŒ Database disconnection failed:', error)\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\flags-auth-integration.example.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'statsigAdapter' is defined but never used.","line":9,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'flag' is defined but never used.","line":10,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":14},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":43,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":43,"endColumn":18,"suggestions":[{"fix":{"range":[1284,1350],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":61,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":61,"endColumn":17}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":55,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":55,"endColumn":38,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Example: Using feature flags with your auth system\r\n * This shows how to integrate feature flags with authenticated users\r\n * \r\n * NOTE: This is an example file showing the pattern.\r\n * To use it, copy the relevant code to src/lib/flags.ts\r\n */\r\n\r\nimport { statsigAdapter, type StatsigUser } from \"@flags-sdk/statsig\";\r\nimport { flag, dedupe } from \"flags/next\";\r\nimport type { Identify } from \"flags\";\r\nimport { cookies } from \"next/headers\";\r\n\r\n/**\r\n * Example integration with auth system\r\n * Replace the identify function in src/lib/flags.ts with this pattern\r\n */\r\nexport const identifyWithAuth = dedupe((async () => {\r\n  try {\r\n    // Get token from cookies (await needed in Next.js 15)\r\n    const cookieStore = await cookies();\r\n    const token = cookieStore.get(\"token\")?.value;\r\n    \r\n    if (!token) {\r\n      return {\r\n        userID: \"anonymous\",\r\n      };\r\n    }\r\n\r\n    // Verify token and get user data\r\n    const decoded = await verifyJWT(token);\r\n    \r\n    return {\r\n      userID: decoded.id || \"unknown\",\r\n      email: decoded.email,\r\n      custom: {\r\n        role: decoded.role,\r\n        // Add any custom properties you want to use for targeting\r\n        // These can be used in Statsig to create conditional rules\r\n      }\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error identifying user for feature flags:\", error);\r\n    return {\r\n      userID: \"anonymous\",\r\n    };\r\n  }\r\n}) satisfies Identify<StatsigUser>);\r\n\r\n// Example helper to verify JWT token\r\nasync function verifyJWT(token: string) {\r\n  // This is a placeholder - use your actual token verification logic\r\n  // from src/lib/auth-middleware.ts\r\n  // eslint-disable-next-line @typescript-eslint/no-require-imports\r\n  const jwt = require(\"jsonwebtoken\");\r\n  const secret = process.env.JWT_SECRET || \"fallback-secret-key\";\r\n  \r\n  try {\r\n    const decoded = jwt.verify(token, secret);\r\n    return decoded as { id: string; email: string; role: string };\r\n  } catch (error) {\r\n    throw new Error(\"Invalid token\");\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\logger.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[264,267],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[264,267],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":16,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":16,"endColumn":22,"suggestions":[{"fix":{"range":[632,666],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":19,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":19,"endColumn":21,"suggestions":[{"fix":{"range":[712,744],"text":""},"messageId":"removeConsole","data":{"propertyName":"info"},"desc":"Remove the console.info()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":22,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":22,"endColumn":21,"suggestions":[{"fix":{"range":[790,822],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":25,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":25,"endColumn":22,"suggestions":[{"fix":{"range":[869,903],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":29,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":29,"endColumn":20,"suggestions":[{"fix":{"range":[964,994],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Lightweight logger to keep production consoles clean.\r\n// - In production (NODE_ENV === 'production'), only warn and error are emitted.\r\n// - In development, all levels emit to console.\r\n\r\nconst isProd = process.env.NODE_ENV === 'production';\r\n\r\ntype LogArgs = any[];\r\n\r\nfunction make(level: 'debug' | 'info' | 'log' | 'warn' | 'error', emitInProd: boolean) {\r\n  return (...args: LogArgs) => {\r\n    if (isProd && !emitInProd) return;\r\n    // Call the native console method with a small prefix for clarity\r\n    switch (level) {\r\n      case 'debug':\r\n        // Some environments may not show debug; still call it for dev\r\n        console.debug('[debug]', ...args);\r\n        break;\r\n      case 'info':\r\n        console.info('[info]', ...args);\r\n        break;\r\n      case 'warn':\r\n        console.warn('[warn]', ...args);\r\n        break;\r\n      case 'error':\r\n        console.error('[error]', ...args);\r\n        break;\r\n      case 'log':\r\n      default:\r\n        console.log('[log]', ...args);\r\n    }\r\n  };\r\n}\r\n\r\nexport const logger = {\r\n  debug: make('debug', false),\r\n  info: make('info', false),\r\n  log: make('log', false),\r\n  warn: make('warn', true),\r\n  error: make('error', true),\r\n};\r\n\r\nexport default logger;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\platform.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":13,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Lightweight platform helpers\r\n * Provide a single place to check for browser availability\r\n */\r\nexport const isBrowser = (): boolean => {\r\n  return typeof window !== 'undefined' && typeof document !== 'undefined'\r\n}\r\n\r\nexport const safeWindow = <T>(fn: () => T, fallback?: T): T | undefined => {\r\n  if (!isBrowser()) return fallback\r\n  try {\r\n    return fn()\r\n  } catch (e) {\r\n    // swallow to avoid breaking SSR; caller may handle undefined\r\n    return fallback\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\rate-limit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\security.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":167,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":167,"endColumn":18,"suggestions":[{"fix":{"range":[4943,4997],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":172,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":172,"endColumn":18,"suggestions":[{"fix":{"range":[5056,5115],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\r\n\r\n// Rate limiting store (in production, use Redis)\r\nconst rateLimitStore = new Map<string, { count: number; resetTime: number }>()\r\n\r\nfunction getClientIP(request: NextRequest): string {\r\n  return request.headers.get('x-forwarded-for') || \r\n         request.headers.get('x-real-ip') || \r\n         'unknown'\r\n}\r\n\r\nfunction rateLimit(request: NextRequest, limit: number = 100, windowMs: number = 15 * 60 * 1000) {\r\n  const ip = getClientIP(request)\r\n  const now = Date.now()\r\n\r\n  // Clean up old entries\r\n  for (const [key, value] of rateLimitStore.entries()) {\r\n    if (value.resetTime < now) {\r\n      rateLimitStore.delete(key)\r\n    }\r\n  }\r\n\r\n  const current = rateLimitStore.get(ip)\r\n  \r\n  if (!current) {\r\n    rateLimitStore.set(ip, { count: 1, resetTime: now + windowMs })\r\n    return { success: true }\r\n  }\r\n\r\n  if (current.resetTime < now) {\r\n    rateLimitStore.set(ip, { count: 1, resetTime: now + windowMs })\r\n    return { success: true }\r\n  }\r\n\r\n  if (current.count >= limit) {\r\n    return { \r\n      success: false, \r\n      resetTime: current.resetTime,\r\n      remaining: 0 \r\n    }\r\n  }\r\n\r\n  current.count++\r\n  return { \r\n    success: true, \r\n    remaining: limit - current.count,\r\n    resetTime: current.resetTime \r\n  }\r\n}\r\n\r\nexport function withRateLimit(handler: (req: NextRequest) => Promise<NextResponse>) {\r\n  return async (request: NextRequest) => {\r\n    const maxRequests = parseInt(process.env.RATE_LIMIT_MAX_REQUESTS || '100')\r\n    const windowMs = parseInt(process.env.RATE_LIMIT_WINDOW_MS || '900000') // 15 minutes\r\n\r\n    const result = rateLimit(request, maxRequests, windowMs)\r\n\r\n    if (!result.success) {\r\n      return NextResponse.json(\r\n        { \r\n          success: false, \r\n          message: 'Too many requests. Please try again later.',\r\n          retryAfter: Math.ceil((result.resetTime! - Date.now()) / 1000)\r\n        },\r\n        { \r\n          status: 429,\r\n          headers: {\r\n            'X-RateLimit-Limit': maxRequests.toString(),\r\n            'X-RateLimit-Remaining': '0',\r\n            'X-RateLimit-Reset': result.resetTime!.toString(),\r\n            'Retry-After': Math.ceil((result.resetTime! - Date.now()) / 1000).toString()\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    const response = await handler(request)\r\n    \r\n    // Add rate limit headers to successful responses\r\n    response.headers.set('X-RateLimit-Limit', maxRequests.toString())\r\n    response.headers.set('X-RateLimit-Remaining', result.remaining!.toString())\r\n    response.headers.set('X-RateLimit-Reset', result.resetTime!.toString())\r\n\r\n    return response\r\n  }\r\n}\r\n\r\n// Security headers middleware\r\nexport function addSecurityHeaders(response: NextResponse): NextResponse {\r\n  // Prevent clickjacking\r\n  response.headers.set('X-Frame-Options', 'DENY')\r\n  \r\n  // Prevent MIME type sniffing\r\n  response.headers.set('X-Content-Type-Options', 'nosniff')\r\n  \r\n  // XSS Protection\r\n  response.headers.set('X-XSS-Protection', '1; mode=block')\r\n  \r\n  // Referrer Policy\r\n  response.headers.set('Referrer-Policy', 'strict-origin-when-cross-origin')\r\n  \r\n  // Content Security Policy (basic)\r\n  response.headers.set(\r\n    'Content-Security-Policy',\r\n    \"default-src 'self'; script-src 'self' 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'\"\r\n  )\r\n  \r\n  // Strict Transport Security (HTTPS only)\r\n  if (process.env.NODE_ENV === 'production') {\r\n    response.headers.set(\r\n      'Strict-Transport-Security',\r\n      'max-age=31536000; includeSubDomains; preload'\r\n    )\r\n  }\r\n\r\n  return response\r\n}\r\n\r\n// Input validation helpers\r\nexport function validateEmail(email: string): boolean {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n  return emailRegex.test(email)\r\n}\r\n\r\nexport function validatePassword(password: string): { valid: boolean; errors: string[] } {\r\n  const errors: string[] = []\r\n  \r\n  if (password.length < 8) {\r\n    errors.push('Password must be at least 8 characters long')\r\n  }\r\n  \r\n  if (!/[A-Z]/.test(password)) {\r\n    errors.push('Password must contain at least one uppercase letter')\r\n  }\r\n  \r\n  if (!/[a-z]/.test(password)) {\r\n    errors.push('Password must contain at least one lowercase letter')\r\n  }\r\n  \r\n  if (!/\\d/.test(password)) {\r\n    errors.push('Password must contain at least one number')\r\n  }\r\n  \r\n  if (!/[!@#$%^&*(),.?\":{}|<>]/.test(password)) {\r\n    errors.push('Password must contain at least one special character')\r\n  }\r\n  \r\n  return {\r\n    valid: errors.length === 0,\r\n    errors\r\n  }\r\n}\r\n\r\nexport function sanitizeInput(input: string): string {\r\n  return input.trim().replace(/[<>]/g, '')\r\n}\r\n\r\n// Database query logging for security\r\nexport async function secureDbQuery<T>(\r\n  query: () => Promise<T>,\r\n  operation: string\r\n): Promise<T> {\r\n  try {\r\n    const result = await query()\r\n    \r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.log(`âœ… DB Operation successful: ${operation}`)\r\n    }\r\n    \r\n    return result\r\n  } catch (error) {\r\n    console.error(`âŒ DB Operation failed: ${operation}`, error)\r\n    throw error\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\storage.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":7,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":16,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":25,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":13},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[641,644],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[641,644],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":35,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":35,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":43,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":43,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { isBrowser } from '@/lib/platform'\r\n\r\nexport const getItem = (key: string): string | null => {\r\n  if (!isBrowser()) return null\r\n  try {\r\n    return localStorage.getItem(key)\r\n  } catch (e) {\r\n    return null\r\n  }\r\n}\r\n\r\nexport const setItem = (key: string, value: string): void => {\r\n  if (!isBrowser()) return\r\n  try {\r\n    localStorage.setItem(key, value)\r\n  } catch (e) {\r\n    // ignore storage errors (quota, disabled, etc.)\r\n  }\r\n}\r\n\r\nexport const removeItem = (key: string): void => {\r\n  if (!isBrowser()) return\r\n  try {\r\n    localStorage.removeItem(key)\r\n  } catch (e) {\r\n    // ignore\r\n  }\r\n}\r\n\r\nexport const getJSON = <T = any>(key: string): T | null => {\r\n  const raw = getItem(key)\r\n  if (!raw) return null\r\n  try {\r\n    return JSON.parse(raw) as T\r\n  } catch (e) {\r\n    return null\r\n  }\r\n}\r\n\r\nexport const setJSON = (key: string, value: unknown): void => {\r\n  try {\r\n    setItem(key, JSON.stringify(value))\r\n  } catch (e) {\r\n    // ignore\r\n  }\r\n}\r\n\r\nexport default {\r\n  getItem,\r\n  setItem,\r\n  removeItem,\r\n  getJSON,\r\n  setJSON,\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\structured-data.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Organization' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Structured Data (JSON-LD) Generator\r\n * Creates schema.org markup for SEO optimization\r\n */\r\n\r\nimport { Organization, EducationalOrganization, Place, Course, Event, WithContext } from 'schema-dts'\r\n\r\n/**\r\n * Main school organization schema\r\n */\r\nexport function getSchoolOrganizationSchema(): WithContext<EducationalOrganization> {\r\n  return {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'EducationalOrganization',\r\n    '@id': 'https://regisbridge.page/#organization',\r\n    name: 'Regisbridge Private School',\r\n    alternateName: 'Regisbridge School',\r\n    description: 'A distinguished private day and boarding school in Zimbabwe offering comprehensive education from ECD A through Grade 7, with exceptional academic results and holistic student development.',\r\n    url: 'https://regisbridge.page',\r\n    logo: 'https://regisbridge.page/logo.png',\r\n    image: 'https://regisbridge.page/logo.png',\r\n    foundingDate: '2020',\r\n    slogan: 'Supervincimus - We Conquer Together',\r\n    \r\n    address: {\r\n      '@type': 'PostalAddress',\r\n      streetAddress: '3502 Turf, Ngezi',\r\n      addressLocality: 'Mhondoro',\r\n      addressRegion: 'Mashonaland West',\r\n      addressCountry: 'ZW',\r\n    },\r\n    \r\n    contactPoint: [\r\n      {\r\n        '@type': 'ContactPoint',\r\n        telephone: '+263-77-123-4567',\r\n        contactType: 'admissions',\r\n        areaServed: 'ZW',\r\n        availableLanguage: ['English', 'Shona', 'Ndebele'],\r\n      },\r\n      {\r\n        '@type': 'ContactPoint',\r\n        email: 'info@regisbridge.ac.zw',\r\n        contactType: 'customer service',\r\n        areaServed: 'ZW',\r\n      },\r\n    ],\r\n    \r\n    sameAs: [\r\n      'https://www.facebook.com/649025021870070',\r\n      'https://regisbridge.ac.zw',\r\n    ],\r\n    \r\n    areaServed: {\r\n      '@type': 'Country',\r\n      name: 'Zimbabwe',\r\n    },\r\n    \r\n    hasOfferCatalog: {\r\n      '@type': 'OfferCatalog',\r\n      name: 'Educational Programs',\r\n      itemListElement: [\r\n        {\r\n          '@type': 'Offer',\r\n          itemOffered: {\r\n            '@type': 'Course',\r\n            name: 'Primary Education (ECD A - Grade 7)',\r\n            description: 'Comprehensive primary education with Cambridge curriculum',\r\n          },\r\n        },\r\n        {\r\n          '@type': 'Offer',\r\n          itemOffered: {\r\n            '@type': 'Service',\r\n            name: 'Boarding Facilities',\r\n            description: 'Full boarding with modern dormitories and 24/7 supervision',\r\n          },\r\n        },\r\n        {\r\n          '@type': 'Offer',\r\n          itemOffered: {\r\n            '@type': 'Service',\r\n            name: 'Sports Programs',\r\n            description: 'Football, netball, athletics, and other sporting activities',\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * School location schema\r\n */\r\nexport function getSchoolPlaceSchema(): WithContext<Place> {\r\n  return {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'Place',\r\n    '@id': 'https://regisbridge.page/#place',\r\n    name: 'Regisbridge Private School Campus',\r\n    description: 'Modern school campus with boarding facilities, sports grounds, and academic buildings',\r\n    \r\n    address: {\r\n      '@type': 'PostalAddress',\r\n      streetAddress: '3502 Turf, Ngezi',\r\n      addressLocality: 'Mhondoro',\r\n      addressRegion: 'Mashonaland West',\r\n      postalCode: '',\r\n      addressCountry: 'ZW',\r\n    },\r\n    \r\n    geo: {\r\n      '@type': 'GeoCoordinates',\r\n      latitude: -18.0833,\r\n      longitude: 30.0833,\r\n    },\r\n    \r\n    hasMap: 'https://www.google.com/maps/search/?api=1&query=Regisbridge+Private+School+Ngezi',\r\n  }\r\n}\r\n\r\n/**\r\n * Academic courses schema\r\n */\r\nexport function getCoursesSchema(): WithContext<Course>[] {\r\n  const baseUrl = 'https://regisbridge.page'\r\n  \r\n  return [\r\n    {\r\n      '@context': 'https://schema.org',\r\n      '@type': 'Course',\r\n      '@id': `${baseUrl}/#course-primary`,\r\n      name: 'Primary Education (Grades 1-7)',\r\n      description: 'Comprehensive primary education following the Cambridge International curriculum with focus on core subjects including Mathematics, English, Sciences, and Humanities.',\r\n      provider: {\r\n        '@type': 'EducationalOrganization',\r\n        '@id': `${baseUrl}/#organization`,\r\n        name: 'Regisbridge Private School',\r\n      },\r\n      educationalLevel: 'Primary Education',\r\n      occupationalCredentialAwarded: 'Grade 7 Certificate',\r\n      courseCode: 'PRIMARY-1-7',\r\n      hasCourseInstance: {\r\n        '@type': 'CourseInstance',\r\n        courseMode: 'onsite',\r\n        courseWorkload: 'Full-time',\r\n        instructor: {\r\n          '@type': 'Person',\r\n          name: 'Qualified Teachers',\r\n          description: 'Experienced educators with specialized training',\r\n        },\r\n      },\r\n    },\r\n    {\r\n      '@context': 'https://schema.org',\r\n      '@type': 'Course',\r\n      '@id': `${baseUrl}/#course-ecd`,\r\n      name: 'Early Childhood Development (ECD A-B)',\r\n      description: 'Foundation stage education for young learners focusing on play-based learning, basic literacy, numeracy, and social development.',\r\n      provider: {\r\n        '@type': 'EducationalOrganization',\r\n        '@id': `${baseUrl}/#organization`,\r\n        name: 'Regisbridge Private School',\r\n      },\r\n      educationalLevel: 'Early Childhood',\r\n      courseCode: 'ECD-A-B',\r\n    },\r\n  ]\r\n}\r\n\r\n/**\r\n * Breadcrumb schema for navigation\r\n */\r\nexport function getBreadcrumbSchema(items: { name: string; url: string }[]) {\r\n  return {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'BreadcrumbList',\r\n    itemListElement: items.map((item, index) => ({\r\n      '@type': 'ListItem',\r\n      position: index + 1,\r\n      name: item.name,\r\n      item: item.url,\r\n    })),\r\n  }\r\n}\r\n\r\n/**\r\n * Event schema (for news/calendar items)\r\n */\r\nexport function getEventSchema(event: {\r\n  name: string\r\n  description: string\r\n  startDate: string\r\n  endDate?: string\r\n  location?: string\r\n}): WithContext<Event> {\r\n  return {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'Event',\r\n    name: event.name,\r\n    description: event.description,\r\n    startDate: event.startDate,\r\n    endDate: event.endDate || event.startDate,\r\n    location: event.location ? {\r\n      '@type': 'Place',\r\n      name: event.location,\r\n      address: {\r\n        '@type': 'PostalAddress',\r\n        streetAddress: '3502 Turf, Ngezi',\r\n        addressLocality: 'Mhondoro',\r\n        addressCountry: 'ZW',\r\n      },\r\n    } : undefined,\r\n    organizer: {\r\n      '@type': 'EducationalOrganization',\r\n      '@id': 'https://regisbridge.page/#organization',\r\n      name: 'Regisbridge Private School',\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * FAQ schema for common questions\r\n */\r\nexport function getFAQSchema(faqs: { question: string; answer: string }[]) {\r\n  return {\r\n    '@context': 'https://schema.org',\r\n    '@type': 'FAQPage',\r\n    mainEntity: faqs.map((faq) => ({\r\n      '@type': 'Question',\r\n      name: faq.question,\r\n      acceptedAnswer: {\r\n        '@type': 'Answer',\r\n        text: faq.answer,\r\n      },\r\n    })),\r\n  }\r\n}\r\n\r\n/**\r\n * Combine all structured data for homepage\r\n */\r\nexport function getAllStructuredData() {\r\n  return [\r\n    getSchoolOrganizationSchema(),\r\n    getSchoolPlaceSchema(),\r\n    ...getCoursesSchema(),\r\n  ]\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\system\\ai.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_input' is defined but never used.","line":18,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Lightweight AI subsystem stub\r\n * Purpose: provide a stable interface for higher-level code while\r\n * allowing incremental implementation of AI features.\r\n */\r\nexport interface AIEngine {\r\n  init(): Promise<void>;\r\n  analyze(input: unknown): Promise<unknown>;\r\n  shutdown(): Promise<void>;\r\n}\r\n\r\nexport const createAIEngine = (): AIEngine => {\r\n  return {\r\n    async init() {\r\n      // no-op stub\r\n      return;\r\n    },\r\n    async analyze(_input: unknown) {\r\n      // return empty analysis by default\r\n      return {};\r\n    },\r\n    async shutdown() {\r\n      // no-op\r\n      return;\r\n    },\r\n  };\r\n};\r\n\r\nexport default createAIEngine;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\system\\network.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_endpoint' is defined but never used.","line":17,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Lightweight Network subsystem stub\r\n * Purpose: centralize and abstract network operations (realtime/RTC)\r\n */\r\nexport interface NetworkEngine {\r\n  init(): Promise<void>;\r\n  connect(endpoint: string): Promise<void>;\r\n  disconnect(): Promise<void>;\r\n}\r\n\r\nexport const createNetworkEngine = (): NetworkEngine => {\r\n  return {\r\n    async init() {\r\n      // no-op stub\r\n      return;\r\n    },\r\n    async connect(_endpoint: string) {\r\n      // stubbed - no real connection\r\n      return;\r\n    },\r\n    async disconnect() {\r\n      // stubbed\r\n      return;\r\n    },\r\n  };\r\n};\r\n\r\nexport default createNetworkEngine;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\system\\physics.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_deltaMs' is defined but never used.","line":17,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Lightweight Physics subsystem stub\r\n * Provides a stable API surface for future physics engine integration.\r\n */\r\nexport interface PhysicsEngine {\r\n  init(): Promise<void>;\r\n  simulateStep(deltaMs: number): Promise<void>;\r\n  shutdown(): Promise<void>;\r\n}\r\n\r\nexport const createPhysicsEngine = (): PhysicsEngine => {\r\n  return {\r\n    async init() {\r\n      // stubbed\r\n      return;\r\n    },\r\n    async simulateStep(_deltaMs: number) {\r\n      // stubbed - no simulation\r\n      return;\r\n    },\r\n    async shutdown() {\r\n      // stubbed\r\n      return;\r\n    },\r\n  };\r\n};\r\n\r\nexport default createPhysicsEngine;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\system\\rendering.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\user-utils.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[347,350],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[347,350],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'password' is assigned a value but never used.","line":31,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":31,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * User data utility functions\r\n * Handles sanitization, validation, and transformation of user data\r\n */\r\n\r\nexport interface User {\r\n  id: string\r\n  email: string\r\n  firstName: string\r\n  lastName: string\r\n  role: string\r\n  grade?: string | null\r\n  studentId?: string | null\r\n  phoneNumber?: string | null\r\n  status?: string\r\n  permissions?: any\r\n  createdAt?: Date | string\r\n  updatedAt?: Date | string\r\n}\r\n\r\nexport interface UserWithPassword extends User {\r\n  password: string\r\n}\r\n\r\n/**\r\n * Remove sensitive fields from user object\r\n * @param user User object with potential sensitive data\r\n * @returns Sanitized user object without password\r\n */\r\nexport function sanitizeUser<T extends Partial<UserWithPassword>>(user: T): Omit<T, 'password'> {\r\n  const { password, ...sanitized } = user\r\n  return sanitized\r\n}\r\n\r\n/**\r\n * Remove sensitive fields from array of users\r\n * @param users Array of user objects\r\n * @returns Array of sanitized users\r\n */\r\nexport function sanitizeUsers<T extends Partial<UserWithPassword>>(users: T[]): Omit<T, 'password'>[] {\r\n  return users.map(sanitizeUser)\r\n}\r\n\r\n/**\r\n * Normalize email to lowercase and trim whitespace\r\n * @param email Email address\r\n * @returns Normalized email\r\n */\r\nexport function normalizeEmail(email: string): string {\r\n  return email.toLowerCase().trim()\r\n}\r\n\r\n/**\r\n * Normalize name fields (trim and capitalize first letter)\r\n * @param name Name string\r\n * @returns Normalized name\r\n */\r\nexport function normalizeName(name: string): string {\r\n  const trimmed = name.trim()\r\n  return trimmed.charAt(0).toUpperCase() + trimmed.slice(1)\r\n}\r\n\r\n/**\r\n * Validate email format\r\n * @param email Email address\r\n * @returns True if valid email format\r\n */\r\nexport function isValidEmail(email: string): boolean {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n  return emailRegex.test(email)\r\n}\r\n\r\n/**\r\n * Validate phone number format (basic)\r\n * @param phone Phone number\r\n * @returns True if valid phone format\r\n */\r\nexport function isValidPhone(phone: string): boolean {\r\n  const phoneRegex = /^[\\d\\s\\-+()]{10,}$/\r\n  return phoneRegex.test(phone)\r\n}\r\n\r\n/**\r\n * Get user display name\r\n * @param user User object\r\n * @returns Full name or email if names not available\r\n */\r\nexport function getUserDisplayName(user: Partial<User>): string {\r\n  if (user.firstName && user.lastName) {\r\n    return `${user.firstName} ${user.lastName}`\r\n  }\r\n  if (user.firstName) return user.firstName\r\n  if (user.lastName) return user.lastName\r\n  return user.email || 'Unknown User'\r\n}\r\n\r\n/**\r\n * Get user initials\r\n * @param user User object\r\n * @returns User initials (2 characters)\r\n */\r\nexport function getUserInitials(user: Partial<User>): string {\r\n  if (user.firstName && user.lastName) {\r\n    return `${user.firstName.charAt(0)}${user.lastName.charAt(0)}`.toUpperCase()\r\n  }\r\n  if (user.firstName) return user.firstName.substring(0, 2).toUpperCase()\r\n  if (user.email) return user.email.substring(0, 2).toUpperCase()\r\n  return 'U'\r\n}\r\n\r\n/**\r\n * Check if user has admin role\r\n * @param user User object\r\n * @returns True if user is admin\r\n */\r\nexport function isAdmin(user: Partial<User> | null): boolean {\r\n  return user?.role === 'admin'\r\n}\r\n\r\n/**\r\n * Check if user has teacher role\r\n * @param user User object\r\n * @returns True if user is teacher\r\n */\r\nexport function isTeacher(user: Partial<User> | null): boolean {\r\n  return user?.role === 'teacher'\r\n}\r\n\r\n/**\r\n * Check if user has student role\r\n * @param user User object\r\n * @returns True if user is student\r\n */\r\nexport function isStudent(user: Partial<User> | null): boolean {\r\n  return user?.role === 'student'\r\n}\r\n\r\n/**\r\n * Check if user is active\r\n * @param user User object\r\n * @returns True if user status is active\r\n */\r\nexport function isActiveUser(user: Partial<User> | null): boolean {\r\n  return user?.status === 'active' || !user?.status // Default to active if no status\r\n}\r\n\r\n/**\r\n * Format user data for API response\r\n * @param user User object from database\r\n * @returns Formatted user object\r\n */\r\nexport function formatUserForAPI(user: UserWithPassword): User {\r\n  return {\r\n    id: user.id,\r\n    email: user.email,\r\n    firstName: user.firstName,\r\n    lastName: user.lastName,\r\n    role: user.role,\r\n    grade: user.grade || null,\r\n    studentId: user.studentId || null,\r\n    phoneNumber: user.phoneNumber || null,\r\n    status: user.status || 'active',\r\n    permissions: user.permissions || null,\r\n    createdAt: user.createdAt,\r\n    updatedAt: user.updatedAt,\r\n  }\r\n}\r\n\r\n/**\r\n * Prepare user data for database insertion\r\n * @param userData Raw user data from form/API\r\n * @returns Normalized user data ready for DB\r\n */\r\nexport function prepareUserForDB(userData: Partial<UserWithPassword>): Partial<UserWithPassword> {\r\n  const prepared: Partial<UserWithPassword> = {\r\n    ...userData,\r\n  }\r\n\r\n  if (userData.email) {\r\n    prepared.email = normalizeEmail(userData.email)\r\n  }\r\n\r\n  if (userData.firstName) {\r\n    prepared.firstName = normalizeName(userData.firstName)\r\n  }\r\n\r\n  if (userData.lastName) {\r\n    prepared.lastName = normalizeName(userData.lastName)\r\n  }\r\n\r\n  if (userData.phoneNumber) {\r\n    prepared.phoneNumber = userData.phoneNumber.trim() || null\r\n  }\r\n\r\n  if (userData.grade) {\r\n    prepared.grade = userData.grade.trim() || null\r\n  }\r\n\r\n  if (userData.studentId) {\r\n    prepared.studentId = userData.studentId.trim() || null\r\n  }\r\n\r\n  return prepared\r\n}\r\n\r\n/**\r\n * Filter users by role\r\n * @param users Array of users\r\n * @param role Role to filter by\r\n * @returns Filtered users\r\n */\r\nexport function filterUsersByRole(users: User[], role: string): User[] {\r\n  return users.filter(user => user.role === role)\r\n}\r\n\r\n/**\r\n * Filter users by status\r\n * @param users Array of users\r\n * @param status Status to filter by\r\n * @returns Filtered users\r\n */\r\nexport function filterUsersByStatus(users: User[], status: string): User[] {\r\n  return users.filter(user => (user.status || 'active') === status)\r\n}\r\n\r\n/**\r\n * Search users by query string\r\n * @param users Array of users\r\n * @param query Search query\r\n * @returns Matching users\r\n */\r\nexport function searchUsers(users: User[], query: string): User[] {\r\n  const lowerQuery = query.toLowerCase().trim()\r\n  if (!lowerQuery) return users\r\n\r\n  return users.filter(user => {\r\n    const searchFields = [\r\n      user.firstName?.toLowerCase(),\r\n      user.lastName?.toLowerCase(),\r\n      user.email?.toLowerCase(),\r\n      user.studentId?.toLowerCase(),\r\n      user.phoneNumber?.toLowerCase(),\r\n    ].filter(Boolean)\r\n\r\n    return searchFields.some(field => field?.includes(lowerQuery))\r\n  })\r\n}\r\n\r\n/**\r\n * Sort users by field\r\n * @param users Array of users\r\n * @param field Field to sort by\r\n * @param order Sort order\r\n * @returns Sorted users\r\n */\r\nexport function sortUsers(\r\n  users: User[], \r\n  field: keyof User = 'createdAt', \r\n  order: 'asc' | 'desc' = 'desc'\r\n): User[] {\r\n  return [...users].sort((a, b) => {\r\n    const aVal = a[field]\r\n    const bVal = b[field]\r\n\r\n    if (aVal === undefined || aVal === null) return 1\r\n    if (bVal === undefined || bVal === null) return -1\r\n\r\n    if (typeof aVal === 'string' && typeof bVal === 'string') {\r\n      return order === 'asc' \r\n        ? aVal.localeCompare(bVal) \r\n        : bVal.localeCompare(aVal)\r\n    }\r\n\r\n    if (aVal instanceof Date && bVal instanceof Date) {\r\n      return order === 'asc' \r\n        ? aVal.getTime() - bVal.getTime()\r\n        : bVal.getTime() - aVal.getTime()\r\n    }\r\n\r\n    return 0\r\n  })\r\n}\r\n\r\n/**\r\n * Validate user data completeness\r\n * @param user User object\r\n * @returns Object with validation result and missing fields\r\n */\r\nexport function validateUserCompleteness(user: Partial<User>): {\r\n  isComplete: boolean\r\n  missingFields: string[]\r\n} {\r\n  const requiredFields: (keyof User)[] = ['email', 'firstName', 'lastName', 'role']\r\n  const missingFields = requiredFields.filter(field => !user[field])\r\n\r\n  return {\r\n    isComplete: missingFields.length === 0,\r\n    missingFields,\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\users-store.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":36,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":36,"endColumn":14,"suggestions":[{"fix":{"range":[910,985],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * In-memory user storage\r\n * This is a singleton that persists across hot reloads\r\n */\r\n\r\ninterface User {\r\n  id: string\r\n  email: string\r\n  password: string\r\n  firstName: string\r\n  lastName: string\r\n  role: string\r\n  permissions?: string[]\r\n  grade?: string\r\n  studentId?: string\r\n  createdAt: string\r\n}\r\n\r\n// Singleton in-memory users map\r\nconst users = new Map<string, User>()\r\n\r\n// Seed default superadmin user (password: Admin@123)\r\n// Pre-hashed with bcrypt\r\nconst defaultAdminId = 'superadmin_default_001'\r\nif (!users.has(defaultAdminId)) {\r\n  users.set(defaultAdminId, {\r\n    id: defaultAdminId,\r\n    email: 'admin@regisbridge.ac.zw',\r\n    password: '$2a$10$b2GpYehSM0dsmGINqqdcaueDrTtavfxhgJBXWz13Qbo6zf7YDtKYW', // Admin@123\r\n    firstName: 'Super',\r\n    lastName: 'Admin',\r\n    role: 'superadmin',\r\n    permissions: ['*'], // All permissions\r\n    createdAt: new Date().toISOString(),\r\n  })\r\n  console.log('âœ“ Default superadmin user seeded:', 'admin@regisbridge.ac.zw')\r\n}\r\n\r\nexport { users }\r\nexport type { User }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\utils\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\lib\\utils\\registration-number.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":103,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":103,"endColumn":18,"suggestions":[{"fix":{"range":[3089,3150],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":240,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":240,"endColumn":18,"suggestions":[{"fix":{"range":[7458,7515],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Student Registration Number Generator\r\n * \r\n * Generates unique student registration numbers in format:\r\n * REG-{YEAR}-{SEQUENCE}\r\n * \r\n * Example: REG-2025-0001, REG-2025-0002, etc.\r\n * \r\n * Features:\r\n * - Year-based numbering (resets each academic year)\r\n * - Zero-padded sequence numbers (0001, 0002, etc.)\r\n * - Configurable prefix and padding\r\n * - Collision detection and retry logic\r\n */\r\n\r\nimport { PrismaClient } from '@prisma/client'\r\n\r\nconst prisma = new PrismaClient()\r\nconst isDbEnabled = Boolean(process.env.DATABASE_URL)\r\n\r\nexport interface RegNumberConfig {\r\n  prefix?: string        // Default: 'REG'\r\n  yearFormat?: 'full' | 'short'  // Default: 'full' (2025 vs 25)\r\n  sequencePadding?: number       // Default: 3 (001, 002, etc.)\r\n  separator?: string              // Default: '-'\r\n}\r\n\r\nconst DEFAULT_CONFIG: Required<RegNumberConfig> = {\r\n  prefix: 'REG',\r\n  yearFormat: 'short',\r\n  sequencePadding: 3,\r\n  separator: '',\r\n}\r\n\r\n/**\r\n * Generate the next available registration number\r\n * @param config - Configuration for registration number format\r\n * @returns Promise<string> - The generated registration number\r\n */\r\nexport async function generateRegistrationNumber(\r\n  config: RegNumberConfig = {}\r\n): Promise<string> {\r\n  const finalConfig = { ...DEFAULT_CONFIG, ...config }\r\n  const { prefix, yearFormat, sequencePadding, separator } = finalConfig\r\n  \r\n  // Get current year\r\n  const now = new Date()\r\n  const currentYear = now.getFullYear()\r\n  const yearStr = yearFormat === 'short' \r\n    ? currentYear.toString().slice(-2)\r\n    : currentYear.toString()\r\n  \r\n  // Build pattern for current year\r\n  const pattern = `${prefix}${separator}${yearStr}${separator}`\r\n  \r\n  // If database not available, generate with timestamp\r\n  if (!isDbEnabled) {\r\n    const timestamp = Date.now().toString().slice(-sequencePadding)\r\n    return `${pattern}${timestamp.padStart(sequencePadding, '0')}`\r\n  }\r\n  \r\n  try {\r\n    // Find highest sequence number for current year\r\n    // @ts-expect-error - Student model may not exist until migration runs\r\n    const students = await prisma.student.findMany({\r\n      where: {\r\n        rollNumber: {\r\n          startsWith: pattern,\r\n        },\r\n      },\r\n      select: {\r\n        rollNumber: true,\r\n      },\r\n      orderBy: {\r\n        rollNumber: 'desc',\r\n      },\r\n      take: 1,\r\n    })\r\n    \r\n    let nextSequence = 1\r\n    \r\n    if (students.length > 0) {\r\n      // Extract sequence number from last registration number\r\n      const lastRegNumber = students[0].rollNumber\r\n      const sequenceStr = lastRegNumber.split(separator).pop()\r\n      \r\n      if (sequenceStr) {\r\n        const lastSequence = parseInt(sequenceStr, 10)\r\n        if (!isNaN(lastSequence)) {\r\n          nextSequence = lastSequence + 1\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Format sequence with zero-padding\r\n    const sequenceStr = nextSequence.toString().padStart(sequencePadding, '0')\r\n    \r\n    // Build final registration number\r\n    const registrationNumber = `${pattern}${sequenceStr}`\r\n    \r\n    return registrationNumber\r\n  } catch (error) {\r\n    console.error('Error generating registration number:', error)\r\n    \r\n    // Fallback: Generate with timestamp to ensure uniqueness\r\n    const timestamp = Date.now().toString().slice(-6)\r\n    return `${prefix}${separator}${yearStr}${separator}${timestamp}`\r\n  }\r\n}\r\n\r\n/**\r\n * Generate registration number with retry on collision\r\n * @param config - Configuration for registration number format\r\n * @param maxRetries - Maximum number of retry attempts (default: 3)\r\n * @returns Promise<string> - The generated registration number\r\n */\r\nexport async function generateUniqueRegistrationNumber(\r\n  config: RegNumberConfig = {},\r\n  maxRetries: number = 3\r\n): Promise<string> {\r\n  for (let attempt = 0; attempt < maxRetries; attempt++) {\r\n    const regNumber = await generateRegistrationNumber(config)\r\n    \r\n    // Check if number already exists\r\n    // @ts-expect-error - Student model may not exist until migration runs\r\n    const existing = await prisma.student.findUnique({\r\n      where: { rollNumber: regNumber },\r\n    })\r\n    \r\n    if (!existing) {\r\n      return regNumber\r\n    }\r\n    \r\n    // If collision detected, wait a bit and retry\r\n    await new Promise(resolve => setTimeout(resolve, 100 * (attempt + 1)))\r\n  }\r\n  \r\n  // Last resort: Add random suffix\r\n  const regNumber = await generateRegistrationNumber(config)\r\n  const randomSuffix = Math.random().toString(36).substring(2, 5).toUpperCase()\r\n  return `${regNumber}${config.separator || '-'}${randomSuffix}`\r\n}\r\n\r\n/**\r\n * Validate registration number format\r\n * @param regNumber - Registration number to validate\r\n * @param config - Configuration used to generate the number\r\n * @returns boolean - True if valid format\r\n */\r\nexport function isValidRegistrationNumber(\r\n  regNumber: string,\r\n  config: RegNumberConfig = {}\r\n): boolean {\r\n  const finalConfig = { ...DEFAULT_CONFIG, ...config }\r\n  const { prefix, separator, sequencePadding } = finalConfig\r\n  \r\n  // Build regex pattern\r\n  // Example: REG-2025-001 or REG-25-001\r\n  const yearPattern = finalConfig.yearFormat === 'short' ? '\\\\d{2}' : '\\\\d{4}'\r\n  const sequencePattern = `\\\\d{${sequencePadding}}`\r\n  const pattern = new RegExp(\r\n    `^${prefix}${separator}${yearPattern}${separator}${sequencePattern}$`\r\n  )\r\n  \r\n  return pattern.test(regNumber)\r\n}\r\n\r\n/**\r\n * Parse registration number into components\r\n * @param regNumber - Registration number to parse\r\n * @param config - Configuration used to generate the number\r\n * @returns Object with prefix, year, and sequence\r\n */\r\nexport function parseRegistrationNumber(\r\n  regNumber: string,\r\n  config: RegNumberConfig = {}\r\n): { prefix: string; year: string; sequence: string } | null {\r\n  const finalConfig = { ...DEFAULT_CONFIG, ...config }\r\n  const { separator } = finalConfig\r\n  \r\n  const parts = regNumber.split(separator)\r\n  \r\n  if (parts.length !== 3) {\r\n    return null\r\n  }\r\n  \r\n  return {\r\n    prefix: parts[0],\r\n    year: parts[1],\r\n    sequence: parts[2],\r\n  }\r\n}\r\n\r\n/**\r\n * Get statistics about registration numbers for a given year\r\n * @param year - Academic year (e.g., 2025)\r\n * @param config - Configuration for registration number format\r\n * @returns Promise<{ total: number; lastNumber: string | null }>\r\n */\r\nexport async function getRegistrationStats(\r\n  year?: number,\r\n  config: RegNumberConfig = {}\r\n): Promise<{ total: number; lastNumber: string | null; nextNumber: string }> {\r\n  const finalConfig = { ...DEFAULT_CONFIG, ...config }\r\n  const { prefix, yearFormat, separator } = finalConfig\r\n  \r\n  const currentYear = year || new Date().getFullYear()\r\n  const yearStr = yearFormat === 'short' \r\n    ? currentYear.toString().slice(-2)\r\n    : currentYear.toString()\r\n  \r\n  const pattern = `${prefix}${separator}${yearStr}${separator}`\r\n  \r\n  try {\r\n    // @ts-expect-error - Student model may not exist until migration runs\r\n    const students = await prisma.student.findMany({\r\n      where: {\r\n        rollNumber: {\r\n          startsWith: pattern,\r\n        },\r\n      },\r\n      select: {\r\n        rollNumber: true,\r\n      },\r\n      orderBy: {\r\n        rollNumber: 'desc',\r\n      },\r\n    })\r\n    \r\n    const total = students.length\r\n    const lastNumber = students.length > 0 ? students[0].rollNumber : null\r\n    const nextNumber = await generateRegistrationNumber(config)\r\n    \r\n    return {\r\n      total,\r\n      lastNumber,\r\n      nextNumber,\r\n    }\r\n  } catch (error) {\r\n    console.error('Error getting registration stats:', error)\r\n    return {\r\n      total: 0,\r\n      lastNumber: null,\r\n      nextNumber: await generateRegistrationNumber(config),\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Bulk generate registration numbers\r\n * @param count - Number of registration numbers to generate\r\n * @param config - Configuration for registration number format\r\n * @returns Promise<string[]> - Array of generated registration numbers\r\n */\r\nexport async function bulkGenerateRegistrationNumbers(\r\n  count: number,\r\n  config: RegNumberConfig = {}\r\n): Promise<string[]> {\r\n  const numbers: string[] = []\r\n  \r\n  for (let i = 0; i < count; i++) {\r\n    const regNumber = await generateUniqueRegistrationNumber(config)\r\n    numbers.push(regNumber)\r\n  }\r\n  \r\n  return numbers\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\services\\adminService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\services\\api.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DEMO_DATA' is assigned a value but never used.","line":12,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":16},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":111,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":111,"endColumn":20,"suggestions":[{"fix":{"range":[3604,3648],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":127,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4140,4143],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4140,4143],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":128,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4175,4178],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4175,4178],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":131,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":131,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4294,4297],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4294,4297],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":132,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":132,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4329,4332],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4329,4332],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":136,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":136,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4449,4452],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4449,4452],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":143,"column":80,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":83,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4721,4724],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4721,4724],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":156,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":156,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5107,5110],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5107,5110],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":164,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":164,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5371,5374],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5371,5374],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":172,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":172,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5645,5648],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5645,5648],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":180,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":180,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5901,5904],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5901,5904],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":180,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":180,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5927,5930],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5927,5930],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":188,"column":76,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":188,"endColumn":79,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6144,6147],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6144,6147],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":192,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":192,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6278,6281],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6278,6281],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":197,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":197,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6394,6397],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6394,6397],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":197,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":197,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6420,6423],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6420,6423],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":205,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":205,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6633,6636],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6633,6636],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":213,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":213,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6837,6840],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6837,6840],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":217,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":217,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6947,6950],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6947,6950],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":222,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":222,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7086,7089],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7086,7089],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":227,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":227,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7224,7227],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7224,7227],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":232,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":232,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7342,7345],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7342,7345],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":23,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// API Service for Regisbridge School Website\r\n// This provides integration capabilities for external systems\r\n\r\n// Next.js API routes - use relative paths in production, localhost in dev\r\nimport { isBrowser } from '@/lib/platform'\r\n\r\nconst API_BASE_URL = isBrowser()\r\n  ? (window.location.hostname === 'localhost' ? 'http://localhost:3000' : '')\r\n  : '';\r\n\r\n// Demo data for development - replace with real API calls\r\nconst DEMO_DATA = {\r\n  students: [\r\n    {\r\n      id: 'STU001',\r\n      name: 'John Smith',\r\n      grade: 'Form 3A',\r\n      email: 'john.smith@student.regisbridge.ac.zw',\r\n      grades: [\r\n        { subject: 'Mathematics', grade: 'A', percentage: 92, teacher: 'Mrs. Johnson' },\r\n        { subject: 'English', grade: 'A-', percentage: 88, teacher: 'Ms. Davis' },\r\n        { subject: 'Science', grade: 'B+', percentage: 85, teacher: 'Mr. Thompson' },\r\n        { subject: 'Social Studies', grade: 'A', percentage: 91, teacher: 'Mrs. Nkosi' },\r\n        { subject: 'ICT', grade: 'A-', percentage: 87, teacher: 'Mr. Wilson' },\r\n      ],\r\n      assignments: [\r\n        { title: 'Mathematics Assignment 3', subject: 'Mathematics', dueDate: '2025-01-20', status: 'submitted' },\r\n        { title: 'Science Lab Report', subject: 'Science', dueDate: '2025-01-22', status: 'pending' },\r\n        { title: 'English Essay', subject: 'English', dueDate: '2025-01-25', status: 'draft' },\r\n      ],\r\n      announcements: [\r\n        { title: 'Term 2 Examination Schedule', date: '2025-01-15', priority: 'high' },\r\n        { title: 'Sports Day Registration Open', date: '2025-01-12', priority: 'medium' },\r\n        { title: 'Library Book Return Reminder', date: '2025-01-10', priority: 'low' },\r\n      ]\r\n    }\r\n  ],\r\n  events: [\r\n    { date: '2025-01-15', title: 'Term 2 Opening', type: 'academic' },\r\n    { date: '2025-02-14', title: 'Valentine\\'s Day Assembly', type: 'cultural' },\r\n    { date: '2025-03-10', title: 'Science Fair', type: 'academic' },\r\n    { date: '2025-03-25', title: 'Sports Day', type: 'sports' },\r\n    { date: '2025-04-02', title: 'Easter Break Begins', type: 'holiday' },\r\n  ],\r\n  sports: {\r\n    football: {\r\n      teams: [\r\n        { name: 'Senior Boys', coach: 'Mr. Ndlovu', players: 22, achievements: 'Regional Champions 2024' },\r\n        { name: 'Junior Boys', coach: 'Mr. Moyo', players: 18, achievements: 'District Winners 2024' },\r\n      ]\r\n    }\r\n  }\r\n};\r\n\r\nexport interface ApiResponse<T> {\r\n  success: boolean;\r\n  data?: T;\r\n  error?: string;\r\n  message?: string;\r\n}\r\n\r\nexport interface StudentData {\r\n  id: string;\r\n  name: string;\r\n  grade: string;\r\n  email: string;\r\n}\r\n\r\nexport interface ApplicationData {\r\n  id: string;\r\n  studentName: string;\r\n  parentEmail: string;\r\n  status: 'pending' | 'reviewing' | 'approved' | 'rejected';\r\n  submittedDate: string;\r\n}\r\n\r\nexport interface PaymentData {\r\n  id: string;\r\n  studentId: string;\r\n  amount: number;\r\n  description: string;\r\n  status: 'pending' | 'completed' | 'failed';\r\n  date: string;\r\n}\r\n\r\nclass ApiService {\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<ApiResponse<T>> {\r\n    try {\r\n      const url = `${API_BASE_URL}${endpoint}`;\r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...options.headers,\r\n        },\r\n        ...options,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      return {\r\n        success: true,\r\n        data,\r\n      };\r\n    } catch (error) {\r\n      console.error('API request failed:', error);\r\n      return {\r\n        success: false,\r\n        error: error instanceof Error ? error.message : 'Unknown error occurred',\r\n      };\r\n    }\r\n  }\r\n\r\n  // Student Portal APIs\r\n  async authenticateStudent(email: string, password: string): Promise<ApiResponse<StudentData>> {\r\n    return this.request<StudentData>('/auth/student/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n  }\r\n\r\n  async getStudentGrades(studentId: string): Promise<ApiResponse<any[]>> {\r\n    return this.request<any[]>(`/students/${studentId}/grades`);\r\n  }\r\n\r\n  async getStudentAssignments(studentId: string): Promise<ApiResponse<any[]>> {\r\n    return this.request<any[]>(`/students/${studentId}/assignments`);\r\n  }\r\n\r\n  // Application APIs\r\n  async submitApplication(applicationData: any): Promise<ApiResponse<ApplicationData>> {\r\n    return this.request<ApplicationData>('/applications', {\r\n      method: 'POST',\r\n      body: JSON.stringify(applicationData),\r\n    });\r\n  }\r\n\r\n  async uploadDocument(file: File, applicationId: string): Promise<ApiResponse<any>> {\r\n    const formData = new FormData();\r\n    formData.append('document', file);\r\n    formData.append('applicationId', applicationId);\r\n\r\n    return this.request('/documents/upload', {\r\n      method: 'POST',\r\n      body: formData,\r\n      headers: {}, // Let browser set content-type for FormData\r\n    });\r\n  }\r\n\r\n  // Financial APIs\r\n  async getFeeStructure(): Promise<ApiResponse<any>> {\r\n    return this.request('/fees/structure');\r\n  }\r\n\r\n  async getPaymentHistory(studentId: string): Promise<ApiResponse<PaymentData[]>> {\r\n    return this.request<PaymentData[]>(`/payments/student/${studentId}`);\r\n  }\r\n\r\n  async processPayment(paymentData: any): Promise<ApiResponse<PaymentData>> {\r\n    return this.request<PaymentData>('/payments', {\r\n      method: 'POST',\r\n      body: JSON.stringify(paymentData),\r\n    });\r\n  }\r\n\r\n  // Calendar APIs\r\n  async getEvents(startDate?: string, endDate?: string): Promise<ApiResponse<any[]>> {\r\n    const params = new URLSearchParams();\r\n    if (startDate) params.append('start', startDate);\r\n    if (endDate) params.append('end', endDate);\r\n\r\n    return this.request(`/events?${params.toString()}`);\r\n  }\r\n\r\n  async createEvent(eventData: any): Promise<ApiResponse<any>> {\r\n    return this.request('/events', {\r\n      method: 'POST',\r\n      body: JSON.stringify(eventData),\r\n    });\r\n  }\r\n\r\n  // News APIs\r\n  async getNews(page: number = 1, limit: number = 10): Promise<ApiResponse<any[]>> {\r\n    return this.request(`/news?page=${page}&limit=${limit}`);\r\n  }\r\n\r\n  async getNewsById(id: string): Promise<ApiResponse<any>> {\r\n    return this.request(`/news/${id}`);\r\n  }\r\n\r\n  // Contact Form API\r\n  async submitContactForm(formData: any): Promise<ApiResponse<any>> {\r\n    return this.request('/contact', {\r\n      method: 'POST',\r\n      body: JSON.stringify(formData),\r\n    });\r\n  }\r\n\r\n  // Newsletter API\r\n  async subscribeToNewsletter(email: string): Promise<ApiResponse<any>> {\r\n    return this.request('/newsletter/subscribe', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ email }),\r\n    });\r\n  }\r\n\r\n  // Sports APIs\r\n  async getSportsTeams(): Promise<ApiResponse<any[]>> {\r\n    return this.request('/sports/teams');\r\n  }\r\n\r\n  async getSportsSchedule(): Promise<ApiResponse<any[]>> {\r\n    return this.request('/sports/schedule');\r\n  }\r\n\r\n  // Staff Directory API\r\n  async getStaffDirectory(): Promise<ApiResponse<any[]>> {\r\n    return this.request('/staff');\r\n  }\r\n\r\n  // Analytics API (for admin use)\r\n  async getAnalyticsData(): Promise<ApiResponse<any>> {\r\n    return this.request('/analytics');\r\n  }\r\n\r\n  // Health check\r\n  async healthCheck(): Promise<ApiResponse<any>> {\r\n    return this.request('/health');\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const apiService = new ApiService();\r\n\r\n// Utility functions for common operations\r\nexport const apiUtils = {\r\n  // Retry failed requests\r\n  async retryRequest<T>(\r\n    requestFn: () => Promise<ApiResponse<T>>,\r\n    maxRetries: number = 3\r\n  ): Promise<ApiResponse<T>> {\r\n    for (let i = 0; i < maxRetries; i++) {\r\n      const result = await requestFn();\r\n      if (result.success) {\r\n        return result;\r\n      }\r\n      // Wait before retrying (exponential backoff)\r\n      await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000));\r\n    }\r\n    return { success: false, error: 'Max retries exceeded' };\r\n  },\r\n\r\n  // Cache responses\r\n  cache: new Map<string, { data: unknown; timestamp: number }>(),\r\n\r\n  async cachedRequest<T>(\r\n    key: string,\r\n    requestFn: () => Promise<ApiResponse<T>>,\r\n    ttl: number = 5 * 60 * 1000 // 5 minutes\r\n  ): Promise<ApiResponse<T>> {\r\n    const cached = this.cache.get(key);\r\n    if (cached && Date.now() - cached.timestamp < ttl) {\r\n      return { success: true, data: cached.data as T };\r\n    }\r\n\r\n    const result = await requestFn();\r\n    if (result.success && result.data) {\r\n      this.cache.set(key, { data: result.data, timestamp: Date.now() });\r\n    }\r\n\r\n    return result;\r\n  },\r\n};\r\n\r\nexport default apiService;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\services\\authService.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":80,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":80,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":108,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":108,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":120,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":120,"endColumn":13},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":155,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":155,"endColumn":18,"suggestions":[{"fix":{"range":[3176,3220],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":186,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":186,"endColumn":18,"suggestions":[{"fix":{"range":[3963,4000],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":224,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":224,"endColumn":18,"suggestions":[{"fix":{"range":[4796,4846],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":263,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":263,"endColumn":18,"suggestions":[{"fix":{"range":[5725,5770],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":287,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":287,"endColumn":20,"suggestions":[{"fix":{"range":[6285,6327],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Authentication Service\r\n * Handles all authentication-related API calls\r\n */\r\n\r\nimport { isBrowser } from '@/lib/platform'\r\nimport { getItem, setItem, removeItem, getJSON, setJSON } from '@/lib/storage'\r\n\r\n// Next.js API routes - use relative paths in production, localhost in dev\r\nconst API_BASE_URL = isBrowser()\r\n  ? (window.location.hostname === 'localhost' ? 'http://localhost:3000' : '')\r\n  : '';\r\n\r\nexport interface User {\r\n  id: string;\r\n  email: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  role: 'student' | 'parent' | 'teacher' | 'admin' | 'superadmin';\r\n  grade?: string;\r\n  studentId?: string;\r\n  createdAt?: string;\r\n  permissions?: string[];\r\n}\r\n\r\nexport interface AuthResponse {\r\n  success: boolean;\r\n  message: string;\r\n  data?: {\r\n    user: User;\r\n    token: string;\r\n    refreshToken: string;\r\n  };\r\n}\r\n\r\nexport interface VerifyResponse {\r\n  success: boolean;\r\n  message: string;\r\n  data?: {\r\n    user: User;\r\n  };\r\n}\r\n\r\nexport interface RefreshResponse {\r\n  success: boolean;\r\n  message: string;\r\n  data?: {\r\n    token: string;\r\n  };\r\n}\r\n\r\nexport interface RegisterData {\r\n  email: string;\r\n  password: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  role: 'student' | 'parent' | 'teacher';\r\n  grade?: string;\r\n  studentId?: string;\r\n}\r\n\r\nexport interface LoginData {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\n// Token management\r\nconst TOKEN_KEY = 'auth_token';\r\nconst REFRESH_TOKEN_KEY = 'refresh_token';\r\nconst USER_KEY = 'user';\r\n\r\n/**\r\n * Store authentication tokens\r\n */\r\nexport function setTokens(token: string, refreshToken: string): void {\r\n  if (!isBrowser()) return\r\n  try {\r\n    setItem(TOKEN_KEY, token)\r\n    setItem(REFRESH_TOKEN_KEY, refreshToken)\r\n  } catch (e) {\r\n    // ignore storage errors\r\n  }\r\n}\r\n\r\n/**\r\n * Get access token\r\n */\r\nexport function getToken(): string | null {\r\n  return getItem(TOKEN_KEY)\r\n}\r\n\r\n/**\r\n * Get refresh token\r\n */\r\nexport function getRefreshToken(): string | null {\r\n  return getItem(REFRESH_TOKEN_KEY)\r\n}\r\n\r\n/**\r\n * Remove all authentication data\r\n */\r\nexport function clearAuth(): void {\r\n  if (!isBrowser()) return\r\n  try {\r\n    removeItem(TOKEN_KEY)\r\n    removeItem(REFRESH_TOKEN_KEY)\r\n    removeItem(USER_KEY)\r\n  } catch (e) {\r\n    // ignore\r\n  }\r\n}\r\n\r\n/**\r\n * Store user data\r\n */\r\nexport function setUser(user: User): void {\r\n  if (!isBrowser()) return\r\n  try {\r\n    setJSON(USER_KEY, user)\r\n  } catch (e) {\r\n    // ignore\r\n  }\r\n}\r\n\r\n/**\r\n * Get stored user data\r\n */\r\nexport function getUser(): User | null {\r\n  return getJSON<User>(USER_KEY)\r\n}\r\n\r\n/**\r\n * Register a new user\r\n */\r\nexport async function register(data: RegisterData): Promise<AuthResponse> {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/api/auth/register`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    const result = await response.json();\r\n\r\n    if (response.ok && result.success && result.data) {\r\n      // Store tokens and user data\r\n      setTokens(result.data.token, result.data.refreshToken);\r\n      setUser(result.data.user);\r\n    }\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.error('Registration error:', error);\r\n    return {\r\n      success: false,\r\n      message: error instanceof Error ? error.message : 'Failed to register',\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Login user\r\n */\r\nexport async function login(data: LoginData): Promise<AuthResponse> {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/api/auth/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    const result = await response.json();\r\n\r\n    if (response.ok && result.success && result.data) {\r\n      // Store tokens and user data\r\n      setTokens(result.data.token, result.data.refreshToken);\r\n      setUser(result.data.user);\r\n    }\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.error('Login error:', error);\r\n    return {\r\n      success: false,\r\n      message: error instanceof Error ? error.message : 'Failed to login',\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Verify current token and get user data\r\n */\r\nexport async function verifyToken(): Promise<VerifyResponse> {\r\n  const token = getToken();\r\n  \r\n  if (!token) {\r\n    return {\r\n      success: false,\r\n      message: 'No token found',\r\n    };\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/api/auth/verify`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    const result = await response.json();\r\n\r\n    if (response.ok && result.success && result.data) {\r\n      // Update stored user data\r\n      setUser(result.data.user);\r\n    }\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.error('Token verification error:', error);\r\n    return {\r\n      success: false,\r\n      message: error instanceof Error ? error.message : 'Failed to verify token',\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Refresh access token\r\n */\r\nexport async function refreshAccessToken(): Promise<RefreshResponse> {\r\n  const refreshToken = getRefreshToken();\r\n  \r\n  if (!refreshToken) {\r\n    return {\r\n      success: false,\r\n      message: 'No refresh token found',\r\n    };\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/api/auth/refresh`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ refreshToken }),\r\n    });\r\n\r\n    const result = await response.json();\r\n\r\n    if (response.ok && result.success && result.data) {\r\n      // Update access token\r\n      setItem(TOKEN_KEY, result.data.token);\r\n    }\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.error('Token refresh error:', error);\r\n    return {\r\n      success: false,\r\n      message: error instanceof Error ? error.message : 'Failed to refresh token',\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Logout user\r\n */\r\nexport async function logout(): Promise<void> {\r\n  const token = getToken();\r\n  \r\n  if (token) {\r\n    try {\r\n      // Call backend logout endpoint\r\n      await fetch(`${API_BASE_URL}/api/auth/logout`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      console.error('Logout API error:', error);\r\n      // Continue with local cleanup even if API call fails\r\n    }\r\n  }\r\n\r\n  // Clear all auth data\r\n  clearAuth();\r\n}\r\n\r\n/**\r\n * Check if user is authenticated\r\n */\r\nexport function isAuthenticated(): boolean {\r\n  return !!getToken();\r\n}\r\n\r\n/**\r\n * Get authorization header\r\n */\r\nexport function getAuthHeader(): { Authorization: string } | Record<string, never> {\r\n  const token = getToken();\r\n  return token ? { Authorization: `Bearer ${token}` } : {};\r\n}\r\n\r\n/**\r\n * API call with automatic token refresh\r\n */\r\nexport async function authenticatedFetch(\r\n  url: string,\r\n  options: RequestInit = {}\r\n): Promise<Response> {\r\n  const token = getToken();\r\n  \r\n  if (!token) {\r\n    throw new Error('Not authenticated');\r\n  }\r\n\r\n  // Add auth header\r\n  const headers = {\r\n    ...options.headers,\r\n    Authorization: `Bearer ${token}`,\r\n  };\r\n\r\n  // Make request\r\n  let response = await fetch(url, { ...options, headers });\r\n\r\n  // If token expired, try to refresh\r\n  if (response.status === 401) {\r\n    const refreshResult = await refreshAccessToken();\r\n    \r\n    if (refreshResult.success) {\r\n      // Retry with new token\r\n      const newToken = getToken();\r\n      const newHeaders = {\r\n        ...options.headers,\r\n        Authorization: `Bearer ${newToken}`,\r\n      };\r\n      \r\n      response = await fetch(url, { ...options, headers: newHeaders });\r\n    } else {\r\n      // Refresh failed, clear auth and throw\r\n      clearAuth();\r\n      throw new Error('Session expired. Please login again.');\r\n    }\r\n  }\r\n\r\n  return response;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\services\\emailService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\services\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\services\\lmsService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[170,173],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[170,173],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":339,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":339,"endColumn":20,"suggestions":[{"fix":{"range":[10481,10540],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":385,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":385,"endColumn":20,"suggestions":[{"fix":{"range":[11851,11901],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":421,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":421,"endColumn":20,"suggestions":[{"fix":{"range":[13039,13091],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import axios from 'axios';\r\nimport { logger } from '@/lib/logger';\r\n\r\n// LMS (Learning Management System) service configuration\r\nclass LMSService {\r\n  private apiClient: any = null;\r\n  private configured = false;\r\n\r\n  constructor() {\r\n    // Configure API client if LMS API is available\r\n    const lmsBaseUrl = process.env.REACT_APP_LMS_API_URL;\r\n    const lmsApiKey = process.env.REACT_APP_LMS_API_KEY;\r\n\r\n    if (lmsBaseUrl && lmsApiKey) {\r\n      this.apiClient = axios.create({\r\n        baseURL: lmsBaseUrl,\r\n        headers: {\r\n          'Authorization': `Bearer ${lmsApiKey}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      this.configured = true;\r\n    }\r\n  }\r\n\r\n  // Course management\r\n  async getCourses(studentId?: string) {\r\n    try {\r\n      if (this.configured && this.apiClient) {\r\n        const response = await this.apiClient.get('/courses', {\r\n          params: studentId ? { studentId } : {}\r\n        });\r\n        return { success: true, data: response.data };\r\n      } else {\r\n        // Mock data for development\r\n        return {\r\n          success: true,\r\n          data: [\r\n            {\r\n              id: '1',\r\n              title: 'Mathematics Grade 7',\r\n              description: 'Advanced mathematics for grade 7 students',\r\n              teacher: 'Mr. Wilson',\r\n              enrolledStudents: 25,\r\n              lessons: 45,\r\n              progress: 78,\r\n            },\r\n            {\r\n              id: '2',\r\n              title: 'English Literature',\r\n              description: 'Comprehensive English literature studies',\r\n              teacher: 'Mrs. Johnson',\r\n              enrolledStudents: 22,\r\n              lessons: 38,\r\n              progress: 65,\r\n            },\r\n            {\r\n              id: '3',\r\n              title: 'Science Experiments',\r\n              description: 'Hands-on science experiments and projects',\r\n              teacher: 'Dr. Brown',\r\n              enrolledStudents: 28,\r\n              lessons: 52,\r\n              progress: 82,\r\n            }\r\n          ]\r\n        };\r\n      }\r\n    } catch (error) {\r\n      logger.error('Error fetching courses', error);\r\n      return { success: false, error };\r\n    }\r\n  }\r\n\r\n  async getCourseContent(courseId: string) {\r\n    try {\r\n      if (this.configured && this.apiClient) {\r\n        const response = await this.apiClient.get(`/courses/${courseId}/content`);\r\n        return { success: true, data: response.data };\r\n      } else {\r\n        // Mock course content\r\n        return {\r\n          success: true,\r\n          data: {\r\n            id: courseId,\r\n            title: 'Sample Course',\r\n            modules: [\r\n              {\r\n                id: '1',\r\n                title: 'Introduction',\r\n                lessons: [\r\n                  {\r\n                    id: '1',\r\n                    title: 'Welcome to the Course',\r\n                    type: 'video',\r\n                    duration: 300,\r\n                    completed: true,\r\n                  },\r\n                  {\r\n                    id: '2',\r\n                    title: 'Course Overview',\r\n                    type: 'text',\r\n                    duration: 600,\r\n                    completed: true,\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                id: '2',\r\n                title: 'Basic Concepts',\r\n                lessons: [\r\n                  {\r\n                    id: '3',\r\n                    title: 'Fundamental Principles',\r\n                    type: 'video',\r\n                    duration: 900,\r\n                    completed: false,\r\n                  },\r\n                  {\r\n                    id: '4',\r\n                    title: 'Practice Exercises',\r\n                    type: 'quiz',\r\n                    duration: 1200,\r\n                    completed: false,\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        };\r\n      }\r\n    } catch (error) {\r\n      logger.error('Error fetching course content', error);\r\n      return { success: false, error };\r\n    }\r\n  }\r\n\r\n  // Assignment management\r\n  async getAssignments(studentId?: string) {\r\n    try {\r\n      if (this.configured && this.apiClient) {\r\n        const response = await this.apiClient.get('/assignments', {\r\n          params: studentId ? { studentId } : {}\r\n        });\r\n        return { success: true, data: response.data };\r\n      } else {\r\n        // Mock assignments\r\n        return {\r\n          success: true,\r\n          data: [\r\n            {\r\n              id: '1',\r\n              title: 'Mathematics Homework',\r\n              course: 'Mathematics Grade 7',\r\n              dueDate: new Date(Date.now() + 3 * 24 * 60 * 60 * 1000),\r\n              status: 'pending',\r\n              description: 'Complete exercises 1-10 from chapter 5',\r\n              points: 20,\r\n            },\r\n            {\r\n              id: '2',\r\n              title: 'Science Project',\r\n              course: 'Science Experiments',\r\n              dueDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000),\r\n              status: 'in-progress',\r\n              description: 'Research and present findings on renewable energy',\r\n              points: 50,\r\n            }\r\n          ]\r\n        };\r\n      }\r\n    } catch (error) {\r\n      logger.error('Error fetching assignments', error);\r\n      return { success: false, error };\r\n    }\r\n  }\r\n\r\n  async submitAssignment(assignmentId: string, file: File, studentId: string) {\r\n    try {\r\n      if (this.configured && this.apiClient) {\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n        formData.append('studentId', studentId);\r\n\r\n        const response = await this.apiClient.post(`/assignments/${assignmentId}/submit`, formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        });\r\n        return { success: true, data: response.data };\r\n      } else {\r\n        // Mock submission (dev only logging)\r\n        logger.debug('Mock assignment submission', { assignmentId, file: file.name, studentId });\r\n        return { success: true, data: { submissionId: 'mock-' + Date.now() } };\r\n      }\r\n    } catch (error) {\r\n      logger.error('Error submitting assignment', error);\r\n      return { success: false, error };\r\n    }\r\n  }\r\n\r\n  // Grade management\r\n  async getGrades(studentId: string) {\r\n    try {\r\n      if (this.configured && this.apiClient) {\r\n        const response = await this.apiClient.get(`/grades/${studentId}`);\r\n        return { success: true, data: response.data };\r\n      } else {\r\n        // Mock grades\r\n        return {\r\n          success: true,\r\n          data: {\r\n            studentId,\r\n            studentName: 'John Smith',\r\n            term: 'Term 2 2024',\r\n            overallGrade: 'A-',\r\n            subjects: [\r\n              {\r\n                name: 'Mathematics',\r\n                grade: 'A',\r\n                percentage: 92,\r\n                rank: 3,\r\n                totalStudents: 25,\r\n              },\r\n              {\r\n                name: 'English',\r\n                grade: 'B+',\r\n                percentage: 87,\r\n                rank: 5,\r\n                totalStudents: 25,\r\n              },\r\n              {\r\n                name: 'Science',\r\n                grade: 'A-',\r\n                percentage: 89,\r\n                rank: 4,\r\n                totalStudents: 25,\r\n              }\r\n            ]\r\n          }\r\n        };\r\n      }\r\n    } catch (error) {\r\n      logger.error('Error fetching grades', error);\r\n      return { success: false, error };\r\n    }\r\n  }\r\n\r\n  // Progress tracking\r\n  async getStudentProgress(studentId: string) {\r\n    try {\r\n      if (this.configured && this.apiClient) {\r\n        const response = await this.apiClient.get(`/progress/${studentId}`);\r\n        return { success: true, data: response.data };\r\n      } else {\r\n        // Mock progress data\r\n        return {\r\n          success: true,\r\n          data: {\r\n            studentId,\r\n            studentName: 'John Smith',\r\n            overallProgress: 76,\r\n            coursesProgress: [\r\n              {\r\n                courseId: '1',\r\n                courseName: 'Mathematics Grade 7',\r\n                progress: 85,\r\n                completedLessons: 38,\r\n                totalLessons: 45,\r\n                currentModule: 'Advanced Algebra',\r\n              },\r\n              {\r\n                courseId: '2',\r\n                courseName: 'English Literature',\r\n                progress: 62,\r\n                completedLessons: 24,\r\n                totalLessons: 38,\r\n                currentModule: 'Shakespeare Studies',\r\n              }\r\n            ],\r\n            achievements: [\r\n              {\r\n                id: '1',\r\n                title: 'Math Whiz',\r\n                description: 'Completed 80% of mathematics course',\r\n                earnedDate: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),\r\n              },\r\n              {\r\n                id: '2',\r\n                title: 'Speed Reader',\r\n                description: 'Completed 10 reading assignments',\r\n                earnedDate: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),\r\n              }\r\n            ]\r\n          }\r\n        };\r\n      }\r\n    } catch (error) {\r\n      logger.error('Error fetching student progress', error);\r\n      return { success: false, error };\r\n    }\r\n  }\r\n\r\n  // Virtual classroom integration\r\n  async getVirtualClassrooms(studentId?: string) {\r\n    try {\r\n      if (this.configured && this.apiClient) {\r\n        const response = await this.apiClient.get('/virtual-classrooms', {\r\n          params: studentId ? { studentId } : {}\r\n        });\r\n        return { success: true, data: response.data };\r\n      } else {\r\n        // Mock virtual classrooms\r\n        return {\r\n          success: true,\r\n          data: [\r\n            {\r\n              id: '1',\r\n              title: 'Mathematics Live Class',\r\n              teacher: 'Mr. Wilson',\r\n              schedule: 'Monday, Wednesday 10:00 AM',\r\n              meetingId: 'math-101',\r\n              participants: 25,\r\n              status: 'scheduled',\r\n            },\r\n            {\r\n              id: '2',\r\n              title: 'Science Lab Session',\r\n              teacher: 'Dr. Brown',\r\n              schedule: 'Tuesday, Thursday 2:00 PM',\r\n              meetingId: 'science-201',\r\n              participants: 22,\r\n              status: 'in-progress',\r\n            }\r\n          ]\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching virtual classrooms:', error);\r\n      return { success: false, error };\r\n    }\r\n  }\r\n\r\n  // Resource management\r\n  async getResources(courseId?: string) {\r\n    try {\r\n      if (this.configured && this.apiClient) {\r\n        const response = await this.apiClient.get('/resources', {\r\n          params: courseId ? { courseId } : {}\r\n        });\r\n        return { success: true, data: response.data };\r\n      } else {\r\n        // Mock resources\r\n        return {\r\n          success: true,\r\n          data: [\r\n            {\r\n              id: '1',\r\n              title: 'Mathematics Formula Sheet',\r\n              type: 'pdf',\r\n              size: '2.5 MB',\r\n              downloadUrl: '/resources/math-formulas.pdf',\r\n              courseId: '1',\r\n            },\r\n            {\r\n              id: '2',\r\n              title: 'Science Lab Safety Guidelines',\r\n              type: 'pdf',\r\n              size: '1.8 MB',\r\n              downloadUrl: '/resources/lab-safety.pdf',\r\n              courseId: '3',\r\n            },\r\n            {\r\n              id: '3',\r\n              title: 'English Literature Study Guide',\r\n              type: 'pdf',\r\n              size: '3.2 MB',\r\n              downloadUrl: '/resources/literature-guide.pdf',\r\n              courseId: '2',\r\n            }\r\n          ]\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching resources:', error);\r\n      return { success: false, error };\r\n    }\r\n  }\r\n\r\n  // Discussion forums\r\n  async getDiscussions(courseId: string) {\r\n    try {\r\n      if (this.configured && this.apiClient) {\r\n        const response = await this.apiClient.get(`/courses/${courseId}/discussions`);\r\n        return { success: true, data: response.data };\r\n      } else {\r\n        // Mock discussions\r\n        return {\r\n          success: true,\r\n          data: [\r\n            {\r\n              id: '1',\r\n              title: 'Understanding Quadratic Equations',\r\n              author: 'Mr. Wilson',\r\n              createdDate: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),\r\n              replies: 8,\r\n              lastActivity: new Date(Date.now() - 6 * 60 * 60 * 1000),\r\n            },\r\n            {\r\n              id: '2',\r\n              title: 'Essay Writing Tips',\r\n              author: 'Mrs. Johnson',\r\n              createdDate: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),\r\n              replies: 12,\r\n              lastActivity: new Date(Date.now() - 2 * 60 * 60 * 1000),\r\n            }\r\n          ]\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching discussions:', error);\r\n      return { success: false, error };\r\n    }\r\n  }\r\n\r\n  // Check if LMS is available\r\n  isConfigured(): boolean {\r\n    return this.configured;\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const lmsService = new LMSService();\r\nexport default lmsService;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\services\\smsService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[140,143],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[140,143],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1721,1724],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1721,1724],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":56,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2143,2146],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2143,2146],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":68,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2707,2710],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2707,2710],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":74,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3040,3043],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3040,3043],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import twilio from 'twilio';\r\nimport { logger } from '@/lib/logger';\r\n\r\n// SMS service configuration\r\nclass SMSService {\r\n  private client: any = null;\r\n  private configured = false;\r\n\r\n  constructor() {\r\n    // Configure Twilio if credentials are available\r\n    const accountSid = process.env.REACT_APP_TWILIO_ACCOUNT_SID;\r\n    const authToken = process.env.REACT_APP_TWILIO_AUTH_TOKEN;\r\n    const fromNumber = process.env.REACT_APP_TWILIO_PHONE_NUMBER;\r\n\r\n    if (accountSid && authToken && fromNumber) {\r\n      this.client = twilio(accountSid, authToken);\r\n      this.configured = true;\r\n    }\r\n  }\r\n\r\n  async sendSMS(to: string, message: string) {\r\n    // Validate phone number format (basic validation)\r\n    const phoneRegex = /^\\+[1-9]\\d{1,14}$/;\r\n    if (!phoneRegex.test(to)) {\r\n      return { success: false, error: 'Invalid phone number format. Use international format: +1234567890' };\r\n    }\r\n\r\n    try {\r\n      if (this.configured && this.client) {\r\n        const result = await this.client.messages.create({\r\n          body: message,\r\n          from: process.env.REACT_APP_TWILIO_PHONE_NUMBER,\r\n          to: to\r\n        });\r\n\r\n        logger.info('SMS sent via Twilio', { sid: result.sid });\r\n        return { success: true, messageId: result.sid };\r\n      } else {\r\n        // Mock SMS sending for development\r\n        logger.debug('Mock SMS sent', { to, preview: message.substring(0, 50) + '...' });\r\n        return { success: true, mock: true, messageId: 'mock-' + Date.now() };\r\n      }\r\n    } catch (error) {\r\n      logger.error('SMS sending failed', error);\r\n      return { success: false, error };\r\n    }\r\n  }\r\n\r\n  // Pre-built SMS templates\r\n  async sendMeetingReminder(to: string, meetingDetails: any) {\r\n    const message = `Regisbridge School: Your meeting \"${meetingDetails.topic}\" with ${meetingDetails.teacherName} is scheduled for ${meetingDetails.date} at ${meetingDetails.time}. ${meetingDetails.meetingType === 'virtual' ? 'Meeting link will be sent 15 minutes before.' : 'Please arrive 10 minutes early.'}`;\r\n\r\n    return this.sendSMS(to, message);\r\n  }\r\n\r\n  async sendEventReminder(to: string, eventDetails: any) {\r\n    const message = `Regisbridge School: Reminder - ${eventDetails.title} on ${eventDetails.date} at ${eventDetails.time}. Location: ${eventDetails.location}. We look forward to seeing you!`;\r\n\r\n    return this.sendSMS(to, message);\r\n  }\r\n\r\n  async sendEmergencyAlert(to: string, alertMessage: string) {\r\n    const message = `URGENT: Regisbridge School Alert - ${alertMessage}. Please check your email or contact the school office for more details.`;\r\n\r\n    return this.sendSMS(to, message);\r\n  }\r\n\r\n  async sendGradeNotification(to: string, gradeDetails: any) {\r\n    const message = `Regisbridge School: ${gradeDetails.studentName}'s ${gradeDetails.term} report is ready. Overall grade: ${gradeDetails.overallGrade}. Please log in to the parent portal to view the complete report.`;\r\n\r\n    return this.sendSMS(to, message);\r\n  }\r\n\r\n  async sendPaymentReminder(to: string, paymentDetails: any) {\r\n    const message = `Regisbridge School: Payment reminder for ${paymentDetails.studentName}. Amount: ${paymentDetails.amount}. Due date: ${paymentDetails.dueDate}. Please ensure payment is made on time.`;\r\n\r\n    return this.sendSMS(to, message);\r\n  }\r\n\r\n  async sendWelcomeMessage(to: string, studentName: string) {\r\n    const message = `Welcome to Regisbridge School, ${studentName}! We're excited to have you join our community. Your parent portal access details have been sent to your email.`;\r\n\r\n    return this.sendSMS(to, message);\r\n  }\r\n\r\n  // Bulk SMS sending for campaigns\r\n  async sendBulkSMS(recipients: string[], message: string) {\r\n    const results = [];\r\n\r\n    for (const recipient of recipients) {\r\n      try {\r\n        const result = await this.sendSMS(recipient, message);\r\n        results.push({ recipient, ...result });\r\n        // Add small delay between messages to avoid rate limiting\r\n        await new Promise(resolve => setTimeout(resolve, 100));\r\n      } catch (error) {\r\n        results.push({ recipient, success: false, error });\r\n      }\r\n    }\r\n\r\n    return results;\r\n  }\r\n\r\n  // Format phone number to international format\r\n  formatPhoneNumber(phoneNumber: string, countryCode: string = '+263'): string {\r\n    // Remove all non-digit characters\r\n    const digitsOnly = phoneNumber.replace(/\\D/g, '');\r\n\r\n    // If it starts with country code, add +\r\n    if (digitsOnly.startsWith(countryCode.replace('+', ''))) {\r\n      return '+' + digitsOnly;\r\n    }\r\n\r\n    // If it starts with 0, replace with country code\r\n    if (digitsOnly.startsWith('0')) {\r\n      return countryCode + digitsOnly.substring(1);\r\n    }\r\n\r\n    // If it doesn't start with +, assume it's local and add country code\r\n    if (!digitsOnly.startsWith('+')) {\r\n      return countryCode + digitsOnly;\r\n    }\r\n\r\n    return phoneNumber;\r\n  }\r\n\r\n  // Validate phone number\r\n  isValidPhoneNumber(phoneNumber: string): boolean {\r\n    const phoneRegex = /^\\+[1-9]\\d{1,14}$/;\r\n    return phoneRegex.test(phoneNumber);\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const smsService = new SMSService();\r\nexport default smsService;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\services\\socket.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":101,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":101,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2746,2749],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2746,2749],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":105,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2853,2856],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2853,2856],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":109,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2954,2957],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2954,2957],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":113,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":113,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3051,3054],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3051,3054],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":117,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":117,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3154,3157],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3154,3157],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { io, Socket } from 'socket.io-client';\r\nimport { logger } from '@/lib/logger';\r\n\r\nclass SocketService {\r\n  private socket: Socket | null = null;\r\n  private reconnectAttempts = 0;\r\n  private maxReconnectAttempts = 5;\r\n\r\n  connect(userId?: string, token?: string) {\r\n    if (this.socket?.connected) {\r\n      return this.socket;\r\n    }\r\n\r\n    // In production, replace with your actual Socket.IO server URL\r\n    const serverUrl = process.env.REACT_APP_SOCKET_URL || 'http://localhost:3001';\r\n\r\n    this.socket = io(serverUrl, {\r\n      auth: {\r\n        userId,\r\n        token,\r\n      },\r\n      transports: ['websocket', 'polling'],\r\n      timeout: 20000,\r\n      forceNew: true,\r\n    });\r\n\r\n    this.setupEventListeners();\r\n    return this.socket;\r\n  }\r\n\r\n  private setupEventListeners() {\r\n    if (!this.socket) return;\r\n\r\n    this.socket.on('connect', () => {\r\n      logger.debug('Connected to chat server');\r\n      this.reconnectAttempts = 0;\r\n    });\r\n\r\n    this.socket.on('disconnect', (reason) => {\r\n      logger.debug('Disconnected from chat server', reason);\r\n      if (reason === 'io server disconnect') {\r\n        // Server disconnected, try to reconnect\r\n        this.attemptReconnect();\r\n      }\r\n    });\r\n\r\n    this.socket.on('connect_error', (error) => {\r\n      logger.error('Socket connection error', error);\r\n      this.attemptReconnect();\r\n    });\r\n\r\n    this.socket.on('reconnect', (attemptNumber) => {\r\n      logger.info('Reconnected to chat server', { attemptNumber });\r\n    });\r\n\r\n    this.socket.on('reconnect_error', (error) => {\r\n      logger.error('Reconnection error', error);\r\n    });\r\n\r\n    this.socket.on('reconnect_failed', () => {\r\n      logger.error('Failed to reconnect to chat server');\r\n    });\r\n  }\r\n\r\n  private attemptReconnect() {\r\n    if (this.reconnectAttempts < this.maxReconnectAttempts) {\r\n      this.reconnectAttempts++;\r\n      setTimeout(() => {\r\n        logger.debug('Attempting socket reconnect', { attempt: this.reconnectAttempts, max: this.maxReconnectAttempts });\r\n        this.socket?.connect();\r\n      }, 1000 * this.reconnectAttempts); // Exponential backoff\r\n    }\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.socket) {\r\n      this.socket.disconnect();\r\n      this.socket = null;\r\n    }\r\n  }\r\n\r\n  // Chat room methods\r\n  joinRoom(roomId: string) {\r\n    this.socket?.emit('join_room', { roomId });\r\n  }\r\n\r\n  leaveRoom(roomId: string) {\r\n    this.socket?.emit('leave_room', { roomId });\r\n  }\r\n\r\n  sendMessage(roomId: string, message: string, messageType: 'text' | 'image' | 'file' = 'text') {\r\n    this.socket?.emit('send_message', {\r\n      roomId,\r\n      message,\r\n      messageType,\r\n      timestamp: new Date().toISOString(),\r\n    });\r\n  }\r\n\r\n  // Event listeners\r\n  onMessage(callback: (data: any) => void) {\r\n    this.socket?.on('receive_message', callback);\r\n  }\r\n\r\n  onUserJoined(callback: (data: any) => void) {\r\n    this.socket?.on('user_joined', callback);\r\n  }\r\n\r\n  onUserLeft(callback: (data: any) => void) {\r\n    this.socket?.on('user_left', callback);\r\n  }\r\n\r\n  onTyping(callback: (data: any) => void) {\r\n    this.socket?.on('user_typing', callback);\r\n  }\r\n\r\n  onStopTyping(callback: (data: any) => void) {\r\n    this.socket?.on('user_stop_typing', callback);\r\n  }\r\n\r\n  // Typing indicators\r\n  startTyping(roomId: string) {\r\n    this.socket?.emit('start_typing', { roomId });\r\n  }\r\n\r\n  stopTyping(roomId: string) {\r\n    this.socket?.emit('stop_typing', { roomId });\r\n  }\r\n\r\n  // File sharing\r\n  sendFile(roomId: string, file: File) {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('roomId', roomId);\r\n\r\n    // In a real implementation, you'd upload the file to your server first\r\n    // and then send the file URL via socket\r\n    this.socket?.emit('send_file', {\r\n      roomId,\r\n      fileName: file.name,\r\n      fileSize: file.size,\r\n      fileType: file.type,\r\n    });\r\n  }\r\n\r\n  // Get current socket instance\r\n  getSocket() {\r\n    return this.socket;\r\n  }\r\n\r\n  // Check connection status\r\n  isConnected() {\r\n    return this.socket?.connected || false;\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const socketService = new SocketService();\r\nexport default socketService;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\types\\admin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\types\\api.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":235,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":235,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5297,5300],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5297,5300],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// API Response Types\r\nexport interface GradeResponse {\r\n    id: string\r\n    studentId: string\r\n    subjectId: string\r\n    score: number\r\n    maxScore: number\r\n    percentage: number\r\n    letterGrade: string\r\n    term: string\r\n    academicYear: string\r\n    assessmentType: string\r\n    weight: number\r\n    comments?: string\r\n    createdAt: string\r\n    updatedAt: string\r\n}\r\n\r\nexport interface AssignmentResponse {\r\n    id: string\r\n    title: string\r\n    description: string\r\n    subjectId: string\r\n    dueDate: string\r\n    totalPoints: number\r\n    status: 'pending' | 'submitted' | 'graded' | 'overdue'\r\n    fileUrl?: string\r\n    createdAt: string\r\n    updatedAt: string\r\n}\r\n\r\nexport interface AssignmentSubmissionResponse {\r\n    id: string\r\n    assignmentId: string\r\n    studentId: string\r\n    fileUrl?: string\r\n    textSubmission?: string\r\n    score?: number\r\n    feedback?: string\r\n    status: 'submitted' | 'graded' | 'returned'\r\n    submittedAt: string\r\n    gradedAt?: string\r\n}\r\n\r\nexport interface AttendanceResponse {\r\n    id: string\r\n    studentId: string\r\n    date: string\r\n    status: 'present' | 'absent' | 'late' | 'excused'\r\n    notes?: string\r\n    markedBy: string\r\n    createdAt: string\r\n}\r\n\r\nexport interface StudentResponse {\r\n    id: string\r\n    userId: string\r\n    enrollmentDate: string\r\n    currentGrade: string\r\n    rollNumber: string\r\n    parentInfo: ParentInfo\r\n    status: 'active' | 'inactive' | 'graduated'\r\n    user?: UserResponse\r\n}\r\n\r\nexport interface UserResponse {\r\n    id: string\r\n    email: string\r\n    firstName: string\r\n    lastName: string\r\n    role: 'admin' | 'teacher' | 'student' | 'parent'\r\n    status: 'active' | 'inactive' | 'suspended'\r\n    permissions?: string[]\r\n    createdAt: string\r\n    updatedAt: string\r\n}\r\n\r\nexport interface SubjectResponse {\r\n    id: string\r\n    name: string\r\n    code: string\r\n    grade: string\r\n    teacherId: string\r\n    teacher?: UserResponse\r\n    createdAt: string\r\n    updatedAt: string\r\n}\r\n\r\nexport interface FeePaymentResponse {\r\n    id: string\r\n    studentId: string\r\n    amount: number\r\n    feeType: string\r\n    term: string\r\n    academicYear: string\r\n    status: 'pending' | 'paid' | 'overdue' | 'partial'\r\n    paymentDate?: string\r\n    paymentMethod?: string\r\n    receiptNumber?: string\r\n    transactionId?: string\r\n    dueDate: string\r\n    paidAmount: number\r\n    balance: number\r\n    notes?: string\r\n    recordedBy: string\r\n    createdAt: string\r\n    updatedAt: string\r\n}\r\n\r\nexport interface FinancialReportResponse {\r\n    id: string\r\n    reportType: 'income_expenditure' | 'balance_sheet' | 'cash_flow' | 'budget'\r\n    title: string\r\n    periodStart: string\r\n    periodEnd: string\r\n    periodLabel: string\r\n    openingBalance: CurrencyBalance[]\r\n    closingBalance: CurrencyBalance[]\r\n    income: IncomeCategory[]\r\n    expenses: ExpenseCategory[]\r\n    totalIncome: CurrencyBalance[]\r\n    totalExpenses: CurrencyBalance[]\r\n    netPosition: CurrencyBalance[]\r\n    status: 'draft' | 'pending_approval' | 'approved' | 'archived'\r\n    approvalData?: ApprovalData\r\n    documentUrl?: string\r\n    notes?: string\r\n    createdBy: string\r\n    createdAt: string\r\n    updatedAt: string\r\n}\r\n\r\n// Supporting Types\r\nexport interface ParentInfo {\r\n    fatherName?: string\r\n    fatherContact?: string\r\n    fatherEmail?: string\r\n    motherName?: string\r\n    motherContact?: string\r\n    motherEmail?: string\r\n    guardianName?: string\r\n    guardianContact?: string\r\n    guardianEmail?: string\r\n}\r\n\r\nexport interface CurrencyBalance {\r\n    currency: string\r\n    amount: number\r\n}\r\n\r\nexport interface IncomeCategory {\r\n    category: string\r\n    amount: CurrencyBalance[]\r\n    description?: string\r\n}\r\n\r\nexport interface ExpenseCategory {\r\n    category: string\r\n    amount: CurrencyBalance[]\r\n    description?: string\r\n}\r\n\r\nexport interface ApprovalData {\r\n    approvedBy: string\r\n    approvedAt: string\r\n    signatures?: string[]\r\n}\r\n\r\n// API Request Types\r\nexport interface CreateGradeRequest {\r\n    studentId: string\r\n    subjectId: string\r\n    score: number\r\n    maxScore: number\r\n    term: string\r\n    academicYear: string\r\n    assessmentType: string\r\n    weight: number\r\n    comments?: string\r\n}\r\n\r\nexport interface CreateAssignmentRequest {\r\n    title: string\r\n    description: string\r\n    subjectId: string\r\n    dueDate: string\r\n    totalPoints: number\r\n}\r\n\r\nexport interface MarkAttendanceRequest {\r\n    studentId: string\r\n    date: string\r\n    status: 'present' | 'absent' | 'late' | 'excused'\r\n    notes?: string\r\n}\r\n\r\nexport interface CreateStudentRequest {\r\n    userId: string\r\n    enrollmentDate: string\r\n    currentGrade: string\r\n    rollNumber: string\r\n    parentInfo: ParentInfo\r\n}\r\n\r\nexport interface CreateUserRequest {\r\n    email: string\r\n    password: string\r\n    firstName: string\r\n    lastName: string\r\n    role: 'admin' | 'teacher' | 'student' | 'parent'\r\n    permissions?: string[]\r\n}\r\n\r\n// Generic API Types\r\nexport interface ApiResponse<T> {\r\n    success: boolean\r\n    data?: T\r\n    error?: string\r\n    message?: string\r\n}\r\n\r\nexport interface PaginatedResponse<T> {\r\n    data: T[]\r\n    pagination: {\r\n        page: number\r\n        pageSize: number\r\n        total: number\r\n        totalPages: number\r\n    }\r\n}\r\n\r\nexport interface ApiError {\r\n    code: string\r\n    message: string\r\n    details?: Record<string, any>\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\types\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\utils\\navigation.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":24,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Navigation utility functions\r\n * Shared helpers for smooth scrolling and navigation\r\n */\r\nimport { isBrowser, safeWindow } from '@/lib/platform'\r\n\r\n/**\r\n * Smooth scroll to a section by ID\r\n * @param sectionId The ID of the section to scroll to\r\n */\r\nexport const scrollToSection = (sectionId: string): void => {\r\n  if (!isBrowser()) return\r\n  const element = document.getElementById(sectionId)\r\n  if (!element) return\r\n  try {\r\n    const headerOffset = 80 // Account for fixed header height\r\n    const elementPosition = element.getBoundingClientRect().top\r\n    const offsetPosition = elementPosition + (window.pageYOffset || window.scrollY) - headerOffset\r\n\r\n    window.scrollTo({\r\n      top: offsetPosition,\r\n      behavior: 'smooth',\r\n    })\r\n  } catch (e) {\r\n    // If anything fails, attempt a simple focus fallback\r\n    element.focus?.()\r\n  }\r\n}\r\n\r\n/**\r\n * Scroll to top of page\r\n */\r\nexport const scrollToTop = (): void => {\r\n  if (!isBrowser()) return\r\n  safeWindow(() => window.scrollTo({ top: 0, behavior: 'smooth' }))\r\n}\r\n\r\n/**\r\n * Check if an element is in viewport\r\n * @param element The element to check\r\n * @param offset Optional offset in pixels\r\n * @returns boolean indicating if element is visible\r\n */\r\nexport const isElementInViewport = (element: HTMLElement, offset: number = 0): boolean => {\r\n  if (!isBrowser()) return false\r\n  const rect = element.getBoundingClientRect()\r\n  return (\r\n    rect.top >= -offset &&\r\n    rect.left >= 0 &&\r\n    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) + offset &&\r\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth)\r\n  )\r\n}\r\n\r\n/**\r\n * Throttle function execution\r\n * @param func The function to throttle\r\n * @param delay Delay in milliseconds\r\n * @returns Throttled function\r\n */\r\nexport const throttle = <T extends (...args: never[]) => unknown>(\r\n  func: T,\r\n  delay: number\r\n): ((...args: Parameters<T>) => void) => {\r\n  let lastCall = 0;\r\n  return (...args: Parameters<T>) => {\r\n    const now = Date.now();\r\n    if (now - lastCall >= delay) {\r\n      lastCall = now;\r\n      func(...args);\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * Debounce function execution\r\n * @param func The function to debounce\r\n * @param delay Delay in milliseconds\r\n * @returns Debounced function\r\n */\r\nexport const debounce = <T extends (...args: never[]) => unknown>(\r\n  func: T,\r\n  delay: number\r\n): ((...args: Parameters<T>) => void) => {\r\n  let timeoutId: ReturnType<typeof setTimeout>;\r\n  return (...args: Parameters<T>) => {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => func(...args), delay);\r\n  };\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\utils\\validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\armut\\OneDrive\\Desktop\\regisbridge.page\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]